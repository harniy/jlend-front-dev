import{N as Me,g as wt,r as I,H as Ke,O as zn,w as Y,P as Kn,c as F,Q as oe,R as Hn,I as Un,G as kt,S as qn,T as Xe,U as Yn,V as Et,W as Gn,X as Jn,Y as dn,Z as Xn,$ as Zn,d as se,s as Ze,a0 as Bt,M as it,a1 as fn,v as Ft,a2 as Pe,a3 as Qn,a4 as eo,a5 as to,a6 as pt,a7 as Mt,h as ne,o as $,l as U,j as q,k as j,u as m,a8 as St,p as pe,A as jt,e as X,a9 as no,a as W,E as H,aa as de,ab as ge,ac as vn,f as Ve,t as ee,F as Pt,ad as mt,ae as oo,b as Se,B as Wt,n as He,af as ao,ag as ro,y as We,q as lo,ah as pn,ai as io,aj as zt,ak as so,al as co,am as uo,an as fo,ao as vo,ap as po,m as mo,z as mn,i as bn,_ as yn,aq as bo,ar as yo,as as Be,at as ho,au as go}from"./BJUxEtg5.js";import{i as wo,u as hn,D as De,a as Vt,h as Kt,j as ko,b as Nt,k as So,f as xo,g as ve,e as Ao,o as Co}from"./Cd1Lq6Ri.js";var gn=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],Qe=gn.join(","),wn=typeof Element>"u",Ae=wn?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,et=!wn&&Element.prototype.getRootNode?function(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}:function(t){return t?.ownerDocument},tt=function t(e,n){var o;n===void 0&&(n=!0);var a=e==null||(o=e.getAttribute)===null||o===void 0?void 0:o.call(e,"inert"),l=a===""||a==="true",r=l||n&&e&&t(e.parentNode);return r},To=function(e){var n,o=e==null||(n=e.getAttribute)===null||n===void 0?void 0:n.call(e,"contenteditable");return o===""||o==="true"},kn=function(e,n,o){if(tt(e))return[];var a=Array.prototype.slice.apply(e.querySelectorAll(Qe));return n&&Ae.call(e,Qe)&&a.unshift(e),a=a.filter(o),a},Sn=function t(e,n,o){for(var a=[],l=Array.from(e);l.length;){var r=l.shift();if(!tt(r,!1))if(r.tagName==="SLOT"){var c=r.assignedElements(),d=c.length?c:r.children,f=t(d,!0,o);o.flatten?a.push.apply(a,f):a.push({scopeParent:r,candidates:f})}else{var s=Ae.call(r,Qe);s&&o.filter(r)&&(n||!e.includes(r))&&a.push(r);var i=r.shadowRoot||typeof o.getShadowRoot=="function"&&o.getShadowRoot(r),p=!tt(i,!1)&&(!o.shadowRootFilter||o.shadowRootFilter(r));if(i&&p){var b=t(i===!0?r.children:i.children,!0,o);o.flatten?a.push.apply(a,b):a.push({scopeParent:r,candidates:b})}else l.unshift.apply(l,r.children)}}return a},xn=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},ke=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||To(e))&&!xn(e)?0:e.tabIndex},Eo=function(e,n){var o=ke(e);return o<0&&n&&!xn(e)?0:o},Bo=function(e,n){return e.tabIndex===n.tabIndex?e.documentOrder-n.documentOrder:e.tabIndex-n.tabIndex},An=function(e){return e.tagName==="INPUT"},Fo=function(e){return An(e)&&e.type==="hidden"},Po=function(e){var n=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(o){return o.tagName==="SUMMARY"});return n},Vo=function(e,n){for(var o=0;o<e.length;o++)if(e[o].checked&&e[o].form===n)return e[o]},No=function(e){if(!e.name)return!0;var n=e.form||et(e),o=function(c){return n.querySelectorAll('input[type="radio"][name="'+c+'"]')},a;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")a=o(window.CSS.escape(e.name));else try{a=o(e.name)}catch(r){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",r.message),!1}var l=Vo(a,e.form);return!l||l===e},Do=function(e){return An(e)&&e.type==="radio"},Ro=function(e){return Do(e)&&!No(e)},Lo=function(e){var n,o=e&&et(e),a=(n=o)===null||n===void 0?void 0:n.host,l=!1;if(o&&o!==e){var r,c,d;for(l=!!((r=a)!==null&&r!==void 0&&(c=r.ownerDocument)!==null&&c!==void 0&&c.contains(a)||e!=null&&(d=e.ownerDocument)!==null&&d!==void 0&&d.contains(e));!l&&a;){var f,s,i;o=et(a),a=(f=o)===null||f===void 0?void 0:f.host,l=!!((s=a)!==null&&s!==void 0&&(i=s.ownerDocument)!==null&&i!==void 0&&i.contains(a))}}return l},Ht=function(e){var n=e.getBoundingClientRect(),o=n.width,a=n.height;return o===0&&a===0},$o=function(e,n){var o=n.displayCheck,a=n.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var l=Ae.call(e,"details>summary:first-of-type"),r=l?e.parentElement:e;if(Ae.call(r,"details:not([open]) *"))return!0;if(!o||o==="full"||o==="legacy-full"){if(typeof a=="function"){for(var c=e;e;){var d=e.parentElement,f=et(e);if(d&&!d.shadowRoot&&a(d)===!0)return Ht(e);e.assignedSlot?e=e.assignedSlot:!d&&f!==e.ownerDocument?e=f.host:e=d}e=c}if(Lo(e))return!e.getClientRects().length;if(o!=="legacy-full")return!0}else if(o==="non-zero-area")return Ht(e);return!1},Oo=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var n=e.parentElement;n;){if(n.tagName==="FIELDSET"&&n.disabled){for(var o=0;o<n.children.length;o++){var a=n.children.item(o);if(a.tagName==="LEGEND")return Ae.call(n,"fieldset[disabled] *")?!0:!a.contains(e)}return!0}n=n.parentElement}return!1},nt=function(e,n){return!(n.disabled||tt(n)||Fo(n)||$o(n,e)||Po(n)||Oo(n))},xt=function(e,n){return!(Ro(n)||ke(n)<0||!nt(e,n))},_o=function(e){var n=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(n)||n>=0)},Io=function t(e){var n=[],o=[];return e.forEach(function(a,l){var r=!!a.scopeParent,c=r?a.scopeParent:a,d=Eo(c,r),f=r?t(a.candidates):c;d===0?r?n.push.apply(n,f):n.push(c):o.push({documentOrder:l,tabIndex:d,item:a,isScope:r,content:f})}),o.sort(Bo).reduce(function(a,l){return l.isScope?a.push.apply(a,l.content):a.push(l.content),a},[]).concat(n)},Mo=function(e,n){n=n||{};var o;return n.getShadowRoot?o=Sn([e],n.includeContainer,{filter:xt.bind(null,n),flatten:!1,getShadowRoot:n.getShadowRoot,shadowRootFilter:_o}):o=kn(e,n.includeContainer,xt.bind(null,n)),Io(o)},jo=function(e,n){n=n||{};var o;return n.getShadowRoot?o=Sn([e],n.includeContainer,{filter:nt.bind(null,n),flatten:!0,getShadowRoot:n.getShadowRoot}):o=kn(e,n.includeContainer,nt.bind(null,n)),o},Fe=function(e,n){if(n=n||{},!e)throw new Error("No node provided");return Ae.call(e,Qe)===!1?!1:xt(n,e)},Wo=gn.concat("iframe").join(","),bt=function(e,n){if(n=n||{},!e)throw new Error("No node provided");return Ae.call(e,Wo)===!1?!1:nt(n,e)};function At(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,o=Array(e);n<e;n++)o[n]=t[n];return o}function zo(t){if(Array.isArray(t))return At(t)}function Ko(t,e,n){return(e=Go(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ho(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Uo(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ut(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,o)}return n}function qt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ut(Object(n),!0).forEach(function(o){Ko(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ut(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function qo(t){return zo(t)||Ho(t)||Jo(t)||Uo()}function Yo(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e);if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Go(t){var e=Yo(t,"string");return typeof e=="symbol"?e:e+""}function Jo(t,e){if(t){if(typeof t=="string")return At(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?At(t,e):void 0}}var Yt={activateTrap:function(e,n){if(e.length>0){var o=e[e.length-1];o!==n&&o._setPausedState(!0)}var a=e.indexOf(n);a===-1||e.splice(a,1),e.push(n)},deactivateTrap:function(e,n){var o=e.indexOf(n);o!==-1&&e.splice(o,1),e.length>0&&!e[e.length-1]._isManuallyPaused()&&e[e.length-1]._setPausedState(!1)}},Xo=function(e){return e.tagName&&e.tagName.toLowerCase()==="input"&&typeof e.select=="function"},Zo=function(e){return e?.key==="Escape"||e?.key==="Esc"||e?.keyCode===27},je=function(e){return e?.key==="Tab"||e?.keyCode===9},Qo=function(e){return je(e)&&!e.shiftKey},ea=function(e){return je(e)&&e.shiftKey},Gt=function(e){return setTimeout(e,0)},_e=function(e){for(var n=arguments.length,o=new Array(n>1?n-1:0),a=1;a<n;a++)o[a-1]=arguments[a];return typeof e=="function"?e.apply(void 0,o):e},Ye=function(e){return e.target.shadowRoot&&typeof e.composedPath=="function"?e.composedPath()[0]:e.target},ta=[],na=function(e,n){var o=n?.document||document,a=n?.trapStack||ta,l=qt({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:Qo,isKeyBackward:ea},n),r={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,manuallyPaused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},c,d=function(u,v,k){return u&&u[v]!==void 0?u[v]:l[k||v]},f=function(u,v){var k=typeof v?.composedPath=="function"?v.composedPath():void 0;return r.containerGroups.findIndex(function(B){var R=B.container,L=B.tabbableNodes;return R.contains(u)||k?.includes(R)||L.find(function(E){return E===u})})},s=function(u){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},k=v.hasFallback,B=k===void 0?!1:k,R=v.params,L=R===void 0?[]:R,E=l[u];if(typeof E=="function"&&(E=E.apply(void 0,qo(L))),E===!0&&(E=void 0),!E){if(E===void 0||E===!1)return E;throw new Error("`".concat(u,"` was specified but was not a node, or did not return a node"))}var M=E;if(typeof E=="string"){try{M=o.querySelector(E)}catch(K){throw new Error("`".concat(u,'` appears to be an invalid selector; error="').concat(K.message,'"'))}if(!M&&!B)throw new Error("`".concat(u,"` as selector refers to no known node"))}return M},i=function(){var u=s("initialFocus",{hasFallback:!0});if(u===!1)return!1;if(u===void 0||u&&!bt(u,l.tabbableOptions))if(f(o.activeElement)>=0)u=o.activeElement;else{var v=r.tabbableGroups[0],k=v&&v.firstTabbableNode;u=k||s("fallbackFocus")}else u===null&&(u=s("fallbackFocus"));if(!u)throw new Error("Your focus-trap needs to have at least one focusable element");return u},p=function(){if(r.containerGroups=r.containers.map(function(u){var v=Mo(u,l.tabbableOptions),k=jo(u,l.tabbableOptions),B=v.length>0?v[0]:void 0,R=v.length>0?v[v.length-1]:void 0,L=k.find(function(K){return Fe(K)}),E=k.slice().reverse().find(function(K){return Fe(K)}),M=!!v.find(function(K){return ke(K)>0});return{container:u,tabbableNodes:v,focusableNodes:k,posTabIndexesFound:M,firstTabbableNode:B,lastTabbableNode:R,firstDomTabbableNode:L,lastDomTabbableNode:E,nextTabbableNode:function(ue){var ye=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,te=v.indexOf(ue);return te<0?ye?k.slice(k.indexOf(ue)+1).find(function(he){return Fe(he)}):k.slice(0,k.indexOf(ue)).reverse().find(function(he){return Fe(he)}):v[te+(ye?1:-1)]}}}),r.tabbableGroups=r.containerGroups.filter(function(u){return u.tabbableNodes.length>0}),r.tabbableGroups.length<=0&&!s("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(r.containerGroups.find(function(u){return u.posTabIndexesFound})&&r.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},b=function(u){var v=u.activeElement;if(v)return v.shadowRoot&&v.shadowRoot.activeElement!==null?b(v.shadowRoot):v},y=function(u){if(u!==!1&&u!==b(document)){if(!u||!u.focus){y(i());return}u.focus({preventScroll:!!l.preventScroll}),r.mostRecentlyFocusedNode=u,Xo(u)&&u.select()}},w=function(u){var v=s("setReturnFocus",{params:[u]});return v||(v===!1?!1:u)},C=function(u){var v=u.target,k=u.event,B=u.isBackward,R=B===void 0?!1:B;v=v||Ye(k),p();var L=null;if(r.tabbableGroups.length>0){var E=f(v,k),M=E>=0?r.containerGroups[E]:void 0;if(E<0)R?L=r.tabbableGroups[r.tabbableGroups.length-1].lastTabbableNode:L=r.tabbableGroups[0].firstTabbableNode;else if(R){var K=r.tabbableGroups.findIndex(function(Le){var $e=Le.firstTabbableNode;return v===$e});if(K<0&&(M.container===v||bt(v,l.tabbableOptions)&&!Fe(v,l.tabbableOptions)&&!M.nextTabbableNode(v,!1))&&(K=E),K>=0){var ue=K===0?r.tabbableGroups.length-1:K-1,ye=r.tabbableGroups[ue];L=ke(v)>=0?ye.lastTabbableNode:ye.lastDomTabbableNode}else je(k)||(L=M.nextTabbableNode(v,!1))}else{var te=r.tabbableGroups.findIndex(function(Le){var $e=Le.lastTabbableNode;return v===$e});if(te<0&&(M.container===v||bt(v,l.tabbableOptions)&&!Fe(v,l.tabbableOptions)&&!M.nextTabbableNode(v))&&(te=E),te>=0){var he=te===r.tabbableGroups.length-1?0:te+1,qe=r.tabbableGroups[he];L=ke(v)>=0?qe.firstTabbableNode:qe.firstDomTabbableNode}else je(k)||(L=M.nextTabbableNode(v))}}else L=s("fallbackFocus");return L},A=function(u){var v=Ye(u);if(!(f(v,u)>=0)){if(_e(l.clickOutsideDeactivates,u)){c.deactivate({returnFocus:l.returnFocusOnDeactivate});return}_e(l.allowOutsideClick,u)||u.preventDefault()}},x=function(u){var v=Ye(u),k=f(v,u)>=0;if(k||v instanceof Document)k&&(r.mostRecentlyFocusedNode=v);else{u.stopImmediatePropagation();var B,R=!0;if(r.mostRecentlyFocusedNode)if(ke(r.mostRecentlyFocusedNode)>0){var L=f(r.mostRecentlyFocusedNode),E=r.containerGroups[L].tabbableNodes;if(E.length>0){var M=E.findIndex(function(K){return K===r.mostRecentlyFocusedNode});M>=0&&(l.isKeyForward(r.recentNavEvent)?M+1<E.length&&(B=E[M+1],R=!1):M-1>=0&&(B=E[M-1],R=!1))}}else r.containerGroups.some(function(K){return K.tabbableNodes.some(function(ue){return ke(ue)>0})})||(R=!1);else R=!1;R&&(B=C({target:r.mostRecentlyFocusedNode,isBackward:l.isKeyBackward(r.recentNavEvent)})),y(B||r.mostRecentlyFocusedNode||i())}r.recentNavEvent=void 0},P=function(u){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;r.recentNavEvent=u;var k=C({event:u,isBackward:v});k&&(je(u)&&u.preventDefault(),y(k))},_=function(u){(l.isKeyForward(u)||l.isKeyBackward(u))&&P(u,l.isKeyBackward(u))},T=function(u){Zo(u)&&_e(l.escapeDeactivates,u)!==!1&&(u.preventDefault(),c.deactivate())},D=function(u){var v=Ye(u);f(v,u)>=0||_e(l.clickOutsideDeactivates,u)||_e(l.allowOutsideClick,u)||(u.preventDefault(),u.stopImmediatePropagation())},V=function(){if(r.active)return Yt.activateTrap(a,c),r.delayInitialFocusTimer=l.delayInitialFocus?Gt(function(){y(i())}):y(i()),o.addEventListener("focusin",x,!0),o.addEventListener("mousedown",A,{capture:!0,passive:!1}),o.addEventListener("touchstart",A,{capture:!0,passive:!1}),o.addEventListener("click",D,{capture:!0,passive:!1}),o.addEventListener("keydown",_,{capture:!0,passive:!1}),o.addEventListener("keydown",T),c},h=function(){if(r.active)return o.removeEventListener("focusin",x,!0),o.removeEventListener("mousedown",A,!0),o.removeEventListener("touchstart",A,!0),o.removeEventListener("click",D,!0),o.removeEventListener("keydown",_,!0),o.removeEventListener("keydown",T),c},g=function(u){var v=u.some(function(k){var B=Array.from(k.removedNodes);return B.some(function(R){return R===r.mostRecentlyFocusedNode})});v&&y(i())},N=typeof window<"u"&&"MutationObserver"in window?new MutationObserver(g):void 0,O=function(){N&&(N.disconnect(),r.active&&!r.paused&&r.containers.map(function(u){N.observe(u,{subtree:!0,childList:!0})}))};return c={get active(){return r.active},get paused(){return r.paused},activate:function(u){if(r.active)return this;var v=d(u,"onActivate"),k=d(u,"onPostActivate"),B=d(u,"checkCanFocusTrap");B||p(),r.active=!0,r.paused=!1,r.nodeFocusedBeforeActivation=o.activeElement,v?.();var R=function(){B&&p(),V(),O(),k?.()};return B?(B(r.containers.concat()).then(R,R),this):(R(),this)},deactivate:function(u){if(!r.active)return this;var v=qt({onDeactivate:l.onDeactivate,onPostDeactivate:l.onPostDeactivate,checkCanReturnFocus:l.checkCanReturnFocus},u);clearTimeout(r.delayInitialFocusTimer),r.delayInitialFocusTimer=void 0,h(),r.active=!1,r.paused=!1,O(),Yt.deactivateTrap(a,c);var k=d(v,"onDeactivate"),B=d(v,"onPostDeactivate"),R=d(v,"checkCanReturnFocus"),L=d(v,"returnFocus","returnFocusOnDeactivate");k?.();var E=function(){Gt(function(){L&&y(w(r.nodeFocusedBeforeActivation)),B?.()})};return L&&R?(R(w(r.nodeFocusedBeforeActivation)).then(E,E),this):(E(),this)},pause:function(u){return r.active?(r.manuallyPaused=!0,this._setPausedState(!0,u)):this},unpause:function(u){return r.active?(r.manuallyPaused=!1,a[a.length-1]!==this?this:this._setPausedState(!1,u)):this},updateContainerElements:function(u){var v=[].concat(u).filter(Boolean);return r.containers=v.map(function(k){return typeof k=="string"?o.querySelector(k):k}),r.active&&p(),O(),this}},Object.defineProperties(c,{_isManuallyPaused:{value:function(){return r.manuallyPaused}},_setPausedState:{value:function(u,v){if(r.paused===u)return this;if(r.paused=u,u){var k=d(v,"onPause"),B=d(v,"onPostPause");k?.(),h(),O(),B?.()}else{var R=d(v,"onUnpause"),L=d(v,"onPostUnpause");R?.(),p(),V(),O(),L?.()}return this}}}),c.updateContainerElements(e),c};function oa(t,e={}){let n;const{immediate:o,...a}=e,l=kt(!1),r=kt(!1),c=p=>n&&n.activate(p),d=p=>n&&n.deactivate(p),f=()=>{n&&(n.pause(),r.value=!0)},s=()=>{n&&(n.unpause(),r.value=!1)},i=F(()=>{const p=oe(t);return qn(p).map(b=>{const y=oe(b);return typeof y=="string"?y:Xe(y)}).filter(Yn)});return Y(i,p=>{p.length&&(n=na(p,{...a,onActivate(){l.value=!0,e.onActivate&&e.onActivate()},onDeactivate(){l.value=!1,e.onDeactivate&&e.onDeactivate()}}),o&&c())},{flush:"post"}),Et(()=>d()),{hasFocus:l,isPaused:r,activate:c,deactivate:d,pause:f,unpause:s}}const aa=({element:t,isActive:e,noTrap:n,fallbackFocus:o,focus:a},l={allowOutsideClick:!0,fallbackFocus:o.ref.value??void 0,escapeDeactivates:!1,clickOutsideDeactivates:!1,initialFocus:a})=>{const r=Me(wt(e)),c=Me(wt(n)),d=()=>{var i;const p=(i=t.value)==null?void 0:i.querySelectorAll(`a, button, input, select, textarea, [tabindex]:not([tabindex="-1"]):not(.${o.classSelector})`);return!p?.length},f=I(!1);Ke(()=>{f.value=d(),zn(t,()=>{f.value=d()},{childList:!0,subtree:!0})});const s=oa(t,l);return Y(r,async i=>{i&&c.value===!1?s.activate():s.deactivate()}),Y(c,i=>{i===!0&&s.deactivate()}),{needsFallback:Me(f)}},ra=Hn(Gn);let Ge="";const we=new Map,la=(t,e)=>{const n=Me(wt(t)),o=Kn(),a=F(()=>!oe(e)),l=ra(typeof document<"u"?document.body:null,n.value&&a.value);Ke(()=>{typeof document>"u"||(we.set(o,!1),Y([n,a],([r,c])=>{const d=window.innerWidth-document.documentElement.clientWidth,f=Array.from(we.values()).some(p=>p===!0),s=r&&c;we.set(o,s),s&&!f&&!l.value&&(l.value=!0,d>0&&(Ge=document.body.style.paddingRight,document.body.style.paddingRight=`${d+Ge}px`));const i=Array.from(we.values()).some(p=>p===!0);f&&!i&&(we.set(o,!1),l.value=!1,document.body.style.paddingRight=Ge)},{immediate:!0}))}),Un(()=>{we.delete(o),Array.from(we.values()).some(c=>c===!0)||(document.body.style.paddingRight=Ge,l.value=!1)})},yt="modal-open",ia=()=>{const t=dn(Xn),e=o=>{t?.removeStack(o),t?.removeRegistry(o)},n=Zn("updateHTMLAttrs",(o,a,l)=>{const r=typeof o=="string"?window?.document.querySelector(o):Xe(o);r&&(a==="class"?r.classList.toggle(yt,l===yt):r.setAttribute(a,l))});return Et(()=>{n("body","class","")}),Y(()=>t?.countStack.value,o=>{o!==void 0&&n("body","class",o>0?yt:"")}),{...t,dispose:e}},sa=(t,e)=>{const{pushRegistry:n,pushStack:o,removeStack:a,stack:l,dispose:r,countStack:c}=ia(),d=Jn();if(!d||d.type.__name!=="BModal")throw new Error("useModalManager must only use in BModal component");n?.(d),Et(()=>{r(d)});const f=(s,i)=>{s?o?.(d):i&&!s&&a?.(d)};return f(e,e),Y(t,f),{activePosition:F(()=>l?.value.findIndex(s=>{var i,p;return oe((i=s.exposed)==null?void 0:i.id)===oe((p=d.exposed)==null?void 0:p.id)})),activeModalCount:c,stackWithoutSelf:F(()=>l?.value.filter(s=>{var i,p;return oe((i=s.exposed)==null?void 0:i.id)!==oe((p=d.exposed)==null?void 0:p.id)})??[])}},ca=["id","aria-labelledby","aria-describedby"],ua=["id"],Jt="modal-fallback-focus",da=se({inheritAttrs:!1,__name:"BModal",props:Ze({focus:{type:[String,Boolean,Object,null],default:void 0},backdropFirst:{type:Boolean,default:!1},body:{default:void 0},bodyAttrs:{default:void 0},bodyBgVariant:{default:null},bodyClass:{default:null},bodyScrolling:{type:Boolean,default:!1},bodyTextVariant:{default:null},bodyVariant:{default:null},busy:{type:Boolean,default:!1},buttonSize:{default:"md"},cancelClass:{default:void 0},cancelDisabled:{type:Boolean,default:!1},cancelTitle:{default:"Cancel"},cancelVariant:{default:"secondary"},centered:{type:Boolean,default:!1},contentClass:{default:void 0},dialogClass:{default:void 0},footerBgVariant:{default:null},footerBorderVariant:{default:null},footerClass:{default:void 0},footerTextVariant:{default:null},footerVariant:{default:null},fullscreen:{type:[Boolean,String],default:!1},headerBgVariant:{default:null},headerBorderVariant:{default:null},headerClass:{default:void 0},headerCloseClass:{default:void 0},headerCloseLabel:{default:"Close"},headerCloseVariant:{default:"secondary"},headerTextVariant:{default:null},headerVariant:{default:null},noBackdrop:{type:Boolean,default:!1},noFooter:{type:Boolean,default:!1},noHeader:{type:Boolean,default:!1},noHeaderClose:{type:Boolean,default:!1},id:{default:void 0},modalClass:{default:void 0},noCloseOnBackdrop:{type:Boolean,default:!1},noCloseOnEsc:{type:Boolean,default:!1},noTrap:{type:Boolean,default:!1},noStacking:{type:Boolean},okClass:{default:void 0},okDisabled:{type:Boolean,default:!1},okOnly:{type:Boolean,default:!1},okTitle:{default:"OK"},okVariant:{default:"primary"},scrollable:{type:Boolean,default:!1},size:{default:"md"},title:{default:void 0},titleClass:{default:void 0},titleVisuallyHidden:{type:Boolean,default:!1},titleTag:{default:"h5"},teleportDisabled:{type:Boolean,default:!1},teleportTo:{default:"body"},initialAnimation:{type:Boolean,default:!1},noAnimation:{type:Boolean},noFade:{type:Boolean,default:!1},lazy:{type:Boolean,default:!1},unmountLazy:{type:Boolean,default:!1},show:{type:Boolean,default:!1},transProps:{default:void 0},visible:{type:Boolean,default:!1}},{modelValue:{type:Boolean,default:!1},modelModifiers:{}}),emits:Ze(["backdrop","close","esc","hide","hide-prevented","hidden","show","show-prevented","shown","toggle","toggle-prevented","cancel","ok"],["update:modelValue"]),setup(t,{expose:e,emit:n}){const a=Bt(t,"BModal"),l=n,r=it(),c=fn(()=>a.id,"modal"),d=Ft(t,"modelValue"),f=Pe("_element"),s=Pe("_fallbackFocusElement"),i=Pe("_okButton"),p=Pe("_cancelButton"),b=Pe("_closeButton"),y=()=>a.focus&&typeof a.focus!="boolean"?a.focus==="ok"?i:a.focus==="close"?b:a.focus==="cancel"?p:ro(a.focus,f.value??void 0)??f.value:f;let w=null;const C=()=>{if(a.noTrap&&a.focus!==!1){w=document.activeElement,w===f.value&&(w=null);const z=Xe(y());if(!z)return;z?.focus(),z.tagName&&z.tagName.toLowerCase()==="input"&&typeof z.select=="function"&&z.select()}},A=()=>{a.noTrap&&a.focus!==!1&&w&&(w?.focus(),w=null)},{showRef:x,renderRef:P,renderBackdropRef:_,hide:T,show:D,toggle:V,computedNoAnimation:h,transitionProps:g,backdropTransitionProps:N,isLeaving:O,isVisible:S,trapActive:u,contentShowing:v,backdropReady:k,backdropVisible:B}=Qn(d,a,l,f,c,{transitionProps:{onAfterEnter:C,onAfterLeave:A}}),{needsFallback:R}=aa({element:f,isActive:u,noTrap:()=>a.noTrap,fallbackFocus:{ref:s,classSelector:Jt},focus:()=>a.focus===!1?!1:Xe(y())??void 0});eo("Escape",()=>{T("esc")},{target:f}),la(x,()=>a.bodyScrolling);const L=F(()=>!to(r["header-close"])),E=F(()=>[a.dialogClass,{"modal-fullscreen":a.fullscreen===!0,[`modal-fullscreen-${a.fullscreen}-down`]:typeof a.fullscreen=="string",[`modal-${a.size}`]:a.size!=="md","modal-dialog-centered":a.centered,"modal-dialog-scrollable":a.scrollable}]),M=pt(()=>({bgVariant:a.bodyBgVariant,textVariant:a.bodyTextVariant,variant:a.bodyVariant})),K=F(()=>[a.bodyClass,M.value]),ue=pt(()=>({bgVariant:a.headerBgVariant,textVariant:a.headerTextVariant,variant:a.headerVariant,borderVariant:a.headerBorderVariant})),ye=F(()=>[a.headerClass,ue.value]),te=F(()=>({variant:L.value?a.headerCloseVariant:void 0,class:a.headerCloseClass})),he=pt(()=>({bgVariant:a.footerBgVariant,textVariant:a.footerTextVariant,variant:a.footerVariant,borderVariant:a.footerBorderVariant})),qe=F(()=>[a.footerClass,he.value]),Le=F(()=>[a.titleClass,{"visually-hidden":a.titleVisuallyHidden}]),$e=F(()=>a.cancelDisabled||a.busy),In=F(()=>a.okDisabled||a.busy),{activePosition:G,activeModalCount:Q,stackWithoutSelf:Mn}=sa(x,d.value),_t=F(()=>({[`stack-position-${G?.value??0}`]:!0,[`stack-inverse-position-${(Q?.value??1)-1-(G?.value??0)}`]:!0}));Y(Mn,(z,J)=>{z.length>J.length&&x.value===!0&&a.noStacking===!0&&T()});const vt=I(Mt(f.value??(typeof document<"u"?document.body:void 0)));Ke(()=>{Y(P,z=>{z&&We(()=>{f.value&&(vt.value=Mt(f.value))})},{immediate:!0})});const It=F(()=>x.value||O.value?vt.value-((Q?.value??0)*2-(G?.value??0)*2):vt.value),jn=F(()=>({"z-index":It.value,"--b-position":G?.value??0,"--b-inverse-position":(Q?.value??1)-1-(G?.value??0),"--b-count":Q?.value??0})),Wn=F(()=>({"z-index":It.value-1,"--b-position":G?.value??0,"--b-inverse-position":(Q?.value??1)-1-(G?.value??0),"--b-count":Q?.value??0})),fe=F(()=>({id:c.value,cancel:()=>{T("cancel")},close:()=>{T("close")},hide:T,show:D,toggle:V,ok:()=>{T("ok")},active:x.value,visible:x.value}));return e({hide:T,id:c,show:D,toggle:V,visible:x}),(z,J)=>($(),ne(ao,{to:m(a).teleportTo,disabled:m(a).teleportDisabled},{default:U(()=>[m(P)||m(v)?($(),ne(St,pe({key:0},m(g),{appear:d.value||m(a).visible}),{default:U(()=>[jt(X("div",pe({id:m(c),ref:"_element",class:["modal",[m(a).modalClass,{fade:!m(h),show:m(S),..._t.value}]],role:"dialog","aria-labelledby":m(a).noHeader?void 0:`${m(c)}-label`,"aria-describedby":`${m(c)}-body`,tabindex:"-1"},z.$attrs,{style:[jn.value,{display:"block"}],onMousedown:J[4]||(J[4]=no(Oe=>m(T)("backdrop"),["left","self"]))}),[X("div",{class:H(["modal-dialog",E.value])},[m(v)?($(),W("div",{key:0,class:H(["modal-content",m(a).contentClass])},[m(a).noHeader?q("",!0):($(),W("div",{key:0,class:H(["modal-header",ye.value])},[j(z.$slots,"header",de(ge(fe.value)),()=>[($(),ne(vn(m(a).titleTag),{id:`${m(c)}-label`,class:H(["modal-title",Le.value])},{default:U(()=>[j(z.$slots,"title",de(ge(fe.value)),()=>[Ve(ee(m(a).title),1)])]),_:3},8,["id","class"])),m(a).noHeaderClose?q("",!0):($(),W(Pt,{key:0},[L.value?($(),ne(mt,pe({key:0},te.value,{onClick:J[0]||(J[0]=Oe=>m(T)("close"))}),{default:U(()=>[j(z.$slots,"header-close",de(ge(fe.value)))]),_:3},16)):($(),ne(oo,pe({key:1,"aria-label":m(a).headerCloseLabel},te.value,{onClick:J[1]||(J[1]=Oe=>m(T)("close"))}),null,16,["aria-label"]))],64))])],2)),X("div",pe({id:`${m(c)}-body`,class:["modal-body",K.value]},m(a).bodyAttrs),[j(z.$slots,"default",de(ge(fe.value)),()=>[Ve(ee(m(a).body),1)])],16,ua),m(a).noFooter?q("",!0):($(),W("div",{key:1,class:H(["modal-footer",qe.value])},[j(z.$slots,"footer",de(ge(fe.value)),()=>[j(z.$slots,"cancel",de(ge(fe.value)),()=>[m(a).okOnly?q("",!0):($(),ne(mt,{key:0,ref:"_cancelButton",disabled:$e.value,size:m(a).buttonSize,variant:m(a).cancelVariant,class:H(m(a).cancelClass),onClick:J[2]||(J[2]=Oe=>m(T)("cancel"))},{default:U(()=>[Ve(ee(m(a).cancelTitle),1)]),_:1},8,["disabled","size","variant","class"]))]),j(z.$slots,"ok",de(ge(fe.value)),()=>[Se(mt,{ref:"_okButton",disabled:In.value,size:m(a).buttonSize,variant:m(a).okVariant,class:H(m(a).okClass),onClick:J[3]||(J[3]=Oe=>m(T)("ok"))},{default:U(()=>[Ve(ee(m(a).okTitle),1)]),_:1},8,["disabled","size","variant","class"])])])],2))],2)):q("",!0)],2),m(R)?($(),W("div",{key:0,ref:"_fallbackFocusElement",class:H(Jt),tabindex:"0",style:{width:"0",height:"0",overflow:"hidden"}},null,512)):q("",!0)],16,ca),[[Wt,m(x)&&(m(k)&&m(a).backdropFirst||!m(a).backdropFirst)]])]),_:3},16,["appear"])):q("",!0),m(a).noBackdrop?q("",!0):j(z.$slots,"backdrop",de(pe({key:1},fe.value)),()=>[m(_)?($(),ne(St,de(pe({key:0},m(N))),{default:U(()=>[jt(X("div",{class:H(["modal-backdrop",{fade:!m(h),show:m(B)||m(h),..._t.value}]),style:He(Wn.value),onClick:J[5]||(J[5]=Oe=>m(T)("backdrop"))},null,6),[[Wt,m(x)||m(O)&&m(a).backdropFirst&&!m(h)]])]),_:1},16)):q("",!0)])]),_:3},8,["to","disabled"]))}}),fa={width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"};function va(t,e){return $(),W("svg",fa,e[0]||(e[0]=[X("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M4.29289 4.29289C4.68342 3.90237 5.31658 3.90237 5.70711 4.29289L10 8.58579L14.2929 4.29289C14.6834 3.90237 15.3166 3.90237 15.7071 4.29289C16.0976 4.68342 16.0976 5.31658 15.7071 5.70711L11.4142 10L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L10 11.4142L5.70711 15.7071C5.31658 16.0976 4.68342 16.0976 4.29289 15.7071C3.90237 15.3166 3.90237 14.6834 4.29289 14.2929L8.58579 10L4.29289 5.70711C3.90237 5.31658 3.90237 4.68342 4.29289 4.29289Z",fill:"currentColor"},null,-1)]))}const pa=lo({name:"app-cross-icon",render:va}),ma=se({__name:"JDialog",props:Ze({modelValue:{type:Boolean},className:{},title:{}},{modelValue:{default:!1},modelModifiers:{}}),emits:["update:modelValue"],setup(t){const{width:e}=hn(),n=Ft(t,"modelValue");return(o,a)=>{const l=pa,r=da;return $(),ne(r,{modelValue:n.value,"onUpdate:modelValue":a[1]||(a[1]=c=>n.value=c),title:o.title,centered:"",scrollable:"","no-footer":"",class:H(["j-dialog",o.className]),"content-class":{"modal-slide-up":m(e)<=650}},{header:U(()=>[j(o.$slots,"header"),Se(l,{class:"close-icon",color:("isDark"in o?o.isDark:m(wo))?"#fff":"#8A8B8D",onClick:a[0]||(a[0]=c=>n.value=!1)},null,8,["color"])]),default:U(()=>[j(o.$slots,"default")]),_:3},8,["modelValue","title","class","content-class"])}}}),Xr=Object.assign(ma,{__name:"JDialog"});function ba(t){document.querySelector(t)?.querySelector("input")?.focus()}function Zr(t){document.querySelector(t)?.click()}function ya(t){const e=t.keyCode??t.which;(e<48||e>57)&&e!==46&&t.preventDefault(),e===46&&String(t.target.value).includes(".")&&t.preventDefault()}function Cn(t,e=0,n=10){return new Intl.NumberFormat("en-US",{style:"decimal",minimumFractionDigits:e,maximumFractionDigits:n}).format(Number(t))}function ha(t,e=2){return new Intl.NumberFormat("en",{notation:"compact",compactDisplay:"short",minimumFractionDigits:e,maximumFractionDigits:e}).format(Number(t))}function ga(t){return Number.parseFloat(t.replaceAll(",",""))}function wa(t){const n=Number(t).toExponential().match(/e-(\d+)/);return n?Number.parseInt(n[1],10):0}function Qr(t,e=2){const[n,o=""]=t.toString().split(".");return o.length>e?`${n}.${o.slice(0,e)}`:`${t.toFixed(2)}`}function Xt(t,e,n=e){return t?new De(t.toString()).dividedBy(new De(10).pow(e)).toFixed(n):"0"}function ht(t){return t.split(":")}function el(t,e,n=!0){const o=Number(t)*Number(e);return n?ha(o||0):Cn(o||0,2,2)}const Tn=pn("markets",()=>{const t=io({poolAddresses:[],pools:[],leveragePools:[],loading:!1,loadingLeveragePools:!1,markets:["Main market","Assets"]}),e=Vt(),n=F(()=>e.jLendClient),o=I(),a=I(),l=I(),r=I("Main market"),c=F(()=>t.pools.filter(p=>r.value.toLowerCase().includes(String(p.market?.toLowerCase()))));async function d(){if(Kt)try{t.loading=!0;const p=await n.value?.sdk.getAllPools();t.poolAddresses=p,t.pools=await Promise.all(p.map(async b=>await s(b))),console.log("%c[Pools]","color: #FFB726",t.pools)}finally{t.loading=!1}}async function f(){if(Kt)try{t.loadingLeveragePools=!0;const p=await n.value?.sdk.getAllLeveragePools();t.leveragePools=p||[],console.log("%c[Leverage Pools]","color: #FFB726",p)}finally{t.loadingLeveragePools=!1}}async function s(p){const b=await n.value?.sdk.getPoolInfo(p),y=await n.value?.sdk.getPoolAssetOraclePrice(p),w=await n.value?.sdk.getPoolApy(p);return{...b,pool_price:y,pool_apy:w,market:"main"}}async function i(p){const b=await s(p);t.pools=t.pools.map(y=>y.pool_address===p?b:y)}return Ke(async()=>{await Promise.all([d(),f()])}),{state:t,selectedMarket:r,selectedMarketInfo:l,selectedMarketPools:c,poolActionType:a,poolDepositAddr:o,updatePools:i}}),ka=(t,e)=>F(()=>{const n=oe(t),o=oe(e);return n===!0?"true":typeof n=="string"?n:o===!1?"true":n===!1?"false":void 0}),Sa=(t,e)=>{if(t===null)return;let n=t;if(e.number&&typeof n=="string"&&n!==""){const o=Number.parseFloat(n);n=Number.isNaN(o)?n:o}return n},Zt=()=>{};function xa(t,e){function n(...o){return new Promise((a,l)=>{Promise.resolve(t(()=>e.apply(this,o),{fn:e,thisArg:this,args:o})).then(a).catch(l)})}return n.cancel=t.cancel,n}function Aa(t,e={}){let n,o,a=Zt;const l=d=>{clearTimeout(d),a(),a=Zt};let r;const c=d=>{const f=oe(t),s=oe(e.maxWait);return n&&l(n),f<=0||s!==void 0&&s<=0?(o&&(l(o),o=null),Promise.resolve(d())):new Promise((i,p)=>{a=e.rejectOnCancel?p:i,r=d,s&&!o&&(o=setTimeout(()=>{n&&l(n),o=null,i(r())},s)),n=setTimeout(()=>{o&&l(o),o=null,i(d())},f)})};return c.cancel=()=>{n&&l(n),o&&l(o),o=null},c}function Ca(t,e=200,n={}){return xa(Aa(e,n),t)}const Ta=(t,e,n,o)=>{var a;const l=I(0),r=fn(()=>t.id,"input"),c=zt(()=>t.debounce??0,{nanToZero:!0}),d=zt(()=>t.debounceMaxWait??NaN),f=(a=dn(so,null))==null?void 0:a(r),s=F(()=>t.state!==void 0?t.state:f?.state.value??null),i=ka(()=>t.ariaInvalid,s),p=ko(s),b=Ca(D=>{n.value=D},()=>o.lazy===!0?0:c.value,{maxWait:()=>o.lazy===!0?NaN:d.value}),y=(D,V=!1,h=!1)=>{o.lazy===!0&&V===!1||(h?n.value=D:b(D))},{focused:w}=co(e,{initialValue:t.autofocus}),C=(D,V,h=!1)=>t.formatter!==void 0&&(!t.lazyFormatter||h)?t.formatter(D,V):D;return Ke(()=>{var D;e.value&&(e.value.value=((D=n.value)==null?void 0:D.toString())??"")}),uo(()=>{We(()=>{t.autofocus&&(w.value=!0)})}),{input:e,computedId:r,computedAriaInvalid:i,onInput:D=>{const{value:V}=D.target,h=C(V,D);if(D.defaultPrevented){D.preventDefault();return}y(h)},onChange:D=>{const{value:V}=D.target,h=C(V,D);if(D.defaultPrevented){D.preventDefault();return}const g=h;n.value!==g&&y(h,!0)},onBlur:D=>{if(!o.lazy&&!t.lazyFormatter&&!o.trim&&c.value<=0)return;const{value:V}=D.target,h=C(V,D,!0),g=o.trim?h.trim():h,N=g.length!==h.length;b.cancel(),n.value!==g&&y(h,!0,!0),o.trim&&N&&(l.value=l.value+1)},focus:()=>{t.disabled||(w.value=!0)},blur:()=>{t.disabled||(w.value=!1)},forceUpdateKey:l,stateClass:p}},Ea=["id","value","name","form","type","disabled","placeholder","required","autocomplete","readonly","min","max","step","list","aria-required","aria-invalid"],Ba=se({__name:"BFormInput",props:Ze({max:{default:void 0},min:{default:void 0},step:{default:void 0},type:{default:"text"},ariaInvalid:{type:[Boolean,String],default:void 0},autocomplete:{default:void 0},autofocus:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},form:{default:void 0},formatter:{type:Function,default:void 0},id:{default:void 0},lazyFormatter:{type:Boolean,default:!1},list:{default:void 0},name:{default:void 0},placeholder:{default:void 0},plaintext:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},required:{type:Boolean,default:!1},size:{default:void 0},state:{type:[Boolean,null],default:void 0},debounce:{default:0},debounceMaxWait:{default:NaN}},{modelValue:{default:""},modelModifiers:{}}),emits:["update:modelValue"],setup(t,{expose:e}){const o=Bt(t,"BFormInput"),[a,l]=Ft(t,"modelValue",{set:A=>Sa(A,l)}),r=Pe("_input"),{computedId:c,computedAriaInvalid:d,onInput:f,onChange:s,onBlur:i,stateClass:p,focus:b,blur:y,forceUpdateKey:w}=Ta(o,r,a,l),C=F(()=>{const A=o.type==="range",x=o.type==="color";return[p.value,{"form-range":A,"form-control":x||!o.plaintext&&!A,"form-control-color":x,"form-control-plaintext":o.plaintext&&!A&&!x,[`form-control-${o.size}`]:!!o.size}]});return e({blur:y,element:r,focus:b}),(A,x)=>($(),W("input",{id:m(c),ref:"_input",key:m(w),value:m(a),class:H(C.value),name:m(o).name||void 0,form:m(o).form||void 0,type:m(o).type,disabled:m(o).disabled,placeholder:m(o).placeholder,required:m(o).required||void 0,autocomplete:m(o).autocomplete||void 0,readonly:m(o).readonly||m(o).plaintext,min:m(o).min,max:m(o).max,step:m(o).step,list:m(o).type!=="password"?m(o).list:void 0,"aria-required":m(o).required||void 0,"aria-invalid":m(d),onInput:x[0]||(x[0]=(...P)=>m(f)&&m(f)(...P)),onChange:x[1]||(x[1]=(...P)=>m(s)&&m(s)(...P)),onBlur:x[2]||(x[2]=(...P)=>m(i)&&m(i)(...P))},null,42,Ea))}}),Fa={key:0,class:"input-group-text"},Pa={key:0,class:"input-group-text"},Va=se({__name:"BInputGroup",props:{append:{default:void 0},id:{default:void 0},prepend:{default:void 0},size:{default:"md"},tag:{default:"div"}},setup(t){fo(vo,!0);const n=Bt(t,"BInputGroup"),o=F(()=>({[`input-group-${n.size}`]:n.size!=="md"})),a=F(()=>!!n.append),l=F(()=>!!n.prepend);return(r,c)=>($(),ne(vn(m(n).tag),{id:m(n).id,class:H(["input-group",o.value]),role:"group"},{default:U(()=>[j(r.$slots,"prepend",{},()=>[l.value?($(),W("span",Fa,[X("span",null,ee(m(n).prepend),1)])):q("",!0)]),j(r.$slots,"default"),j(r.$slots,"append",{},()=>[a.value?($(),W("span",Pa,[X("span",null,ee(m(n).append),1)])):q("",!0)])]),_:3},8,["id","class"]))}});function Qt(t){return new De(t.toString())}function en(t,e,n){const o=Qt(t),a=Qt(e);switch(n){case"add":return o.plus(a);case"sub":return o.minus(a);case"mul":return o.times(a);case"div":return o.dividedBy(a)}}function Na(t,e,n,o,a=7){const l=en(t,e,"div"),r=en(n,o,"add");return l.times(r).dividedBy(new De(10).pow(a)).toFixed(a)}const Da=pn("user",()=>{const t=Nt(),e=Tn(),n=Vt(),o=F(()=>n.jLendClient),a=I(),l=I(!1);async function r(){try{l.value=!0,a.value=await o.value.sdk.getUserObligation(t.publicKey),console.log("%c[User Obligation]","color: #FFB726",a.value)}finally{l.value=!1}}const c=F(()=>{const f=a.value?.deposits;if(!f)return 0;const s=o.value.sdk.assetDecimals;let i=0;for(const p of f){const[b,y]=p,w=e.state.pools?.find(_=>_.pool_address===b),C=y?.collateral||0;i+=Number(Xt(C,s))*Number(w?.pool_price);const A=y?.shares;if(!w||!A){i+=0;continue}const x=Na(A,w.total_shares,w?.available,w?.total_borrowed,s),P=Number(x)*Number(w.pool_price);i+=P||0}return i}),d=F(()=>{const f=a.value?.borrows;if(!f)return 0;const s=o.value.sdk.assetDecimals;let i=0;for(const p of f){const[b,y]=p,w=e.state.pools?.find(x=>x.pool_address===b),C=Xt(y?.borrowed,s);if(!w||!C){i+=0;continue}const A=Number(C)*Number(w.pool_price);i+=A||0}return i});return Y(()=>t.publicKey,async f=>{if(!f){a.value=void 0;return}await r()}),{loading:l,userObligation:a,userTotalDepositInUsd:c,userTotalBorrowedInUsd:d,loadUserObligation:r}});function tl(){const t=Da(),e=Tn(),n=So(),o=Vt(),a=F(()=>o.jLendClient),l=I(!1),r=I(),c=I(),d=I(),f=I(),s=xo(),i=Nt();async function p(h,g){try{if(!i.publicKey)return;const N=await a.value.addTrustlineTx(i.publicKey,h,g,n.kit);return await i.loadBalances(),N}catch(N){throw console.log(N),N}}async function b(h,g,N){let O;try{if(!i.publicKey)throw new Error("Wallet not connected");const[S,u]=ht(N);if((S==="native"?i.nativeBalance:i.getAssetBalance(u))<g)throw new Error("Insufficient balance");if(!g||g<=0)throw new Error("Amount should be greater than 0");e.poolDepositAddr=h,e.poolActionType="deposit";const k=S==="native"?"XLM":S;O=await s.create({title:"Deposit",body:`Sending transaction to deposit ${g} ${k}`,modelValue:3e4,variant:"info",noProgress:!1});const B=await a.value.sdk.deposit(i.publicKey,h,g,n.kit);r.value=void 0,await T(h),s.create({title:"Deposit Success",body:`You deposited ${g} ${k} successfully`,modelValue:3e4,alertProps:{variant:"success"},actions:[{label:"View Transaction",href:ve(String(B.txHash))}]})}catch(S){const u=S?.message||S;throw s.create({title:"Deposit Error",body:String(u),variant:"danger",modelValue:1e4}),S}finally{e.poolDepositAddr=void 0,e.poolActionType=void 0,O?.dismiss()}}async function y(h,g,N,O){let S;try{if(!i.publicKey)throw new Error("Wallet not connected");if(O<g)throw new Error("Borrow limit exceeded");if(!g||g<=0)throw new Error("Amount should be greater than 0");const[u]=ht(N);e.poolDepositAddr=h,e.poolActionType="borrow";const v=u==="native"?"XLM":u;S=await s.create({title:"Borrow",body:`Sending transaction to borrow ${g} ${v}`,modelValue:3e4,variant:"info",noProgress:!1});const k=await a.value.sdk.borrow(i.publicKey,h,g,n.kit);c.value=void 0,await T(h),s.create({title:"Borrow Success",body:`You borrowed ${g} ${v} successfully`,modelValue:3e4,alertProps:{variant:"success"},actions:[{label:"View Transaction",href:ve(String(k.txHash))}]})}catch(u){const v=u?.message||u;throw s.create({title:"Borrow Error",body:String(v),variant:"danger",modelValue:1e4}),u}finally{e.poolDepositAddr=void 0,e.poolActionType=void 0,S?.dismiss()}}async function w(h,g,N,O){let S;try{if(!i.publicKey)throw new Error("Wallet not connected");if(!g||g<=0)throw new Error("Amount should be greater than 0");if(g>N)throw new Error("Withdraw limit exceeded");e.poolDepositAddr=h,e.poolActionType="withdraw";const u=O==="native"?"XLM":O;S=await s.create({title:"Withdraw",body:`Sending transaction to withdraw ${g} ${u}`,modelValue:3e4,variant:"info",noProgress:!1});const v=await a.value.sdk.withdraw(i.publicKey,h,g,n.kit);d.value=void 0,await T(h),s.create({title:"Withdraw Success",body:`You withdrow ${g} ${u} successfully`,modelValue:3e4,alertProps:{variant:"success"},actions:[{label:"View Transaction",href:ve(String(v.txHash))}]})}catch(u){const v=u?.message||u;throw s.create({title:"Withdraw Error",body:String(v),variant:"danger",modelValue:1e4}),u}finally{e.poolDepositAddr=void 0,e.poolActionType=void 0,S?.dismiss()}}async function C(h,g,N,O){let S;try{if(!i.publicKey)throw new Error("Wallet not connected");if(!g||g<=0)throw new Error("Amount should be greater than 0");if(g>N)throw new Error("You don`t have enough balance to repay");e.poolDepositAddr=h,e.poolActionType="repay";const u=O==="native"?"XLM":O;S=await s.create({title:"Repay",body:`Sending transaction to repay ${g} ${u}`,modelValue:3e4,variant:"info",noProgress:!1});const v=Math.min(g*1.01,g),k=await a.value.sdk.repay(i.publicKey,h,v,n.kit);f.value=void 0,await T(h),s.create({title:"Repay Success",body:`You repaid ${g} ${u} successfully`,modelValue:3e4,alertProps:{variant:"success"},actions:[{label:"View Transaction",href:ve(String(k.txHash))}]})}catch(u){const v=u?.message||u;throw s.create({title:"Repay Error",body:String(v),variant:"danger",modelValue:1e4}),u}finally{e.poolDepositAddr=void 0,e.poolActionType=void 0,S?.dismiss()}}async function A(h,g,N){let O;try{if(!i.publicKey)throw new Error("Wallet not connected");const[S,u]=ht(N);if((S==="native"?i.nativeBalance:i.getAssetBalance(u))<g)throw new Error("Insufficient balance");if(!g||g<=0)throw new Error("Amount should be greater than 0");e.poolDepositAddr=h,e.poolActionType="deposit";const k=S==="native"?"XLM":S;O=await s.create({title:"Add Collateral",body:`Sending transaction to add collateral ${g} ${k}`,modelValue:3e4,variant:"info",noProgress:!1});const B=await a.value.sdk.addCollateral(i.publicKey,h,g,n.kit);r.value=void 0,await T(h),s.create({title:"Add Collateral Success",body:`You added ${g} ${k} successfully`,modelValue:3e4,alertProps:{variant:"success"},actions:[{label:"View Transaction",href:ve(String(B.txHash))}]})}catch(S){const u=S?.message||S;throw s.create({title:"Add Collateral Error",body:String(u),variant:"danger",modelValue:1e4}),S}finally{e.poolDepositAddr=void 0,e.poolActionType=void 0,O?.dismiss()}}async function x(h,g,N,O){let S;try{if(!i.publicKey)throw new Error("Wallet not connected");if(!g||g<=0)throw new Error("Amount should be greater than 0");if(g>N)throw new Error("Withdraw limit exceeded");e.poolDepositAddr=h,e.poolActionType="withdraw";const u=O==="native"?"XLM":O;S=await s.create({title:"Withdraw Collateral",body:`Sending transaction to withdraw collateral ${g} ${u}`,modelValue:3e4,variant:"info",noProgress:!1});const v=await a.value.sdk.removeCollateral(i.publicKey,h,g,n.kit);d.value=void 0,await T(h),s.create({title:"Withdraw Success",body:`You withdrow ${g} ${u} successfully`,modelValue:3e4,alertProps:{variant:"success"},actions:[{label:"View Transaction",href:ve(String(v.txHash))}]})}catch(u){const v=u?.message||u;throw s.create({title:"Withdraw Error",body:String(v),variant:"danger",modelValue:1e4}),u}finally{e.poolDepositAddr=void 0,e.poolActionType=void 0,S?.dismiss()}}async function P(h,g,N,O,S){let u;try{if(!i.publicKey)throw new Error("Wallet not connected");if(!N||N<=0)throw new Error("Amount should be greater than 0");e.poolDepositAddr=h,e.poolActionType="leverage",u=await s.create({title:"Leverage",body:`Sending transaction to leverage ${N} ${S}`,modelValue:3e4,variant:"info",noProgress:!1});const v=await a.value.sdk.leverage(i.publicKey,h,g,N,O,n.kit);d.value=void 0,await T(h),s.create({title:"Leverage Success",body:"You leverage successfully",modelValue:3e4,alertProps:{variant:"success"},actions:[{label:"View Transaction",href:ve(String(v.txHash))}]})}catch(v){const k=v?.message||v;throw s.create({title:"Leverage Error",body:String(k),variant:"danger",modelValue:1e4}),v}finally{e.poolDepositAddr=void 0,e.poolActionType=void 0,u?.dismiss()}}async function _(h,g,N,O){let S;try{if(!i.publicKey)throw new Error("Wallet not connected");if(!N||N<=0)throw new Error("Amount should be greater than 0");e.poolDepositAddr=h,e.poolActionType="withdrawLeverage",S=await s.create({title:"Withdraw Leverage",body:`Sending transaction to leverage ${N} ${O}`,modelValue:3e4,variant:"info",noProgress:!1});const u=await a.value.sdk.withdrawLeverage(i.publicKey,h,g,N,n.kit);d.value=void 0,await T(h),s.create({title:"Withdraw Leverage Success",body:"You Withdraw successfully",modelValue:3e4,alertProps:{variant:"success"},actions:[{label:"View Transaction",href:ve(String(u.txHash))}]})}catch(u){const v=u?.message||u;throw s.create({title:"Withdraw Leverage Error",body:String(v),variant:"danger",modelValue:1e4}),u}finally{e.poolDepositAddr=void 0,e.poolActionType=void 0,S?.dismiss()}}async function T(h){await Promise.all([e.updatePools(h),t.loadUserObligation(),i.loadBalances()])}function D(h,g){return e.poolDepositAddr?h!==e.poolDepositAddr||e.poolActionType!==g:!1}function V(h,g){return e.poolDepositAddr?h===e.poolDepositAddr&&e.poolActionType===g:!1}return{borrowAmount:c,depositAmount:r,withdrawAmount:d,repayAmount:f,collateralOnly:l,borrow:y,deposit:b,repay:C,withdraw:w,addCollateral:A,removeCollateral:x,leverage:P,withdrawLeverage:_,addTrustLine:p,isDisabled:D,isLoading:V}}const Ra=se({__name:"JLoadingSpinner",props:{color:{default:"#262729"},borderWidth:{default:"2px"},fixed:{type:Boolean},blur:{type:Boolean},width:{default:"30px"}},setup(t){return(e,n)=>{const o=po;return $(),W("div",{class:H(["loading-spinner",{"loading-spinner--fixed":e.fixed,"loading-spinner--blur":e.blur}])},[Se(o,{style:He({color:e.color,"border-width":e.borderWidth,width:e.width,height:e.width})},null,8,["style"]),j(e.$slots,"default")],2)}}}),nl=Object.assign(Ra,{__name:"JLoadingSpinner"}),La={class:"j-input"},$a={key:0,class:"j-input__label"},Oa={class:"input-wrapper"},_a={key:0,class:"input-wrapper__label"},Ia={class:"j-input__prepend"},Ma={class:"j-input__append"},ja={key:0,class:"validate-label"},Wa=se({__name:"JInput",props:{size:{default:"lg"},placeholder:{},rules:{default:()=>[]},lazyRules:{type:Boolean,default:!1},onlyNumbers:{type:Boolean,default:!1},modelValue:{},resetValidation:{type:Boolean,default:!1},inputLabel:{},forceValidation:{type:Boolean,default:!1},max:{},min:{},step:{},type:{},ariaInvalid:{type:[Boolean,String]},autocomplete:{},autofocus:{type:Boolean},disabled:{type:Boolean},form:{},formatter:{type:Function},id:{},lazyFormatter:{type:Boolean},list:{},name:{},plaintext:{type:Boolean},readonly:{type:Boolean},required:{type:Boolean},state:{type:[Boolean,null]},debounce:{},debounceMaxWait:{}},emits:["update:modelValue"],setup(t,{emit:e}){const n=mo(t,["rules","size","lazyRules","onlyNumbers","modelValue","resetValidation","forceValidation"]),o=e,a=it(),l=F({get(){return t.modelValue},set(s){o("update:modelValue",s)}}),r=I(null),c=F(()=>{const s=[];return r.value&&s.push("j-input--error"),s.join(" ")});function d(){if(!l.value){r.value=null;return}for(const s of t.rules){const i=s(l.value);if(i!==!0)return r.value=i,!1}r.value=null}function f(){t.lazyRules&&d()}return Y(l,()=>{t.lazyRules||d()}),Y(()=>t.resetValidation,s=>{s&&(r.value=null)}),Y(()=>t.forceValidation,s=>{s&&We(()=>d())}),(s,i)=>{const p=Ba,b=Va;return $(),W("div",La,[a?.label?($(),W("div",$a,[j(s.$slots,"label",{},void 0,!0)])):q("",!0),Se(b,{class:H(m(c)),size:s.size},mn({default:U(()=>[X("div",Oa,[s.inputLabel?($(),W("div",_a,ee(s.inputLabel),1)):q("",!0),Se(p,pe(n,{modelValue:m(l),"onUpdate:modelValue":i[0]||(i[0]=y=>bn(l)?l.value=y:null),placeholder:s.placeholder,type:s.type,autocomplete:"off",onKeypress:i[1]||(i[1]=y=>s.onlyNumbers&&m(ya)(y)),onBlur:f}),null,16,["modelValue","placeholder","type"])]),Se(St,{name:"fade-bottom"},{default:U(()=>[m(r)?($(),W("div",ja,ee(m(r)),1)):q("",!0)]),_:1})]),_:2},[a.prepend?{name:"prepend",fn:U(()=>[X("div",Ia,[j(s.$slots,"prepend",{},void 0,!0)])]),key:"0"}:void 0,a.append?{name:"append",fn:U(()=>[X("div",Ma,[j(s.$slots,"append",{},void 0,!0)])]),key:"1"}:void 0]),1032,["class","size"]),a.description?($(),W("div",{key:1,class:H(["j-input__desc",{hide:m(r)}])},[j(s.$slots,"description",{},void 0,!0)],2)):q("",!0)])}}}),za=Object.assign(yn(Wa,[["__scopeId","data-v-6f181318"]]),{__name:"JInput"}),Ka={key:1,class:"balance"},Ha={class:"price-label"},Ua=["src"],qa=se({__name:"InputWidget",props:{size:{default:"lg"},balance:{},description:{},price:{},limit:{},disabled:{type:Boolean},labelLeft:{},labelRight:{},icon:{},readonly:{type:Boolean,default:!1},fee:{default:0},format:{type:Boolean,default:!1},rules:{},modelValue:{}},emits:["update:modelValue","maxHandler"],setup(t,{emit:e}){const n=e,o=it(),a=Nt(),l=F({get(){return t.modelValue?String(t.modelValue):""},set(i){n("update:modelValue",i)}}),r=I(!1);function c(){const i=new De(t.balance),p=new De(t.fee),b=i.minus(p).toNumber(),y=Math.max(Math.min(b,t.limit||t.balance),0),w=String(y).includes("e")?wa(y):null;l.value=w?y.toFixed(w):String(y),r.value=!0,We(()=>{r.value=!1,n("maxHandler",l.value)})}const d=F(()=>{if(!l.value||!t.price)return;const p=(t.format?ga(l.value):Number(l.value))*Number(t.price);return`$${Cn(p,2,2)}`});function f(i){const p=i.target;p.closest(".j-input__label")||p.closest(".j-input__desc")||ba(".j-input")}const s=I(!1);return Y(()=>t.balance,()=>{s.value=!0,We(()=>{s.value=!1})}),(i,p)=>{const b=Ao,y=za;return $(),ne(y,{modelValue:m(l),"onUpdate:modelValue":p[0]||(p[0]=w=>bn(l)?l.value=w:null),class:"input-widget",size:i.size,placeholder:"0.00","only-numbers":"","force-validation":m(s),"reset-validation":m(r),disabled:i.disabled,readonly:"readonly"in i?i.readonly:m(Me),rules:i.rules,onClick:f},mn({label:U(()=>[X("span",null,ee(i.labelLeft),1),o["label-right"]?j(i.$slots,"label-right",{key:0}):($(),W("span",Ka,ee(i.labelRight),1))]),description:U(()=>[X("div",Ha,ee(m(d)),1)]),append:U(()=>[Se(b,{disabled:!m(a).publicKey,variant:"accent",size:"sm",class:"j-input__btn",onClick:c},{default:U(()=>p[1]||(p[1]=[Ve(" MAX ",-1)])),_:1,__:[1]},8,["disabled"])]),_:2},[i.icon||o.prepend?{name:"prepend",fn:U(()=>[i.icon?($(),W("img",{key:0,src:i.icon,alt:"token icon",class:"j-input__icon"},null,8,Ua)):j(i.$slots,"prepend",{key:1})]),key:"0"}:void 0]),1032,["modelValue","size","force-validation","reset-validation","disabled","readonly","rules"])}}}),ol=Object.assign(qa,{__name:"InputWidget"}),Ya=se({__name:"JPillLabel",props:{color:{},bgColor:{},label:{},variant:{default:"primary"},size:{default:"lg"}},setup(t){return(e,n)=>($(),W("div",{class:H(["j-pill-label",[`j-pill-label--${e.variant}`,`j-pill-label--${e.size}`]]),style:He({color:e.color,backgroundColor:e.bgColor})},[e.label?($(),W(Pt,{key:0},[Ve(ee(e.label),1)],64)):j(e.$slots,"default",{key:1})],6))}}),al=Object.assign(Ya,{__name:"JPillLabel"}),ot=Math.min,xe=Math.max,at=Math.round,Je=Math.floor,le=t=>({x:t,y:t}),Ga={left:"right",right:"left",bottom:"top",top:"bottom"},Ja={start:"end",end:"start"};function tn(t,e,n){return xe(t,ot(e,n))}function st(t,e){return typeof t=="function"?t(e):t}function Ce(t){return t.split("-")[0]}function ct(t){return t.split("-")[1]}function En(t){return t==="x"?"y":"x"}function Bn(t){return t==="y"?"height":"width"}const Xa=new Set(["top","bottom"]);function me(t){return Xa.has(Ce(t))?"y":"x"}function Fn(t){return En(me(t))}function Za(t,e,n){n===void 0&&(n=!1);const o=ct(t),a=Fn(t),l=Bn(a);let r=a==="x"?o===(n?"end":"start")?"right":"left":o==="start"?"bottom":"top";return e.reference[l]>e.floating[l]&&(r=rt(r)),[r,rt(r)]}function Qa(t){const e=rt(t);return[Ct(t),e,Ct(e)]}function Ct(t){return t.replace(/start|end/g,e=>Ja[e])}const nn=["left","right"],on=["right","left"],er=["top","bottom"],tr=["bottom","top"];function nr(t,e,n){switch(t){case"top":case"bottom":return n?e?on:nn:e?nn:on;case"left":case"right":return e?er:tr;default:return[]}}function or(t,e,n,o){const a=ct(t);let l=nr(Ce(t),n==="start",o);return a&&(l=l.map(r=>r+"-"+a),e&&(l=l.concat(l.map(Ct)))),l}function rt(t){return t.replace(/left|right|bottom|top/g,e=>Ga[e])}function ar(t){return{top:0,right:0,bottom:0,left:0,...t}}function rr(t){return typeof t!="number"?ar(t):{top:t,right:t,bottom:t,left:t}}function lt(t){const{x:e,y:n,width:o,height:a}=t;return{width:o,height:a,top:n,left:e,right:e+o,bottom:n+a,x:e,y:n}}function an(t,e,n){let{reference:o,floating:a}=t;const l=me(e),r=Fn(e),c=Bn(r),d=Ce(e),f=l==="y",s=o.x+o.width/2-a.width/2,i=o.y+o.height/2-a.height/2,p=o[c]/2-a[c]/2;let b;switch(d){case"top":b={x:s,y:o.y-a.height};break;case"bottom":b={x:s,y:o.y+o.height};break;case"right":b={x:o.x+o.width,y:i};break;case"left":b={x:o.x-a.width,y:i};break;default:b={x:o.x,y:o.y}}switch(ct(e)){case"start":b[r]-=p*(n&&f?-1:1);break;case"end":b[r]+=p*(n&&f?-1:1);break}return b}const lr=async(t,e,n)=>{const{placement:o="bottom",strategy:a="absolute",middleware:l=[],platform:r}=n,c=l.filter(Boolean),d=await(r.isRTL==null?void 0:r.isRTL(e));let f=await r.getElementRects({reference:t,floating:e,strategy:a}),{x:s,y:i}=an(f,o,d),p=o,b={},y=0;for(let w=0;w<c.length;w++){const{name:C,fn:A}=c[w],{x,y:P,data:_,reset:T}=await A({x:s,y:i,initialPlacement:o,placement:p,strategy:a,middlewareData:b,rects:f,platform:r,elements:{reference:t,floating:e}});s=x??s,i=P??i,b={...b,[C]:{...b[C],..._}},T&&y<=50&&(y++,typeof T=="object"&&(T.placement&&(p=T.placement),T.rects&&(f=T.rects===!0?await r.getElementRects({reference:t,floating:e,strategy:a}):T.rects),{x:s,y:i}=an(f,p,d)),w=-1)}return{x:s,y:i,placement:p,strategy:a,middlewareData:b}};async function Pn(t,e){var n;e===void 0&&(e={});const{x:o,y:a,platform:l,rects:r,elements:c,strategy:d}=t,{boundary:f="clippingAncestors",rootBoundary:s="viewport",elementContext:i="floating",altBoundary:p=!1,padding:b=0}=st(e,t),y=rr(b),C=c[p?i==="floating"?"reference":"floating":i],A=lt(await l.getClippingRect({element:(n=await(l.isElement==null?void 0:l.isElement(C)))==null||n?C:C.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(c.floating)),boundary:f,rootBoundary:s,strategy:d})),x=i==="floating"?{x:o,y:a,width:r.floating.width,height:r.floating.height}:r.reference,P=await(l.getOffsetParent==null?void 0:l.getOffsetParent(c.floating)),_=await(l.isElement==null?void 0:l.isElement(P))?await(l.getScale==null?void 0:l.getScale(P))||{x:1,y:1}:{x:1,y:1},T=lt(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:x,offsetParent:P,strategy:d}):x);return{top:(A.top-T.top+y.top)/_.y,bottom:(T.bottom-A.bottom+y.bottom)/_.y,left:(A.left-T.left+y.left)/_.x,right:(T.right-A.right+y.right)/_.x}}const ir=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,o;const{placement:a,middlewareData:l,rects:r,initialPlacement:c,platform:d,elements:f}=e,{mainAxis:s=!0,crossAxis:i=!0,fallbackPlacements:p,fallbackStrategy:b="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:w=!0,...C}=st(t,e);if((n=l.arrow)!=null&&n.alignmentOffset)return{};const A=Ce(a),x=me(c),P=Ce(c)===c,_=await(d.isRTL==null?void 0:d.isRTL(f.floating)),T=p||(P||!w?[rt(c)]:Qa(c)),D=y!=="none";!p&&D&&T.push(...or(c,w,y,_));const V=[c,...T],h=await Pn(e,C),g=[];let N=((o=l.flip)==null?void 0:o.overflows)||[];if(s&&g.push(h[A]),i){const v=Za(a,r,_);g.push(h[v[0]],h[v[1]])}if(N=[...N,{placement:a,overflows:g}],!g.every(v=>v<=0)){var O,S;const v=(((O=l.flip)==null?void 0:O.index)||0)+1,k=V[v];if(k&&(!(i==="alignment"?x!==me(k):!1)||N.every(L=>me(L.placement)===x?L.overflows[0]>0:!0)))return{data:{index:v,overflows:N},reset:{placement:k}};let B=(S=N.filter(R=>R.overflows[0]<=0).sort((R,L)=>R.overflows[1]-L.overflows[1])[0])==null?void 0:S.placement;if(!B)switch(b){case"bestFit":{var u;const R=(u=N.filter(L=>{if(D){const E=me(L.placement);return E===x||E==="y"}return!0}).map(L=>[L.placement,L.overflows.filter(E=>E>0).reduce((E,M)=>E+M,0)]).sort((L,E)=>L[1]-E[1])[0])==null?void 0:u[0];R&&(B=R);break}case"initialPlacement":B=c;break}if(a!==B)return{reset:{placement:B}}}return{}}}},sr=new Set(["left","top"]);async function cr(t,e){const{placement:n,platform:o,elements:a}=t,l=await(o.isRTL==null?void 0:o.isRTL(a.floating)),r=Ce(n),c=ct(n),d=me(n)==="y",f=sr.has(r)?-1:1,s=l&&d?-1:1,i=st(e,t);let{mainAxis:p,crossAxis:b,alignmentAxis:y}=typeof i=="number"?{mainAxis:i,crossAxis:0,alignmentAxis:null}:{mainAxis:i.mainAxis||0,crossAxis:i.crossAxis||0,alignmentAxis:i.alignmentAxis};return c&&typeof y=="number"&&(b=c==="end"?y*-1:y),d?{x:b*s,y:p*f}:{x:p*f,y:b*s}}const ur=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,o;const{x:a,y:l,placement:r,middlewareData:c}=e,d=await cr(e,t);return r===((n=c.offset)==null?void 0:n.placement)&&(o=c.arrow)!=null&&o.alignmentOffset?{}:{x:a+d.x,y:l+d.y,data:{...d,placement:r}}}}},dr=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:o,placement:a}=e,{mainAxis:l=!0,crossAxis:r=!1,limiter:c={fn:C=>{let{x:A,y:x}=C;return{x:A,y:x}}},...d}=st(t,e),f={x:n,y:o},s=await Pn(e,d),i=me(Ce(a)),p=En(i);let b=f[p],y=f[i];if(l){const C=p==="y"?"top":"left",A=p==="y"?"bottom":"right",x=b+s[C],P=b-s[A];b=tn(x,b,P)}if(r){const C=i==="y"?"top":"left",A=i==="y"?"bottom":"right",x=y+s[C],P=y-s[A];y=tn(x,y,P)}const w=c.fn({...e,[p]:b,[i]:y});return{...w,data:{x:w.x-n,y:w.y-o,enabled:{[p]:l,[i]:r}}}}}};function ut(){return typeof window<"u"}function Ee(t){return Dt(t)?(t.nodeName||"").toLowerCase():"#document"}function Z(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function ce(t){var e;return(e=(Dt(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Dt(t){return ut()?t instanceof Node||t instanceof Z(t).Node:!1}function ae(t){return ut()?t instanceof Element||t instanceof Z(t).Element:!1}function ie(t){return ut()?t instanceof HTMLElement||t instanceof Z(t).HTMLElement:!1}function rn(t){return!ut()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Z(t).ShadowRoot}const fr=new Set(["inline","contents"]);function Ue(t){const{overflow:e,overflowX:n,overflowY:o,display:a}=re(t);return/auto|scroll|overlay|hidden|clip/.test(e+o+n)&&!fr.has(a)}const vr=new Set(["table","td","th"]);function pr(t){return vr.has(Ee(t))}const mr=[":popover-open",":modal"];function dt(t){return mr.some(e=>{try{return t.matches(e)}catch{return!1}})}const br=["transform","translate","scale","rotate","perspective"],yr=["transform","translate","scale","rotate","perspective","filter"],hr=["paint","layout","strict","content"];function Rt(t){const e=Lt(),n=ae(t)?re(t):t;return br.some(o=>n[o]?n[o]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||yr.some(o=>(n.willChange||"").includes(o))||hr.some(o=>(n.contain||"").includes(o))}function gr(t){let e=be(t);for(;ie(e)&&!Re(e);){if(Rt(e))return e;if(dt(e))return null;e=be(e)}return null}function Lt(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const wr=new Set(["html","body","#document"]);function Re(t){return wr.has(Ee(t))}function re(t){return Z(t).getComputedStyle(t)}function ft(t){return ae(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function be(t){if(Ee(t)==="html")return t;const e=t.assignedSlot||t.parentNode||rn(t)&&t.host||ce(t);return rn(e)?e.host:e}function Vn(t){const e=be(t);return Re(e)?t.ownerDocument?t.ownerDocument.body:t.body:ie(e)&&Ue(e)?e:Vn(e)}function ze(t,e,n){var o;e===void 0&&(e=[]),n===void 0&&(n=!0);const a=Vn(t),l=a===((o=t.ownerDocument)==null?void 0:o.body),r=Z(a);if(l){const c=Tt(r);return e.concat(r,r.visualViewport||[],Ue(a)?a:[],c&&n?ze(c):[])}return e.concat(a,ze(a,[],n))}function Tt(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Nn(t){const e=re(t);let n=parseFloat(e.width)||0,o=parseFloat(e.height)||0;const a=ie(t),l=a?t.offsetWidth:n,r=a?t.offsetHeight:o,c=at(n)!==l||at(o)!==r;return c&&(n=l,o=r),{width:n,height:o,$:c}}function $t(t){return ae(t)?t:t.contextElement}function Ne(t){const e=$t(t);if(!ie(e))return le(1);const n=e.getBoundingClientRect(),{width:o,height:a,$:l}=Nn(e);let r=(l?at(n.width):n.width)/o,c=(l?at(n.height):n.height)/a;return(!r||!Number.isFinite(r))&&(r=1),(!c||!Number.isFinite(c))&&(c=1),{x:r,y:c}}const kr=le(0);function Dn(t){const e=Z(t);return!Lt()||!e.visualViewport?kr:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Sr(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Z(t)?!1:e}function Te(t,e,n,o){e===void 0&&(e=!1),n===void 0&&(n=!1);const a=t.getBoundingClientRect(),l=$t(t);let r=le(1);e&&(o?ae(o)&&(r=Ne(o)):r=Ne(t));const c=Sr(l,n,o)?Dn(l):le(0);let d=(a.left+c.x)/r.x,f=(a.top+c.y)/r.y,s=a.width/r.x,i=a.height/r.y;if(l){const p=Z(l),b=o&&ae(o)?Z(o):o;let y=p,w=Tt(y);for(;w&&o&&b!==y;){const C=Ne(w),A=w.getBoundingClientRect(),x=re(w),P=A.left+(w.clientLeft+parseFloat(x.paddingLeft))*C.x,_=A.top+(w.clientTop+parseFloat(x.paddingTop))*C.y;d*=C.x,f*=C.y,s*=C.x,i*=C.y,d+=P,f+=_,y=Z(w),w=Tt(y)}}return lt({width:s,height:i,x:d,y:f})}function Ot(t,e){const n=ft(t).scrollLeft;return e?e.left+n:Te(ce(t)).left+n}function Rn(t,e,n){n===void 0&&(n=!1);const o=t.getBoundingClientRect(),a=o.left+e.scrollLeft-(n?0:Ot(t,o)),l=o.top+e.scrollTop;return{x:a,y:l}}function xr(t){let{elements:e,rect:n,offsetParent:o,strategy:a}=t;const l=a==="fixed",r=ce(o),c=e?dt(e.floating):!1;if(o===r||c&&l)return n;let d={scrollLeft:0,scrollTop:0},f=le(1);const s=le(0),i=ie(o);if((i||!i&&!l)&&((Ee(o)!=="body"||Ue(r))&&(d=ft(o)),ie(o))){const b=Te(o);f=Ne(o),s.x=b.x+o.clientLeft,s.y=b.y+o.clientTop}const p=r&&!i&&!l?Rn(r,d,!0):le(0);return{width:n.width*f.x,height:n.height*f.y,x:n.x*f.x-d.scrollLeft*f.x+s.x+p.x,y:n.y*f.y-d.scrollTop*f.y+s.y+p.y}}function Ar(t){return Array.from(t.getClientRects())}function Cr(t){const e=ce(t),n=ft(t),o=t.ownerDocument.body,a=xe(e.scrollWidth,e.clientWidth,o.scrollWidth,o.clientWidth),l=xe(e.scrollHeight,e.clientHeight,o.scrollHeight,o.clientHeight);let r=-n.scrollLeft+Ot(t);const c=-n.scrollTop;return re(o).direction==="rtl"&&(r+=xe(e.clientWidth,o.clientWidth)-a),{width:a,height:l,x:r,y:c}}function Tr(t,e){const n=Z(t),o=ce(t),a=n.visualViewport;let l=o.clientWidth,r=o.clientHeight,c=0,d=0;if(a){l=a.width,r=a.height;const f=Lt();(!f||f&&e==="fixed")&&(c=a.offsetLeft,d=a.offsetTop)}return{width:l,height:r,x:c,y:d}}const Er=new Set(["absolute","fixed"]);function Br(t,e){const n=Te(t,!0,e==="fixed"),o=n.top+t.clientTop,a=n.left+t.clientLeft,l=ie(t)?Ne(t):le(1),r=t.clientWidth*l.x,c=t.clientHeight*l.y,d=a*l.x,f=o*l.y;return{width:r,height:c,x:d,y:f}}function ln(t,e,n){let o;if(e==="viewport")o=Tr(t,n);else if(e==="document")o=Cr(ce(t));else if(ae(e))o=Br(e,n);else{const a=Dn(t);o={x:e.x-a.x,y:e.y-a.y,width:e.width,height:e.height}}return lt(o)}function Ln(t,e){const n=be(t);return n===e||!ae(n)||Re(n)?!1:re(n).position==="fixed"||Ln(n,e)}function Fr(t,e){const n=e.get(t);if(n)return n;let o=ze(t,[],!1).filter(c=>ae(c)&&Ee(c)!=="body"),a=null;const l=re(t).position==="fixed";let r=l?be(t):t;for(;ae(r)&&!Re(r);){const c=re(r),d=Rt(r);!d&&c.position==="fixed"&&(a=null),(l?!d&&!a:!d&&c.position==="static"&&!!a&&Er.has(a.position)||Ue(r)&&!d&&Ln(t,r))?o=o.filter(s=>s!==r):a=c,r=be(r)}return e.set(t,o),o}function Pr(t){let{element:e,boundary:n,rootBoundary:o,strategy:a}=t;const r=[...n==="clippingAncestors"?dt(e)?[]:Fr(e,this._c):[].concat(n),o],c=r[0],d=r.reduce((f,s)=>{const i=ln(e,s,a);return f.top=xe(i.top,f.top),f.right=ot(i.right,f.right),f.bottom=ot(i.bottom,f.bottom),f.left=xe(i.left,f.left),f},ln(e,c,a));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function Vr(t){const{width:e,height:n}=Nn(t);return{width:e,height:n}}function Nr(t,e,n){const o=ie(e),a=ce(e),l=n==="fixed",r=Te(t,!0,l,e);let c={scrollLeft:0,scrollTop:0};const d=le(0);function f(){d.x=Ot(a)}if(o||!o&&!l)if((Ee(e)!=="body"||Ue(a))&&(c=ft(e)),o){const b=Te(e,!0,l,e);d.x=b.x+e.clientLeft,d.y=b.y+e.clientTop}else a&&f();l&&!o&&a&&f();const s=a&&!o&&!l?Rn(a,c):le(0),i=r.left+c.scrollLeft-d.x-s.x,p=r.top+c.scrollTop-d.y-s.y;return{x:i,y:p,width:r.width,height:r.height}}function gt(t){return re(t).position==="static"}function sn(t,e){if(!ie(t)||re(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return ce(t)===n&&(n=n.ownerDocument.body),n}function $n(t,e){const n=Z(t);if(dt(t))return n;if(!ie(t)){let a=be(t);for(;a&&!Re(a);){if(ae(a)&&!gt(a))return a;a=be(a)}return n}let o=sn(t,e);for(;o&&pr(o)&&gt(o);)o=sn(o,e);return o&&Re(o)&&gt(o)&&!Rt(o)?n:o||gr(t)||n}const Dr=async function(t){const e=this.getOffsetParent||$n,n=this.getDimensions,o=await n(t.floating);return{reference:Nr(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:o.width,height:o.height}}};function Rr(t){return re(t).direction==="rtl"}const Lr={convertOffsetParentRelativeRectToViewportRelativeRect:xr,getDocumentElement:ce,getClippingRect:Pr,getOffsetParent:$n,getElementRects:Dr,getClientRects:Ar,getDimensions:Vr,getScale:Ne,isElement:ae,isRTL:Rr};function On(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function $r(t,e){let n=null,o;const a=ce(t);function l(){var c;clearTimeout(o),(c=n)==null||c.disconnect(),n=null}function r(c,d){c===void 0&&(c=!1),d===void 0&&(d=1),l();const f=t.getBoundingClientRect(),{left:s,top:i,width:p,height:b}=f;if(c||e(),!p||!b)return;const y=Je(i),w=Je(a.clientWidth-(s+p)),C=Je(a.clientHeight-(i+b)),A=Je(s),P={rootMargin:-y+"px "+-w+"px "+-C+"px "+-A+"px",threshold:xe(0,ot(1,d))||1};let _=!0;function T(D){const V=D[0].intersectionRatio;if(V!==d){if(!_)return r();V?r(!1,V):o=setTimeout(()=>{r(!1,1e-7)},1e3)}V===1&&!On(f,t.getBoundingClientRect())&&r(),_=!1}try{n=new IntersectionObserver(T,{...P,root:a.ownerDocument})}catch{n=new IntersectionObserver(T,P)}n.observe(t)}return r(!0),l}function Or(t,e,n,o){o===void 0&&(o={});const{ancestorScroll:a=!0,ancestorResize:l=!0,elementResize:r=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:d=!1}=o,f=$t(t),s=a||l?[...f?ze(f):[],...ze(e)]:[];s.forEach(A=>{a&&A.addEventListener("scroll",n,{passive:!0}),l&&A.addEventListener("resize",n)});const i=f&&c?$r(f,n):null;let p=-1,b=null;r&&(b=new ResizeObserver(A=>{let[x]=A;x&&x.target===f&&b&&(b.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var P;(P=b)==null||P.observe(e)})),n()}),f&&!d&&b.observe(f),b.observe(e));let y,w=d?Te(t):null;d&&C();function C(){const A=Te(t);w&&!On(w,A)&&n(),w=A,y=requestAnimationFrame(C)}return n(),()=>{var A;s.forEach(x=>{a&&x.removeEventListener("scroll",n),l&&x.removeEventListener("resize",n)}),i?.(),(A=b)==null||A.disconnect(),b=null,d&&cancelAnimationFrame(y)}}const _r=ur,Ir=dr,Mr=ir,jr=(t,e,n)=>{const o=new Map,a={platform:Lr,...n},l={...a.platform,_c:o};return lr(t,e,{...a,platform:l})};function Wr(t){return t!=null&&typeof t=="object"&&"$el"in t}function cn(t){if(Wr(t)){const e=t.$el;return Dt(e)&&Ee(e)==="#comment"?null:e}return t}function Ie(t){return typeof t=="function"?t():m(t)}function _n(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function un(t,e){const n=_n(t);return Math.round(e*n)/n}function zr(t,e,n){n===void 0&&(n={});const o=n.whileElementsMounted,a=F(()=>{var V;return(V=Ie(n.open))!=null?V:!0}),l=F(()=>Ie(n.middleware)),r=F(()=>{var V;return(V=Ie(n.placement))!=null?V:"bottom"}),c=F(()=>{var V;return(V=Ie(n.strategy))!=null?V:"absolute"}),d=F(()=>{var V;return(V=Ie(n.transform))!=null?V:!0}),f=F(()=>cn(t.value)),s=F(()=>cn(e.value)),i=I(0),p=I(0),b=I(c.value),y=I(r.value),w=kt({}),C=I(!1),A=F(()=>{const V={position:b.value,left:"0",top:"0"};if(!s.value)return V;const h=un(s.value,i.value),g=un(s.value,p.value);return d.value?{...V,transform:"translate("+h+"px, "+g+"px)",..._n(s.value)>=1.5&&{willChange:"transform"}}:{position:b.value,left:h+"px",top:g+"px"}});let x;function P(){if(f.value==null||s.value==null)return;const V=a.value;jr(f.value,s.value,{middleware:l.value,placement:r.value,strategy:c.value}).then(h=>{i.value=h.x,p.value=h.y,b.value=h.strategy,y.value=h.placement,w.value=h.middlewareData,C.value=V!==!1})}function _(){typeof x=="function"&&(x(),x=void 0)}function T(){if(_(),o===void 0){P();return}if(f.value!=null&&s.value!=null){x=o(f.value,s.value,P);return}}function D(){a.value||(C.value=!1)}return Y([l,r,c,a],P,{flush:"sync"}),Y([f,s],T,{flush:"sync"}),Y(a,D,{flush:"sync"}),bo()&&yo(_),{x:Be(i),y:Be(p),strategy:Be(b),placement:Be(y),middlewareData:Be(w),isPositioned:Be(C),floatingStyles:A,update:P}}const Kr=se({__name:"JTooltip",props:{offset:{default:4},tooltipClass:{},contentClass:{}},setup(t){const e=it(),{width:n}=hn(),o=I(null),a=I(null),l=I(!1),{floatingStyles:r,update:c}=zr(o,a,{middleware:[_r(t.offset),Mr(),Ir()],placement:"top"}),d=()=>{n.value>650||(l.value=!0)};return ho(()=>{l.value&&o.value&&a.value&&Or(o.value,a.value,c),n.value<=650&&Co(o,()=>{l.value=!1})}),(f,s)=>($(),W(Pt,null,[X("div",{ref_key:"reference",ref:o,class:H([f.$style.tooltip,f.tooltipClass]),onMouseenter:s[0]||(s[0]=i=>l.value=!0),onMouseleave:s[1]||(s[1]=i=>l.value=!1),onClick:d},[j(f.$slots,"default")],34),($(),ne(go,{to:"body"},[l.value?($(),W("div",{key:0,ref_key:"floating",ref:a,class:H(["tooltip-content",f.contentClass]),style:He({...m(r),position:"absolute",transition:"opacity 0.2s ease",opacity:l.value?1:0,zIndex:9999})},[e?.content?j(f.$slots,"content",{key:0}):q("",!0)],6)):q("",!0)]))],64))}}),Hr="_tooltip_odx3x_2",Ur={tooltip:Hr},qr={$style:Ur},rl=Object.assign(yn(Kr,[["__cssModules",qr]]),{__name:"JTooltip"}),Yr=se({__name:"JSkeleton",props:{width:{default:"50"},height:{default:"20"},variant:{default:"default"},fullWidth:{type:Boolean}},setup(t){return(e,n)=>($(),W("div",{class:H(["j-skeleton",[`j-skeleton--${e.variant}`,`j-skeleton--${e.fullWidth?"full-width":"default"}`]]),style:He({width:`${e.width}px`,"min-width":`${e.width}px`,height:`${e.variant!=="default"?e.width:e.height}px`})},null,6))}}),ll=Object.assign(Yr,{__name:"JSkeleton"});export{Xr as _,tl as a,Xt as b,Da as c,ht as d,ol as e,nl as f,ba as g,Cn as h,ll as i,al as j,rl as k,el as l,Zr as m,ha as s,Qr as t,Tn as u};
