import{N as Me,g as wt,r as _,H as Ke,O as Wn,w as Y,P as Kn,c as V,Q as ae,R as Hn,I as Un,G as kt,S as qn,T as Ze,U as Yn,V as Et,W as Gn,X as Xn,Y as dn,Z as Zn,$ as Jn,d as se,s as Je,a0 as Bt,M as it,a1 as fn,v as Ft,a2 as Ve,a3 as Qn,a4 as ea,a5 as ta,a6 as pt,a7 as Mt,x as ze,h as ne,o as O,l as U,j as q,k as j,u as m,a8 as St,p as pe,A as jt,e as Z,a9 as na,a as z,E as H,aa as de,ab as ge,ac as vn,f as Ne,t as ee,F as Vt,ad as mt,ae as aa,b as Se,B as zt,n as He,af as oa,ag as ra,q as la,ah as pn,ai as ia,aj as Wt,ak as sa,al as ca,am as ua,an as da,ao as fa,ap as va,m as pa,z as mn,i as bn,_ as yn,aq as ma,ar as ba,as as Be,at as ya,au as ha}from"./CobzMJ77.js";import{u as hn,i as ga,D as Pe,a as Nt,h as Kt,j as wa,b as Dt,k as ka,f as Sa,g as ve,e as xa,o as Aa}from"./zpHdnZTQ.js";var gn=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],Qe=gn.join(","),wn=typeof Element>"u",Ae=wn?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,et=!wn&&Element.prototype.getRootNode?function(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}:function(t){return t==null?void 0:t.ownerDocument},tt=function t(e,n){var a;n===void 0&&(n=!0);var o=e==null||(a=e.getAttribute)===null||a===void 0?void 0:a.call(e,"inert"),l=o===""||o==="true",r=l||n&&e&&t(e.parentNode);return r},Ca=function(e){var n,a=e==null||(n=e.getAttribute)===null||n===void 0?void 0:n.call(e,"contenteditable");return a===""||a==="true"},kn=function(e,n,a){if(tt(e))return[];var o=Array.prototype.slice.apply(e.querySelectorAll(Qe));return n&&Ae.call(e,Qe)&&o.unshift(e),o=o.filter(a),o},Sn=function t(e,n,a){for(var o=[],l=Array.from(e);l.length;){var r=l.shift();if(!tt(r,!1))if(r.tagName==="SLOT"){var u=r.assignedElements(),d=u.length?u:r.children,f=t(d,!0,a);a.flatten?o.push.apply(o,f):o.push({scopeParent:r,candidates:f})}else{var c=Ae.call(r,Qe);c&&a.filter(r)&&(n||!e.includes(r))&&o.push(r);var i=r.shadowRoot||typeof a.getShadowRoot=="function"&&a.getShadowRoot(r),p=!tt(i,!1)&&(!a.shadowRootFilter||a.shadowRootFilter(r));if(i&&p){var b=t(i===!0?r.children:i.children,!0,a);a.flatten?o.push.apply(o,b):o.push({scopeParent:r,candidates:b})}else l.unshift.apply(l,r.children)}}return o},xn=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},ke=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||Ca(e))&&!xn(e)?0:e.tabIndex},Ta=function(e,n){var a=ke(e);return a<0&&n&&!xn(e)?0:a},Ea=function(e,n){return e.tabIndex===n.tabIndex?e.documentOrder-n.documentOrder:e.tabIndex-n.tabIndex},An=function(e){return e.tagName==="INPUT"},Ba=function(e){return An(e)&&e.type==="hidden"},Fa=function(e){var n=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(a){return a.tagName==="SUMMARY"});return n},Va=function(e,n){for(var a=0;a<e.length;a++)if(e[a].checked&&e[a].form===n)return e[a]},Na=function(e){if(!e.name)return!0;var n=e.form||et(e),a=function(u){return n.querySelectorAll('input[type="radio"][name="'+u+'"]')},o;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")o=a(window.CSS.escape(e.name));else try{o=a(e.name)}catch(r){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",r.message),!1}var l=Va(o,e.form);return!l||l===e},Da=function(e){return An(e)&&e.type==="radio"},Pa=function(e){return Da(e)&&!Na(e)},Ra=function(e){var n,a=e&&et(e),o=(n=a)===null||n===void 0?void 0:n.host,l=!1;if(a&&a!==e){var r,u,d;for(l=!!((r=o)!==null&&r!==void 0&&(u=r.ownerDocument)!==null&&u!==void 0&&u.contains(o)||e!=null&&(d=e.ownerDocument)!==null&&d!==void 0&&d.contains(e));!l&&o;){var f,c,i;a=et(o),o=(f=a)===null||f===void 0?void 0:f.host,l=!!((c=o)!==null&&c!==void 0&&(i=c.ownerDocument)!==null&&i!==void 0&&i.contains(o))}}return l},Ht=function(e){var n=e.getBoundingClientRect(),a=n.width,o=n.height;return a===0&&o===0},La=function(e,n){var a=n.displayCheck,o=n.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var l=Ae.call(e,"details>summary:first-of-type"),r=l?e.parentElement:e;if(Ae.call(r,"details:not([open]) *"))return!0;if(!a||a==="full"||a==="legacy-full"){if(typeof o=="function"){for(var u=e;e;){var d=e.parentElement,f=et(e);if(d&&!d.shadowRoot&&o(d)===!0)return Ht(e);e.assignedSlot?e=e.assignedSlot:!d&&f!==e.ownerDocument?e=f.host:e=d}e=u}if(Ra(e))return!e.getClientRects().length;if(a!=="legacy-full")return!0}else if(a==="non-zero-area")return Ht(e);return!1},$a=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var n=e.parentElement;n;){if(n.tagName==="FIELDSET"&&n.disabled){for(var a=0;a<n.children.length;a++){var o=n.children.item(a);if(o.tagName==="LEGEND")return Ae.call(n,"fieldset[disabled] *")?!0:!o.contains(e)}return!0}n=n.parentElement}return!1},nt=function(e,n){return!(n.disabled||tt(n)||Ba(n)||La(n,e)||Fa(n)||$a(n))},xt=function(e,n){return!(Pa(n)||ke(n)<0||!nt(e,n))},Oa=function(e){var n=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(n)||n>=0)},Ia=function t(e){var n=[],a=[];return e.forEach(function(o,l){var r=!!o.scopeParent,u=r?o.scopeParent:o,d=Ta(u,r),f=r?t(o.candidates):u;d===0?r?n.push.apply(n,f):n.push(u):a.push({documentOrder:l,tabIndex:d,item:o,isScope:r,content:f})}),a.sort(Ea).reduce(function(o,l){return l.isScope?o.push.apply(o,l.content):o.push(l.content),o},[]).concat(n)},_a=function(e,n){n=n||{};var a;return n.getShadowRoot?a=Sn([e],n.includeContainer,{filter:xt.bind(null,n),flatten:!1,getShadowRoot:n.getShadowRoot,shadowRootFilter:Oa}):a=kn(e,n.includeContainer,xt.bind(null,n)),Ia(a)},Ma=function(e,n){n=n||{};var a;return n.getShadowRoot?a=Sn([e],n.includeContainer,{filter:nt.bind(null,n),flatten:!0,getShadowRoot:n.getShadowRoot}):a=kn(e,n.includeContainer,nt.bind(null,n)),a},Fe=function(e,n){if(n=n||{},!e)throw new Error("No node provided");return Ae.call(e,Qe)===!1?!1:xt(n,e)},ja=gn.concat("iframe").join(","),bt=function(e,n){if(n=n||{},!e)throw new Error("No node provided");return Ae.call(e,ja)===!1?!1:nt(n,e)};function At(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,a=Array(e);n<e;n++)a[n]=t[n];return a}function za(t){if(Array.isArray(t))return At(t)}function Wa(t,e,n){return(e=Ya(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ka(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ha(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ut(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,a)}return n}function qt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ut(Object(n),!0).forEach(function(a){Wa(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ut(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function Ua(t){return za(t)||Ka(t)||Ga(t)||Ha()}function qa(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,e);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ya(t){var e=qa(t,"string");return typeof e=="symbol"?e:e+""}function Ga(t,e){if(t){if(typeof t=="string")return At(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?At(t,e):void 0}}var Yt={activateTrap:function(e,n){if(e.length>0){var a=e[e.length-1];a!==n&&a._setPausedState(!0)}var o=e.indexOf(n);o===-1||e.splice(o,1),e.push(n)},deactivateTrap:function(e,n){var a=e.indexOf(n);a!==-1&&e.splice(a,1),e.length>0&&!e[e.length-1]._isManuallyPaused()&&e[e.length-1]._setPausedState(!1)}},Xa=function(e){return e.tagName&&e.tagName.toLowerCase()==="input"&&typeof e.select=="function"},Za=function(e){return(e==null?void 0:e.key)==="Escape"||(e==null?void 0:e.key)==="Esc"||(e==null?void 0:e.keyCode)===27},je=function(e){return(e==null?void 0:e.key)==="Tab"||(e==null?void 0:e.keyCode)===9},Ja=function(e){return je(e)&&!e.shiftKey},Qa=function(e){return je(e)&&e.shiftKey},Gt=function(e){return setTimeout(e,0)},Ie=function(e){for(var n=arguments.length,a=new Array(n>1?n-1:0),o=1;o<n;o++)a[o-1]=arguments[o];return typeof e=="function"?e.apply(void 0,a):e},Ye=function(e){return e.target.shadowRoot&&typeof e.composedPath=="function"?e.composedPath()[0]:e.target},eo=[],to=function(e,n){var a=(n==null?void 0:n.document)||document,o=(n==null?void 0:n.trapStack)||eo,l=qt({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:Ja,isKeyBackward:Qa},n),r={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,manuallyPaused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},u,d=function(s,v,x){return s&&s[v]!==void 0?s[v]:l[x||v]},f=function(s,v){var x=typeof(v==null?void 0:v.composedPath)=="function"?v.composedPath():void 0;return r.containerGroups.findIndex(function(F){var R=F.container,L=F.tabbableNodes;return R.contains(s)||(x==null?void 0:x.includes(R))||L.find(function(B){return B===s})})},c=function(s){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},x=v.hasFallback,F=x===void 0?!1:x,R=v.params,L=R===void 0?[]:R,B=l[s];if(typeof B=="function"&&(B=B.apply(void 0,Ua(L))),B===!0&&(B=void 0),!B){if(B===void 0||B===!1)return B;throw new Error("`".concat(s,"` was specified but was not a node, or did not return a node"))}var M=B;if(typeof B=="string"){try{M=a.querySelector(B)}catch(K){throw new Error("`".concat(s,'` appears to be an invalid selector; error="').concat(K.message,'"'))}if(!M&&!F)throw new Error("`".concat(s,"` as selector refers to no known node"))}return M},i=function(){var s=c("initialFocus",{hasFallback:!0});if(s===!1)return!1;if(s===void 0||s&&!bt(s,l.tabbableOptions))if(f(a.activeElement)>=0)s=a.activeElement;else{var v=r.tabbableGroups[0],x=v&&v.firstTabbableNode;s=x||c("fallbackFocus")}else s===null&&(s=c("fallbackFocus"));if(!s)throw new Error("Your focus-trap needs to have at least one focusable element");return s},p=function(){if(r.containerGroups=r.containers.map(function(s){var v=_a(s,l.tabbableOptions),x=Ma(s,l.tabbableOptions),F=v.length>0?v[0]:void 0,R=v.length>0?v[v.length-1]:void 0,L=x.find(function(K){return Fe(K)}),B=x.slice().reverse().find(function(K){return Fe(K)}),M=!!v.find(function(K){return ke(K)>0});return{container:s,tabbableNodes:v,focusableNodes:x,posTabIndexesFound:M,firstTabbableNode:F,lastTabbableNode:R,firstDomTabbableNode:L,lastDomTabbableNode:B,nextTabbableNode:function(ue){var ye=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,te=v.indexOf(ue);return te<0?ye?x.slice(x.indexOf(ue)+1).find(function(he){return Fe(he)}):x.slice(0,x.indexOf(ue)).reverse().find(function(he){return Fe(he)}):v[te+(ye?1:-1)]}}}),r.tabbableGroups=r.containerGroups.filter(function(s){return s.tabbableNodes.length>0}),r.tabbableGroups.length<=0&&!c("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(r.containerGroups.find(function(s){return s.posTabIndexesFound})&&r.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},b=function(s){var v=s.activeElement;if(v)return v.shadowRoot&&v.shadowRoot.activeElement!==null?b(v.shadowRoot):v},y=function(s){if(s!==!1&&s!==b(document)){if(!s||!s.focus){y(i());return}s.focus({preventScroll:!!l.preventScroll}),r.mostRecentlyFocusedNode=s,Xa(s)&&s.select()}},A=function(s){var v=c("setReturnFocus",{params:[s]});return v||(v===!1?!1:s)},C=function(s){var v=s.target,x=s.event,F=s.isBackward,R=F===void 0?!1:F;v=v||Ye(x),p();var L=null;if(r.tabbableGroups.length>0){var B=f(v,x),M=B>=0?r.containerGroups[B]:void 0;if(B<0)R?L=r.tabbableGroups[r.tabbableGroups.length-1].lastTabbableNode:L=r.tabbableGroups[0].firstTabbableNode;else if(R){var K=r.tabbableGroups.findIndex(function(Le){var $e=Le.firstTabbableNode;return v===$e});if(K<0&&(M.container===v||bt(v,l.tabbableOptions)&&!Fe(v,l.tabbableOptions)&&!M.nextTabbableNode(v,!1))&&(K=B),K>=0){var ue=K===0?r.tabbableGroups.length-1:K-1,ye=r.tabbableGroups[ue];L=ke(v)>=0?ye.lastTabbableNode:ye.lastDomTabbableNode}else je(x)||(L=M.nextTabbableNode(v,!1))}else{var te=r.tabbableGroups.findIndex(function(Le){var $e=Le.lastTabbableNode;return v===$e});if(te<0&&(M.container===v||bt(v,l.tabbableOptions)&&!Fe(v,l.tabbableOptions)&&!M.nextTabbableNode(v))&&(te=B),te>=0){var he=te===r.tabbableGroups.length-1?0:te+1,qe=r.tabbableGroups[he];L=ke(v)>=0?qe.firstTabbableNode:qe.firstDomTabbableNode}else je(x)||(L=M.nextTabbableNode(v))}}else L=c("fallbackFocus");return L},k=function(s){var v=Ye(s);if(!(f(v,s)>=0)){if(Ie(l.clickOutsideDeactivates,s)){u.deactivate({returnFocus:l.returnFocusOnDeactivate});return}Ie(l.allowOutsideClick,s)||s.preventDefault()}},S=function(s){var v=Ye(s),x=f(v,s)>=0;if(x||v instanceof Document)x&&(r.mostRecentlyFocusedNode=v);else{s.stopImmediatePropagation();var F,R=!0;if(r.mostRecentlyFocusedNode)if(ke(r.mostRecentlyFocusedNode)>0){var L=f(r.mostRecentlyFocusedNode),B=r.containerGroups[L].tabbableNodes;if(B.length>0){var M=B.findIndex(function(K){return K===r.mostRecentlyFocusedNode});M>=0&&(l.isKeyForward(r.recentNavEvent)?M+1<B.length&&(F=B[M+1],R=!1):M-1>=0&&(F=B[M-1],R=!1))}}else r.containerGroups.some(function(K){return K.tabbableNodes.some(function(ue){return ke(ue)>0})})||(R=!1);else R=!1;R&&(F=C({target:r.mostRecentlyFocusedNode,isBackward:l.isKeyBackward(r.recentNavEvent)})),y(F||r.mostRecentlyFocusedNode||i())}r.recentNavEvent=void 0},E=function(s){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;r.recentNavEvent=s;var x=C({event:s,isBackward:v});x&&(je(s)&&s.preventDefault(),y(x))},I=function(s){(l.isKeyForward(s)||l.isKeyBackward(s))&&E(s,l.isKeyBackward(s))},T=function(s){Za(s)&&Ie(l.escapeDeactivates,s)!==!1&&(s.preventDefault(),u.deactivate())},N=function(s){var v=Ye(s);f(v,s)>=0||Ie(l.clickOutsideDeactivates,s)||Ie(l.allowOutsideClick,s)||(s.preventDefault(),s.stopImmediatePropagation())},D=function(){if(r.active)return Yt.activateTrap(o,u),r.delayInitialFocusTimer=l.delayInitialFocus?Gt(function(){y(i())}):y(i()),a.addEventListener("focusin",S,!0),a.addEventListener("mousedown",k,{capture:!0,passive:!1}),a.addEventListener("touchstart",k,{capture:!0,passive:!1}),a.addEventListener("click",N,{capture:!0,passive:!1}),a.addEventListener("keydown",I,{capture:!0,passive:!1}),a.addEventListener("keydown",T),u},g=function(){if(r.active)return a.removeEventListener("focusin",S,!0),a.removeEventListener("mousedown",k,!0),a.removeEventListener("touchstart",k,!0),a.removeEventListener("click",N,!0),a.removeEventListener("keydown",I,!0),a.removeEventListener("keydown",T),u},w=function(s){var v=s.some(function(x){var F=Array.from(x.removedNodes);return F.some(function(R){return R===r.mostRecentlyFocusedNode})});v&&y(i())},P=typeof window<"u"&&"MutationObserver"in window?new MutationObserver(w):void 0,$=function(){P&&(P.disconnect(),r.active&&!r.paused&&r.containers.map(function(s){P.observe(s,{subtree:!0,childList:!0})}))};return u={get active(){return r.active},get paused(){return r.paused},activate:function(s){if(r.active)return this;var v=d(s,"onActivate"),x=d(s,"onPostActivate"),F=d(s,"checkCanFocusTrap");F||p(),r.active=!0,r.paused=!1,r.nodeFocusedBeforeActivation=a.activeElement,v==null||v();var R=function(){F&&p(),D(),$(),x==null||x()};return F?(F(r.containers.concat()).then(R,R),this):(R(),this)},deactivate:function(s){if(!r.active)return this;var v=qt({onDeactivate:l.onDeactivate,onPostDeactivate:l.onPostDeactivate,checkCanReturnFocus:l.checkCanReturnFocus},s);clearTimeout(r.delayInitialFocusTimer),r.delayInitialFocusTimer=void 0,g(),r.active=!1,r.paused=!1,$(),Yt.deactivateTrap(o,u);var x=d(v,"onDeactivate"),F=d(v,"onPostDeactivate"),R=d(v,"checkCanReturnFocus"),L=d(v,"returnFocus","returnFocusOnDeactivate");x==null||x();var B=function(){Gt(function(){L&&y(A(r.nodeFocusedBeforeActivation)),F==null||F()})};return L&&R?(R(A(r.nodeFocusedBeforeActivation)).then(B,B),this):(B(),this)},pause:function(s){return r.active?(r.manuallyPaused=!0,this._setPausedState(!0,s)):this},unpause:function(s){return r.active?(r.manuallyPaused=!1,o[o.length-1]!==this?this:this._setPausedState(!1,s)):this},updateContainerElements:function(s){var v=[].concat(s).filter(Boolean);return r.containers=v.map(function(x){return typeof x=="string"?a.querySelector(x):x}),r.active&&p(),$(),this}},Object.defineProperties(u,{_isManuallyPaused:{value:function(){return r.manuallyPaused}},_setPausedState:{value:function(s,v){if(r.paused===s)return this;if(r.paused=s,s){var x=d(v,"onPause"),F=d(v,"onPostPause");x==null||x(),g(),$(),F==null||F()}else{var R=d(v,"onUnpause"),L=d(v,"onPostUnpause");R==null||R(),p(),D(),$(),L==null||L()}return this}}}),u.updateContainerElements(e),u};function no(t,e={}){let n;const{immediate:a,...o}=e,l=kt(!1),r=kt(!1),u=p=>n&&n.activate(p),d=p=>n&&n.deactivate(p),f=()=>{n&&(n.pause(),r.value=!0)},c=()=>{n&&(n.unpause(),r.value=!1)},i=V(()=>{const p=ae(t);return qn(p).map(b=>{const y=ae(b);return typeof y=="string"?y:Ze(y)}).filter(Yn)});return Y(i,p=>{p.length&&(n=to(p,{...o,onActivate(){l.value=!0,e.onActivate&&e.onActivate()},onDeactivate(){l.value=!1,e.onDeactivate&&e.onDeactivate()}}),a&&u())},{flush:"post"}),Et(()=>d()),{hasFocus:l,isPaused:r,activate:u,deactivate:d,pause:f,unpause:c}}const ao=({element:t,isActive:e,noTrap:n,fallbackFocus:a,focus:o},l={allowOutsideClick:!0,fallbackFocus:a.ref.value??void 0,escapeDeactivates:!1,clickOutsideDeactivates:!1,initialFocus:o})=>{const r=Me(wt(e)),u=Me(wt(n)),d=()=>{var i;const p=(i=t.value)==null?void 0:i.querySelectorAll(`a, button, input, select, textarea, [tabindex]:not([tabindex="-1"]):not(.${a.classSelector})`);return!(p!=null&&p.length)},f=_(!1);Ke(()=>{f.value=d(),Wn(t,()=>{f.value=d()},{childList:!0,subtree:!0})});const c=no(t,l);return Y(r,async i=>{i&&u.value===!1?c.activate():c.deactivate()}),Y(u,i=>{i===!0&&c.deactivate()}),{needsFallback:Me(f)}},oo=Hn(Gn);let Ge="";const we=new Map,ro=(t,e)=>{const n=Me(wt(t)),a=Kn(),o=V(()=>!ae(e)),l=oo(typeof document<"u"?document.body:null,n.value&&o.value);Ke(()=>{typeof document>"u"||(we.set(a,!1),Y([n,o],([r,u])=>{const d=window.innerWidth-document.documentElement.clientWidth,f=Array.from(we.values()).some(p=>p===!0),c=r&&u;we.set(a,c),c&&!f&&!l.value&&(l.value=!0,d>0&&(Ge=document.body.style.paddingRight,document.body.style.paddingRight=`${d+Ge}px`));const i=Array.from(we.values()).some(p=>p===!0);f&&!i&&(we.set(a,!1),l.value=!1,document.body.style.paddingRight=Ge)},{immediate:!0}))}),Un(()=>{we.delete(a),Array.from(we.values()).some(u=>u===!0)||(document.body.style.paddingRight=Ge,l.value=!1)})},yt="modal-open",lo=()=>{const t=dn(Zn),e=a=>{t==null||t.removeStack(a),t==null||t.removeRegistry(a)},n=Jn("updateHTMLAttrs",(a,o,l)=>{const r=typeof a=="string"?window==null?void 0:window.document.querySelector(a):Ze(a);r&&(o==="class"?r.classList.toggle(yt,l===yt):r.setAttribute(o,l))});return Et(()=>{n("body","class","")}),Y(()=>t==null?void 0:t.countStack.value,a=>{a!==void 0&&n("body","class",a>0?yt:"")}),{...t,dispose:e}},io=(t,e)=>{const{pushRegistry:n,pushStack:a,removeStack:o,stack:l,dispose:r,countStack:u}=lo(),d=Xn();if(!d||d.type.__name!=="BModal")throw new Error("useModalManager must only use in BModal component");n==null||n(d),Et(()=>{r(d)});const f=(c,i)=>{c?a==null||a(d):i&&!c&&(o==null||o(d))};return f(e,e),Y(t,f),{activePosition:V(()=>l==null?void 0:l.value.findIndex(c=>{var i,p;return ae((i=c.exposed)==null?void 0:i.id)===ae((p=d.exposed)==null?void 0:p.id)})),activeModalCount:u,stackWithoutSelf:V(()=>(l==null?void 0:l.value.filter(c=>{var i,p;return ae((i=c.exposed)==null?void 0:i.id)!==ae((p=d.exposed)==null?void 0:p.id)}))??[])}},so=["id","aria-labelledby","aria-describedby"],co=["id"],Xt="modal-fallback-focus",uo=se({inheritAttrs:!1,__name:"BModal",props:Je({focus:{type:[String,Boolean,Object,null],default:void 0},backdropFirst:{type:Boolean,default:!1},body:{default:void 0},bodyAttrs:{default:void 0},bodyBgVariant:{default:null},bodyClass:{default:null},bodyScrolling:{type:Boolean,default:!1},bodyTextVariant:{default:null},bodyVariant:{default:null},busy:{type:Boolean,default:!1},buttonSize:{default:"md"},cancelClass:{default:void 0},cancelDisabled:{type:Boolean,default:!1},cancelTitle:{default:"Cancel"},cancelVariant:{default:"secondary"},centered:{type:Boolean,default:!1},contentClass:{default:void 0},dialogClass:{default:void 0},footerBgVariant:{default:null},footerBorderVariant:{default:null},footerClass:{default:void 0},footerTextVariant:{default:null},footerVariant:{default:null},fullscreen:{type:[Boolean,String],default:!1},headerBgVariant:{default:null},headerBorderVariant:{default:null},headerClass:{default:void 0},headerCloseClass:{default:void 0},headerCloseLabel:{default:"Close"},headerCloseVariant:{default:"secondary"},headerTextVariant:{default:null},headerVariant:{default:null},noBackdrop:{type:Boolean,default:!1},noFooter:{type:Boolean,default:!1},noHeader:{type:Boolean,default:!1},noHeaderClose:{type:Boolean,default:!1},id:{default:void 0},modalClass:{default:void 0},noCloseOnBackdrop:{type:Boolean,default:!1},noCloseOnEsc:{type:Boolean,default:!1},noTrap:{type:Boolean,default:!1},noStacking:{type:Boolean},okClass:{default:void 0},okDisabled:{type:Boolean,default:!1},okOnly:{type:Boolean,default:!1},okTitle:{default:"OK"},okVariant:{default:"primary"},scrollable:{type:Boolean,default:!1},size:{default:"md"},title:{default:void 0},titleClass:{default:void 0},titleVisuallyHidden:{type:Boolean,default:!1},titleTag:{default:"h5"},teleportDisabled:{type:Boolean,default:!1},teleportTo:{default:"body"},initialAnimation:{type:Boolean,default:!1},noAnimation:{type:Boolean},noFade:{type:Boolean,default:!1},lazy:{type:Boolean,default:!1},unmountLazy:{type:Boolean,default:!1},show:{type:Boolean,default:!1},transProps:{default:void 0},visible:{type:Boolean,default:!1}},{modelValue:{type:Boolean,default:!1},modelModifiers:{}}),emits:Je(["backdrop","close","esc","hide","hide-prevented","hidden","show","show-prevented","shown","toggle","toggle-prevented","cancel","ok"],["update:modelValue"]),setup(t,{expose:e,emit:n}){const o=Bt(t,"BModal"),l=n,r=it(),u=fn(()=>o.id,"modal"),d=Ft(t,"modelValue"),f=Ve("_element"),c=Ve("_fallbackFocusElement"),i=Ve("_okButton"),p=Ve("_cancelButton"),b=Ve("_closeButton"),y=()=>o.focus&&typeof o.focus!="boolean"?o.focus==="ok"?i:o.focus==="close"?b:o.focus==="cancel"?p:ra(o.focus,f.value??void 0)??f.value:f;let A=null;const C=()=>{if(o.noTrap&&o.focus!==!1){A=document.activeElement,A===f.value&&(A=null);const W=Ze(y());if(!W)return;W==null||W.focus(),W.tagName&&W.tagName.toLowerCase()==="input"&&typeof W.select=="function"&&W.select()}},k=()=>{o.noTrap&&o.focus!==!1&&A&&(A==null||A.focus(),A=null)},{showRef:S,renderRef:E,renderBackdropRef:I,hide:T,show:N,toggle:D,computedNoAnimation:g,transitionProps:w,backdropTransitionProps:P,isLeaving:$,isVisible:h,trapActive:s,contentShowing:v,backdropReady:x,backdropVisible:F}=Qn(d,o,l,f,u,{transitionProps:{onAfterEnter:C,onAfterLeave:k}}),{needsFallback:R}=ao({element:f,isActive:s,noTrap:()=>o.noTrap,fallbackFocus:{ref:c,classSelector:Xt},focus:()=>o.focus===!1?!1:Ze(y())??void 0});ea("Escape",()=>{T("esc")},{target:f}),ro(S,()=>o.bodyScrolling);const L=V(()=>!ta(r["header-close"])),B=V(()=>[o.dialogClass,{"modal-fullscreen":o.fullscreen===!0,[`modal-fullscreen-${o.fullscreen}-down`]:typeof o.fullscreen=="string",[`modal-${o.size}`]:o.size!=="md","modal-dialog-centered":o.centered,"modal-dialog-scrollable":o.scrollable}]),M=pt(()=>({bgVariant:o.bodyBgVariant,textVariant:o.bodyTextVariant,variant:o.bodyVariant})),K=V(()=>[o.bodyClass,M.value]),ue=pt(()=>({bgVariant:o.headerBgVariant,textVariant:o.headerTextVariant,variant:o.headerVariant,borderVariant:o.headerBorderVariant})),ye=V(()=>[o.headerClass,ue.value]),te=V(()=>({variant:L.value?o.headerCloseVariant:void 0,class:o.headerCloseClass})),he=pt(()=>({bgVariant:o.footerBgVariant,textVariant:o.footerTextVariant,variant:o.footerVariant,borderVariant:o.footerBorderVariant})),qe=V(()=>[o.footerClass,he.value]),Le=V(()=>[o.titleClass,{"visually-hidden":o.titleVisuallyHidden}]),$e=V(()=>o.cancelDisabled||o.busy),_n=V(()=>o.okDisabled||o.busy),{activePosition:G,activeModalCount:Q,stackWithoutSelf:Mn}=io(S,d.value),It=V(()=>({[`stack-position-${(G==null?void 0:G.value)??0}`]:!0,[`stack-inverse-position-${((Q==null?void 0:Q.value)??1)-1-((G==null?void 0:G.value)??0)}`]:!0}));Y(Mn,(W,X)=>{W.length>X.length&&S.value===!0&&o.noStacking===!0&&T()});const vt=_(Mt(f.value??(typeof document<"u"?document.body:void 0)));Ke(()=>{Y(E,W=>{W&&ze(()=>{f.value&&(vt.value=Mt(f.value))})},{immediate:!0})});const _t=V(()=>S.value||$.value?vt.value-(((Q==null?void 0:Q.value)??0)*2-((G==null?void 0:G.value)??0)*2):vt.value),jn=V(()=>({"z-index":_t.value,"--b-position":(G==null?void 0:G.value)??0,"--b-inverse-position":((Q==null?void 0:Q.value)??1)-1-((G==null?void 0:G.value)??0),"--b-count":(Q==null?void 0:Q.value)??0})),zn=V(()=>({"z-index":_t.value-1,"--b-position":(G==null?void 0:G.value)??0,"--b-inverse-position":((Q==null?void 0:Q.value)??1)-1-((G==null?void 0:G.value)??0),"--b-count":(Q==null?void 0:Q.value)??0})),fe=V(()=>({id:u.value,cancel:()=>{T("cancel")},close:()=>{T("close")},hide:T,show:N,toggle:D,ok:()=>{T("ok")},active:S.value,visible:S.value}));return e({hide:T,id:u,show:N,toggle:D,visible:S}),(W,X)=>(O(),ne(oa,{to:m(o).teleportTo,disabled:m(o).teleportDisabled},{default:U(()=>[m(E)||m(v)?(O(),ne(St,pe({key:0},m(w),{appear:d.value||m(o).visible}),{default:U(()=>[jt(Z("div",pe({id:m(u),ref:"_element",class:["modal",[m(o).modalClass,{fade:!m(g),show:m(h),...It.value}]],role:"dialog","aria-labelledby":m(o).noHeader?void 0:`${m(u)}-label`,"aria-describedby":`${m(u)}-body`,tabindex:"-1"},W.$attrs,{style:[jn.value,{display:"block"}],onMousedown:X[4]||(X[4]=na(Oe=>m(T)("backdrop"),["left","self"]))}),[Z("div",{class:H(["modal-dialog",B.value])},[m(v)?(O(),z("div",{key:0,class:H(["modal-content",m(o).contentClass])},[m(o).noHeader?q("",!0):(O(),z("div",{key:0,class:H(["modal-header",ye.value])},[j(W.$slots,"header",de(ge(fe.value)),()=>[(O(),ne(vn(m(o).titleTag),{id:`${m(u)}-label`,class:H(["modal-title",Le.value])},{default:U(()=>[j(W.$slots,"title",de(ge(fe.value)),()=>[Ne(ee(m(o).title),1)])]),_:3},8,["id","class"])),m(o).noHeaderClose?q("",!0):(O(),z(Vt,{key:0},[L.value?(O(),ne(mt,pe({key:0},te.value,{onClick:X[0]||(X[0]=Oe=>m(T)("close"))}),{default:U(()=>[j(W.$slots,"header-close",de(ge(fe.value)))]),_:3},16)):(O(),ne(aa,pe({key:1,"aria-label":m(o).headerCloseLabel},te.value,{onClick:X[1]||(X[1]=Oe=>m(T)("close"))}),null,16,["aria-label"]))],64))])],2)),Z("div",pe({id:`${m(u)}-body`,class:["modal-body",K.value]},m(o).bodyAttrs),[j(W.$slots,"default",de(ge(fe.value)),()=>[Ne(ee(m(o).body),1)])],16,co),m(o).noFooter?q("",!0):(O(),z("div",{key:1,class:H(["modal-footer",qe.value])},[j(W.$slots,"footer",de(ge(fe.value)),()=>[j(W.$slots,"cancel",de(ge(fe.value)),()=>[m(o).okOnly?q("",!0):(O(),ne(mt,{key:0,ref:"_cancelButton",disabled:$e.value,size:m(o).buttonSize,variant:m(o).cancelVariant,class:H(m(o).cancelClass),onClick:X[2]||(X[2]=Oe=>m(T)("cancel"))},{default:U(()=>[Ne(ee(m(o).cancelTitle),1)]),_:1},8,["disabled","size","variant","class"]))]),j(W.$slots,"ok",de(ge(fe.value)),()=>[Se(mt,{ref:"_okButton",disabled:_n.value,size:m(o).buttonSize,variant:m(o).okVariant,class:H(m(o).okClass),onClick:X[3]||(X[3]=Oe=>m(T)("ok"))},{default:U(()=>[Ne(ee(m(o).okTitle),1)]),_:1},8,["disabled","size","variant","class"])])])],2))],2)):q("",!0)],2),m(R)?(O(),z("div",{key:0,ref:"_fallbackFocusElement",class:H(Xt),tabindex:"0",style:{width:"0",height:"0",overflow:"hidden"}},null,512)):q("",!0)],16,so),[[zt,m(S)&&(m(x)&&m(o).backdropFirst||!m(o).backdropFirst)]])]),_:3},16,["appear"])):q("",!0),m(o).noBackdrop?q("",!0):j(W.$slots,"backdrop",de(pe({key:1},fe.value)),()=>[m(I)?(O(),ne(St,de(pe({key:0},m(P))),{default:U(()=>[jt(Z("div",{class:H(["modal-backdrop",{fade:!m(g),show:m(F)||m(g),...It.value}]),style:He(zn.value),onClick:X[5]||(X[5]=Oe=>m(T)("backdrop"))},null,6),[[zt,m(S)||m($)&&m(o).backdropFirst&&!m(g)]])]),_:1},16)):q("",!0)])]),_:3},8,["to","disabled"]))}}),fo={width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"};function vo(t,e){return O(),z("svg",fo,e[0]||(e[0]=[Z("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M4.29289 4.29289C4.68342 3.90237 5.31658 3.90237 5.70711 4.29289L10 8.58579L14.2929 4.29289C14.6834 3.90237 15.3166 3.90237 15.7071 4.29289C16.0976 4.68342 16.0976 5.31658 15.7071 5.70711L11.4142 10L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L10 11.4142L5.70711 15.7071C5.31658 16.0976 4.68342 16.0976 4.29289 15.7071C3.90237 15.3166 3.90237 14.6834 4.29289 14.2929L8.58579 10L4.29289 5.70711C3.90237 5.31658 3.90237 4.68342 4.29289 4.29289Z",fill:"currentColor"},null,-1)]))}const po=la({name:"app-cross-icon",render:vo}),Ur=se({__name:"JDialog",props:Je({modelValue:{type:Boolean},className:{},title:{}},{modelValue:{default:!1},modelModifiers:{}}),emits:["update:modelValue"],setup(t){const{width:e}=hn(),n=Ft(t,"modelValue");return(a,o)=>{const l=po,r=uo;return O(),ne(r,{modelValue:n.value,"onUpdate:modelValue":o[1]||(o[1]=u=>n.value=u),title:a.title,centered:"",scrollable:"","no-footer":"",class:H(["j-dialog",a.className]),"content-class":{"modal-slide-up":m(e)<=650}},{header:U(()=>[j(a.$slots,"header"),Se(l,{class:"close-icon",color:("isDark"in a?a.isDark:m(ga))?"#fff":"#8A8B8D",onClick:o[0]||(o[0]=u=>n.value=!1)},null,8,["color"])]),default:U(()=>[j(a.$slots,"default")]),_:3},8,["modelValue","title","class","content-class"])}}});function mo(t){var n;const e=(n=document.querySelector(t))==null?void 0:n.querySelector("input");e==null||e.focus()}function qr(t){const e=document.querySelector(t);e==null||e.click()}function bo(t){const e=t.keyCode??t.which;(e<48||e>57)&&e!==46&&t.preventDefault(),e===46&&String(t.target.value).includes(".")&&t.preventDefault()}function Cn(t,e=0,n=10){return new Intl.NumberFormat("en-US",{style:"decimal",minimumFractionDigits:e,maximumFractionDigits:n}).format(Number(t))}function yo(t,e=2){return new Intl.NumberFormat("en",{notation:"compact",compactDisplay:"short",minimumFractionDigits:e,maximumFractionDigits:e}).format(Number(t))}function ho(t){return Number.parseFloat(t.replaceAll(",",""))}function go(t){const n=Number(t).toExponential().match(/e-(\d+)/);return n?Number.parseInt(n[1],10):0}function Yr(t,e=2){const[n,a=""]=t.toString().split(".");return a.length>e?`${n}.${a.slice(0,e)}`:`${t.toFixed(2)}`}function Zt(t,e,n=e){return t?new Pe(t.toString()).dividedBy(new Pe(10).pow(e)).toFixed(n):"0"}function ht(t){return t.split(":")}function Gr(t,e,n=!0){const a=Number(t)*Number(e);return n?yo(a||0):Cn(a||0,2,2)}const Tn=pn("markets",()=>{const t=ia({poolAddresses:[],pools:[],leveragePools:[],loading:!1,loadingLeveragePools:!1,markets:["Main market","Assets"]}),e=Nt(),n=V(()=>e.jLendClient),a=_(),o=_(),l=_(),r=_("Main market"),u=V(()=>t.pools.filter(p=>{var b;return r.value.toLowerCase().includes(String((b=p.market)==null?void 0:b.toLowerCase()))}));async function d(){var p;if(Kt)try{t.loading=!0;const b=await((p=n.value)==null?void 0:p.sdk.getAllPools());t.poolAddresses=b,t.pools=await Promise.all(b.map(async y=>await c(y))),console.log("%c[Pools]","color: #FFB726",t.pools)}finally{t.loading=!1}}async function f(){var p;if(Kt)try{t.loadingLeveragePools=!0;const b=await((p=n.value)==null?void 0:p.sdk.getAllLeveragePools());t.leveragePools=b||[],console.log("%c[Leverage Pools]","color: #FFB726",b)}finally{t.loadingLeveragePools=!1}}async function c(p){var C,k,S;const b=await((C=n.value)==null?void 0:C.sdk.getPoolInfo(p)),y=await((k=n.value)==null?void 0:k.sdk.getPoolAssetOraclePrice(p)),A=await((S=n.value)==null?void 0:S.sdk.getPoolApy(p));return{...b,pool_price:y,pool_apy:A,market:"main"}}async function i(p){const b=await c(p);t.pools=t.pools.map(y=>y.pool_address===p?b:y)}return Ke(async()=>{await Promise.all([d(),f()])}),{state:t,selectedMarket:r,selectedMarketInfo:l,selectedMarketPools:u,poolActionType:o,poolDepositAddr:a,updatePools:i}}),wo=(t,e)=>V(()=>{const n=ae(t),a=ae(e);return n===!0?"true":typeof n=="string"?n:a===!1?"true":n===!1?"false":void 0}),ko=(t,e)=>{if(t===null)return;let n=t;if(e.number&&typeof n=="string"&&n!==""){const a=Number.parseFloat(n);n=Number.isNaN(a)?n:a}return n},Jt=()=>{};function So(t,e){function n(...a){return new Promise((o,l)=>{Promise.resolve(t(()=>e.apply(this,a),{fn:e,thisArg:this,args:a})).then(o).catch(l)})}return n.cancel=t.cancel,n}function xo(t,e={}){let n,a,o=Jt;const l=d=>{clearTimeout(d),o(),o=Jt};let r;const u=d=>{const f=ae(t),c=ae(e.maxWait);return n&&l(n),f<=0||c!==void 0&&c<=0?(a&&(l(a),a=null),Promise.resolve(d())):new Promise((i,p)=>{o=e.rejectOnCancel?p:i,r=d,c&&!a&&(a=setTimeout(()=>{n&&l(n),a=null,i(r())},c)),n=setTimeout(()=>{a&&l(a),a=null,i(d())},f)})};return u.cancel=()=>{n&&l(n),a&&l(a),a=null},u}function Ao(t,e=200,n={}){return So(xo(e,n),t)}const Co=(t,e,n,a)=>{var o;const l=_(0),r=fn(()=>t.id,"input"),u=Wt(()=>t.debounce??0,{nanToZero:!0}),d=Wt(()=>t.debounceMaxWait??NaN),f=(o=dn(sa,null))==null?void 0:o(r),c=V(()=>t.state!==void 0?t.state:(f==null?void 0:f.state.value)??null),i=wo(()=>t.ariaInvalid,c),p=wa(c),b=Ao(N=>{n.value=N},()=>a.lazy===!0?0:u.value,{maxWait:()=>a.lazy===!0?NaN:d.value}),y=(N,D=!1,g=!1)=>{a.lazy===!0&&D===!1||(g?n.value=N:b(N))},{focused:A}=ca(e,{initialValue:t.autofocus}),C=(N,D,g=!1)=>t.formatter!==void 0&&(!t.lazyFormatter||g)?t.formatter(N,D):N;return Ke(()=>{var N;e.value&&(e.value.value=((N=n.value)==null?void 0:N.toString())??"")}),ua(()=>{ze(()=>{t.autofocus&&(A.value=!0)})}),{input:e,computedId:r,computedAriaInvalid:i,onInput:N=>{const{value:D}=N.target,g=C(D,N);if(N.defaultPrevented){N.preventDefault();return}y(g)},onChange:N=>{const{value:D}=N.target,g=C(D,N);if(N.defaultPrevented){N.preventDefault();return}const w=g;n.value!==w&&y(g,!0)},onBlur:N=>{if(!a.lazy&&!t.lazyFormatter&&!a.trim&&u.value<=0)return;const{value:D}=N.target,g=C(D,N,!0),w=a.trim?g.trim():g,P=w.length!==g.length;b.cancel(),n.value!==w&&y(g,!0,!0),a.trim&&P&&(l.value=l.value+1)},focus:()=>{t.disabled||(A.value=!0)},blur:()=>{t.disabled||(A.value=!1)},forceUpdateKey:l,stateClass:p}},To=["id","value","name","form","type","disabled","placeholder","required","autocomplete","readonly","min","max","step","list","aria-required","aria-invalid"],Eo=se({__name:"BFormInput",props:Je({max:{default:void 0},min:{default:void 0},step:{default:void 0},type:{default:"text"},ariaInvalid:{type:[Boolean,String],default:void 0},autocomplete:{default:void 0},autofocus:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},form:{default:void 0},formatter:{type:Function,default:void 0},id:{default:void 0},lazyFormatter:{type:Boolean,default:!1},list:{default:void 0},name:{default:void 0},placeholder:{default:void 0},plaintext:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},required:{type:Boolean,default:!1},size:{default:void 0},state:{type:[Boolean,null],default:void 0},debounce:{default:0},debounceMaxWait:{default:NaN}},{modelValue:{default:""},modelModifiers:{}}),emits:["update:modelValue"],setup(t,{expose:e}){const a=Bt(t,"BFormInput"),[o,l]=Ft(t,"modelValue",{set:k=>ko(k,l)}),r=Ve("_input"),{computedId:u,computedAriaInvalid:d,onInput:f,onChange:c,onBlur:i,stateClass:p,focus:b,blur:y,forceUpdateKey:A}=Co(a,r,o,l),C=V(()=>{const k=a.type==="range",S=a.type==="color";return[p.value,{"form-range":k,"form-control":S||!a.plaintext&&!k,"form-control-color":S,"form-control-plaintext":a.plaintext&&!k&&!S,[`form-control-${a.size}`]:!!a.size}]});return e({blur:y,element:r,focus:b}),(k,S)=>(O(),z("input",{id:m(u),ref:"_input",key:m(A),value:m(o),class:H(C.value),name:m(a).name||void 0,form:m(a).form||void 0,type:m(a).type,disabled:m(a).disabled,placeholder:m(a).placeholder,required:m(a).required||void 0,autocomplete:m(a).autocomplete||void 0,readonly:m(a).readonly||m(a).plaintext,min:m(a).min,max:m(a).max,step:m(a).step,list:m(a).type!=="password"?m(a).list:void 0,"aria-required":m(a).required||void 0,"aria-invalid":m(d),onInput:S[0]||(S[0]=(...E)=>m(f)&&m(f)(...E)),onChange:S[1]||(S[1]=(...E)=>m(c)&&m(c)(...E)),onBlur:S[2]||(S[2]=(...E)=>m(i)&&m(i)(...E))},null,42,To))}}),Bo={key:0,class:"input-group-text"},Fo={key:0,class:"input-group-text"},Vo=se({__name:"BInputGroup",props:{append:{default:void 0},id:{default:void 0},prepend:{default:void 0},size:{default:"md"},tag:{default:"div"}},setup(t){da(fa,!0);const n=Bt(t,"BInputGroup"),a=V(()=>({[`input-group-${n.size}`]:n.size!=="md"})),o=V(()=>!!n.append),l=V(()=>!!n.prepend);return(r,u)=>(O(),ne(vn(m(n).tag),{id:m(n).id,class:H(["input-group",a.value]),role:"group"},{default:U(()=>[j(r.$slots,"prepend",{},()=>[l.value?(O(),z("span",Bo,[Z("span",null,ee(m(n).prepend),1)])):q("",!0)]),j(r.$slots,"default"),j(r.$slots,"append",{},()=>[o.value?(O(),z("span",Fo,[Z("span",null,ee(m(n).append),1)])):q("",!0)])]),_:3},8,["id","class"]))}});function Qt(t){return new Pe(t.toString())}function en(t,e,n){const a=Qt(t),o=Qt(e);switch(n){case"add":return a.plus(o);case"sub":return a.minus(o);case"mul":return a.times(o);case"div":return a.dividedBy(o)}}function No(t,e,n,a,o=7){const l=en(t,e,"div"),r=en(n,a,"add");return l.times(r).dividedBy(new Pe(10).pow(o)).toFixed(o)}const Do=pn("user",()=>{const t=Dt(),e=Tn(),n=Nt(),a=V(()=>n.jLendClient),o=_(),l=_(!1);async function r(){try{l.value=!0,o.value=await a.value.sdk.getUserObligation(t.publicKey),console.log("%c[User Obligation]","color: #FFB726",o.value)}finally{l.value=!1}}const u=V(()=>{var p,b;const f=(p=o.value)==null?void 0:p.deposits;if(!f)return 0;const c=a.value.sdk.assetDecimals;let i=0;for(const y of f){const[A,C]=y,k=(b=e.state.pools)==null?void 0:b.find(N=>N.pool_address===A),S=(C==null?void 0:C.collateral)||0;i+=Number(Zt(S,c))*Number(k==null?void 0:k.pool_price);const E=C==null?void 0:C.shares;if(!k||!E){i+=0;continue}const I=No(E,k.total_shares,k==null?void 0:k.available,k==null?void 0:k.total_borrowed,c),T=Number(I)*Number(k.pool_price);i+=T||0}return i}),d=V(()=>{var p,b;const f=(p=o.value)==null?void 0:p.borrows;if(!f)return 0;const c=a.value.sdk.assetDecimals;let i=0;for(const y of f){const[A,C]=y,k=(b=e.state.pools)==null?void 0:b.find(I=>I.pool_address===A),S=Zt(C==null?void 0:C.borrowed,c);if(!k||!S){i+=0;continue}const E=Number(S)*Number(k.pool_price);i+=E||0}return i});return Y(()=>t.publicKey,async f=>{if(!f){o.value=void 0;return}await r()}),{loading:l,userObligation:o,userTotalDepositInUsd:u,userTotalBorrowedInUsd:d,loadUserObligation:r}});function Xr(){const t=Do(),e=Tn(),n=ka(),a=Nt(),o=V(()=>a.jLendClient),l=_(!1),r=_(),u=_(),d=_(),f=_(),c=Sa(),i=Dt();async function p(g,w){try{if(!i.publicKey)return;const P=await o.value.addTrustlineTx(i.publicKey,g,w,n.kit);return await i.loadBalances(),P}catch(P){throw console.log(P),P}}async function b(g,w,P){let $;try{if(!i.publicKey)throw new Error("Wallet not connected");const[h,s]=ht(P);if((h==="native"?i.nativeBalance:i.getAssetBalance(s))<w)throw new Error("Insufficient balance");if(!w||w<=0)throw new Error("Amount should be greater than 0");e.poolDepositAddr=g,e.poolActionType="deposit";const x=h==="native"?"XLM":h;$=await c.create({title:"Deposit",body:`Sending transaction to deposit ${w} ${x}`,modelValue:3e4,variant:"info",noProgress:!1});const F=await o.value.sdk.deposit(i.publicKey,g,w,n.kit);r.value=void 0,await T(g),c.create({title:"Deposit Success",body:`You deposited ${w} ${x} successfully`,modelValue:3e4,alertProps:{variant:"success"},actions:[{label:"View Transaction",href:ve(String(F.txHash))}]})}catch(h){const s=(h==null?void 0:h.message)||h;throw c.create({title:"Deposit Error",body:String(s),variant:"danger",modelValue:1e4}),h}finally{e.poolDepositAddr=void 0,e.poolActionType=void 0,$==null||$.dismiss()}}async function y(g,w,P,$){let h;try{if(!i.publicKey)throw new Error("Wallet not connected");if($<w)throw new Error("Borrow limit exceeded");if(!w||w<=0)throw new Error("Amount should be greater than 0");const[s]=ht(P);e.poolDepositAddr=g,e.poolActionType="borrow";const v=s==="native"?"XLM":s;h=await c.create({title:"Borrow",body:`Sending transaction to borrow ${w} ${v}`,modelValue:3e4,variant:"info",noProgress:!1});const x=await o.value.sdk.borrow(i.publicKey,g,w,n.kit);u.value=void 0,await T(g),c.create({title:"Borrow Success",body:`You borrowed ${w} ${v} successfully`,modelValue:3e4,alertProps:{variant:"success"},actions:[{label:"View Transaction",href:ve(String(x.txHash))}]})}catch(s){const v=(s==null?void 0:s.message)||s;throw c.create({title:"Borrow Error",body:String(v),variant:"danger",modelValue:1e4}),s}finally{e.poolDepositAddr=void 0,e.poolActionType=void 0,h==null||h.dismiss()}}async function A(g,w,P,$){let h;try{if(!i.publicKey)throw new Error("Wallet not connected");if(!w||w<=0)throw new Error("Amount should be greater than 0");if(w>P)throw new Error("Withdraw limit exceeded");e.poolDepositAddr=g,e.poolActionType="withdraw";const s=$==="native"?"XLM":$;h=await c.create({title:"Withdraw",body:`Sending transaction to withdraw ${w} ${s}`,modelValue:3e4,variant:"info",noProgress:!1});const v=await o.value.sdk.withdraw(i.publicKey,g,w,n.kit);d.value=void 0,await T(g),c.create({title:"Withdraw Success",body:`You withdrow ${w} ${s} successfully`,modelValue:3e4,alertProps:{variant:"success"},actions:[{label:"View Transaction",href:ve(String(v.txHash))}]})}catch(s){const v=(s==null?void 0:s.message)||s;throw c.create({title:"Withdraw Error",body:String(v),variant:"danger",modelValue:1e4}),s}finally{e.poolDepositAddr=void 0,e.poolActionType=void 0,h==null||h.dismiss()}}async function C(g,w,P,$){let h;try{if(!i.publicKey)throw new Error("Wallet not connected");if(!w||w<=0)throw new Error("Amount should be greater than 0");if(w>P)throw new Error("You don`t have enough balance to repay");e.poolDepositAddr=g,e.poolActionType="repay";const s=$==="native"?"XLM":$;h=await c.create({title:"Repay",body:`Sending transaction to repay ${w} ${s}`,modelValue:3e4,variant:"info",noProgress:!1});const v=Math.min(w*1.01,w),x=await o.value.sdk.repay(i.publicKey,g,v,n.kit);f.value=void 0,await T(g),c.create({title:"Repay Success",body:`You repaid ${w} ${s} successfully`,modelValue:3e4,alertProps:{variant:"success"},actions:[{label:"View Transaction",href:ve(String(x.txHash))}]})}catch(s){const v=(s==null?void 0:s.message)||s;throw c.create({title:"Repay Error",body:String(v),variant:"danger",modelValue:1e4}),s}finally{e.poolDepositAddr=void 0,e.poolActionType=void 0,h==null||h.dismiss()}}async function k(g,w,P){let $;try{if(!i.publicKey)throw new Error("Wallet not connected");const[h,s]=ht(P);if((h==="native"?i.nativeBalance:i.getAssetBalance(s))<w)throw new Error("Insufficient balance");if(!w||w<=0)throw new Error("Amount should be greater than 0");e.poolDepositAddr=g,e.poolActionType="deposit";const x=h==="native"?"XLM":h;$=await c.create({title:"Add Collateral",body:`Sending transaction to add collateral ${w} ${x}`,modelValue:3e4,variant:"info",noProgress:!1});const F=await o.value.sdk.addCollateral(i.publicKey,g,w,n.kit);r.value=void 0,await T(g),c.create({title:"Add Collateral Success",body:`You added ${w} ${x} successfully`,modelValue:3e4,alertProps:{variant:"success"},actions:[{label:"View Transaction",href:ve(String(F.txHash))}]})}catch(h){const s=(h==null?void 0:h.message)||h;throw c.create({title:"Add Collateral Error",body:String(s),variant:"danger",modelValue:1e4}),h}finally{e.poolDepositAddr=void 0,e.poolActionType=void 0,$==null||$.dismiss()}}async function S(g,w,P,$){let h;try{if(!i.publicKey)throw new Error("Wallet not connected");if(!w||w<=0)throw new Error("Amount should be greater than 0");if(w>P)throw new Error("Withdraw limit exceeded");e.poolDepositAddr=g,e.poolActionType="withdraw";const s=$==="native"?"XLM":$;h=await c.create({title:"Withdraw Collateral",body:`Sending transaction to withdraw collateral ${w} ${s}`,modelValue:3e4,variant:"info",noProgress:!1});const v=await o.value.sdk.removeCollateral(i.publicKey,g,w,n.kit);d.value=void 0,await T(g),c.create({title:"Withdraw Success",body:`You withdrow ${w} ${s} successfully`,modelValue:3e4,alertProps:{variant:"success"},actions:[{label:"View Transaction",href:ve(String(v.txHash))}]})}catch(s){const v=(s==null?void 0:s.message)||s;throw c.create({title:"Withdraw Error",body:String(v),variant:"danger",modelValue:1e4}),s}finally{e.poolDepositAddr=void 0,e.poolActionType=void 0,h==null||h.dismiss()}}async function E(g,w,P,$,h){let s;try{if(!i.publicKey)throw new Error("Wallet not connected");if(!P||P<=0)throw new Error("Amount should be greater than 0");e.poolDepositAddr=g,e.poolActionType="leverage",s=await c.create({title:"Leverage",body:`Sending transaction to leverage ${P} ${h}`,modelValue:3e4,variant:"info",noProgress:!1});const v=await o.value.sdk.leverage(i.publicKey,g,w,P,$,n.kit);d.value=void 0,await T(g),c.create({title:"Leverage Success",body:"You leverage successfully",modelValue:3e4,alertProps:{variant:"success"},actions:[{label:"View Transaction",href:ve(String(v.txHash))}]})}catch(v){const x=(v==null?void 0:v.message)||v;throw c.create({title:"Leverage Error",body:String(x),variant:"danger",modelValue:1e4}),v}finally{e.poolDepositAddr=void 0,e.poolActionType=void 0,s==null||s.dismiss()}}async function I(g,w,P,$){let h;try{if(!i.publicKey)throw new Error("Wallet not connected");if(!P||P<=0)throw new Error("Amount should be greater than 0");e.poolDepositAddr=g,e.poolActionType="withdrawLeverage",h=await c.create({title:"Withdraw Leverage",body:`Sending transaction to leverage ${P} ${$}`,modelValue:3e4,variant:"info",noProgress:!1});const s=await o.value.sdk.withdrawLeverage(i.publicKey,g,w,P,n.kit);d.value=void 0,await T(g),c.create({title:"Withdraw Leverage Success",body:"You Withdraw successfully",modelValue:3e4,alertProps:{variant:"success"},actions:[{label:"View Transaction",href:ve(String(s.txHash))}]})}catch(s){const v=(s==null?void 0:s.message)||s;throw c.create({title:"Withdraw Leverage Error",body:String(v),variant:"danger",modelValue:1e4}),s}finally{e.poolDepositAddr=void 0,e.poolActionType=void 0,h==null||h.dismiss()}}async function T(g){await Promise.all([e.updatePools(g),t.loadUserObligation(),i.loadBalances()])}function N(g,w){return e.poolDepositAddr?g!==e.poolDepositAddr||e.poolActionType!==w:!1}function D(g,w){return e.poolDepositAddr?g===e.poolDepositAddr&&e.poolActionType===w:!1}return{borrowAmount:u,depositAmount:r,withdrawAmount:d,repayAmount:f,collateralOnly:l,borrow:y,deposit:b,repay:C,withdraw:A,addCollateral:k,removeCollateral:S,leverage:E,withdrawLeverage:I,addTrustLine:p,isDisabled:N,isLoading:D}}const Zr=se({__name:"JLoadingSpinner",props:{color:{default:"#262729"},borderWidth:{default:"2px"},fixed:{type:Boolean},blur:{type:Boolean},width:{default:"30px"}},setup(t){return(e,n)=>{const a=va;return O(),z("div",{class:H(["loading-spinner",{"loading-spinner--fixed":e.fixed,"loading-spinner--blur":e.blur}])},[Se(a,{style:He({color:e.color,"border-width":e.borderWidth,width:e.width,height:e.width})},null,8,["style"]),j(e.$slots,"default")],2)}}}),Po={class:"j-input"},Ro={key:0,class:"j-input__label"},Lo={class:"input-wrapper"},$o={key:0,class:"input-wrapper__label"},Oo={class:"j-input__prepend"},Io={class:"j-input__append"},_o={key:0,class:"validate-label"},Mo=se({__name:"JInput",props:{size:{default:"lg"},placeholder:{},rules:{default:()=>[]},lazyRules:{type:Boolean,default:!1},onlyNumbers:{type:Boolean,default:!1},modelValue:{},resetValidation:{type:Boolean,default:!1},inputLabel:{},forceValidation:{type:Boolean,default:!1},max:{},min:{},step:{},type:{},ariaInvalid:{type:[Boolean,String]},autocomplete:{},autofocus:{type:Boolean},disabled:{type:Boolean},form:{},formatter:{type:Function},id:{},lazyFormatter:{type:Boolean},list:{},name:{},plaintext:{type:Boolean},readonly:{type:Boolean},required:{type:Boolean},state:{type:[Boolean,null]},debounce:{},debounceMaxWait:{}},emits:["update:modelValue"],setup(t,{emit:e}){const n=pa(t,["rules","size","lazyRules","onlyNumbers","modelValue","resetValidation","forceValidation"]),a=e,o=it(),l=V({get(){return t.modelValue},set(c){a("update:modelValue",c)}}),r=_(null),u=V(()=>{const c=[];return r.value&&c.push("j-input--error"),c.join(" ")});function d(){if(!l.value){r.value=null;return}for(const c of t.rules){const i=c(l.value);if(i!==!0)return r.value=i,!1}r.value=null}function f(){t.lazyRules&&d()}return Y(l,()=>{t.lazyRules||d()}),Y(()=>t.resetValidation,c=>{c&&(r.value=null)}),Y(()=>t.forceValidation,c=>{c&&ze(()=>d())}),(c,i)=>{const p=Eo,b=Vo;return O(),z("div",Po,[o!=null&&o.label?(O(),z("div",Ro,[j(c.$slots,"label",{},void 0,!0)])):q("",!0),Se(b,{class:H(m(u)),size:c.size},mn({default:U(()=>[Z("div",Lo,[c.inputLabel?(O(),z("div",$o,ee(c.inputLabel),1)):q("",!0),Se(p,pe(n,{modelValue:m(l),"onUpdate:modelValue":i[0]||(i[0]=y=>bn(l)?l.value=y:null),placeholder:c.placeholder,type:c.type,autocomplete:"off",onKeypress:i[1]||(i[1]=y=>c.onlyNumbers&&m(bo)(y)),onBlur:f}),null,16,["modelValue","placeholder","type"])]),Se(St,{name:"fade-bottom"},{default:U(()=>[m(r)?(O(),z("div",_o,ee(m(r)),1)):q("",!0)]),_:1})]),_:2},[o.prepend?{name:"prepend",fn:U(()=>[Z("div",Oo,[j(c.$slots,"prepend",{},void 0,!0)])]),key:"0"}:void 0,o.append?{name:"append",fn:U(()=>[Z("div",Io,[j(c.$slots,"append",{},void 0,!0)])]),key:"1"}:void 0]),1032,["class","size"]),o.description?(O(),z("div",{key:1,class:H(["j-input__desc",{hide:m(r)}])},[j(c.$slots,"description",{},void 0,!0)],2)):q("",!0)])}}}),jo=yn(Mo,[["__scopeId","data-v-6f181318"]]),zo={key:1,class:"balance"},Wo={class:"price-label"},Ko=["src"],Jr=se({__name:"InputWidget",props:{size:{default:"lg"},balance:{},description:{},price:{},limit:{},disabled:{type:Boolean},labelLeft:{},labelRight:{},icon:{},readonly:{type:Boolean,default:!1},fee:{default:0},format:{type:Boolean,default:!1},rules:{},modelValue:{}},emits:["update:modelValue","maxHandler"],setup(t,{emit:e}){const n=e,a=it(),o=Dt(),l=V({get(){return t.modelValue?String(t.modelValue):""},set(i){n("update:modelValue",i)}}),r=_(!1);function u(){const i=new Pe(t.balance),p=new Pe(t.fee),b=i.minus(p).toNumber(),y=Math.max(Math.min(b,t.limit||t.balance),0),A=String(y).includes("e")?go(y):null;l.value=A?y.toFixed(A):String(y),r.value=!0,ze(()=>{r.value=!1,n("maxHandler",l.value)})}const d=V(()=>{if(!l.value||!t.price)return;const p=(t.format?ho(l.value):Number(l.value))*Number(t.price);return`$${Cn(p,2,2)}`});function f(i){const p=i.target;p.closest(".j-input__label")||p.closest(".j-input__desc")||mo(".j-input")}const c=_(!1);return Y(()=>t.balance,()=>{c.value=!0,ze(()=>{c.value=!1})}),(i,p)=>{const b=xa,y=jo;return O(),ne(y,{modelValue:m(l),"onUpdate:modelValue":p[0]||(p[0]=A=>bn(l)?l.value=A:null),class:"input-widget",size:i.size,placeholder:"0.00","only-numbers":"","force-validation":m(c),"reset-validation":m(r),disabled:i.disabled,readonly:"readonly"in i?i.readonly:m(Me),rules:i.rules,onClick:f},mn({label:U(()=>[Z("span",null,ee(i.labelLeft),1),a["label-right"]?j(i.$slots,"label-right",{key:0}):(O(),z("span",zo,ee(i.labelRight),1))]),description:U(()=>[Z("div",Wo,ee(m(d)),1)]),append:U(()=>[Se(b,{disabled:!m(o).publicKey,variant:"accent",size:"sm",class:"j-input__btn",onClick:u},{default:U(()=>p[1]||(p[1]=[Ne(" MAX ")])),_:1,__:[1]},8,["disabled"])]),_:2},[i.icon||a.prepend?{name:"prepend",fn:U(()=>[i.icon?(O(),z("img",{key:0,src:i.icon,alt:"token icon",class:"j-input__icon"},null,8,Ko)):j(i.$slots,"prepend",{key:1})]),key:"0"}:void 0]),1032,["modelValue","size","force-validation","reset-validation","disabled","readonly","rules"])}}}),Qr=se({__name:"JPillLabel",props:{color:{},bgColor:{},label:{},variant:{default:"primary"},size:{default:"lg"}},setup(t){return(e,n)=>(O(),z("div",{class:H(["j-pill-label",[`j-pill-label--${e.variant}`,`j-pill-label--${e.size}`]]),style:He({color:e.color,backgroundColor:e.bgColor})},[e.label?(O(),z(Vt,{key:0},[Ne(ee(e.label),1)],64)):j(e.$slots,"default",{key:1})],6))}}),at=Math.min,xe=Math.max,ot=Math.round,Xe=Math.floor,le=t=>({x:t,y:t}),Ho={left:"right",right:"left",bottom:"top",top:"bottom"},Uo={start:"end",end:"start"};function tn(t,e,n){return xe(t,at(e,n))}function st(t,e){return typeof t=="function"?t(e):t}function Ce(t){return t.split("-")[0]}function ct(t){return t.split("-")[1]}function En(t){return t==="x"?"y":"x"}function Bn(t){return t==="y"?"height":"width"}const qo=new Set(["top","bottom"]);function me(t){return qo.has(Ce(t))?"y":"x"}function Fn(t){return En(me(t))}function Yo(t,e,n){n===void 0&&(n=!1);const a=ct(t),o=Fn(t),l=Bn(o);let r=o==="x"?a===(n?"end":"start")?"right":"left":a==="start"?"bottom":"top";return e.reference[l]>e.floating[l]&&(r=rt(r)),[r,rt(r)]}function Go(t){const e=rt(t);return[Ct(t),e,Ct(e)]}function Ct(t){return t.replace(/start|end/g,e=>Uo[e])}const nn=["left","right"],an=["right","left"],Xo=["top","bottom"],Zo=["bottom","top"];function Jo(t,e,n){switch(t){case"top":case"bottom":return n?e?an:nn:e?nn:an;case"left":case"right":return e?Xo:Zo;default:return[]}}function Qo(t,e,n,a){const o=ct(t);let l=Jo(Ce(t),n==="start",a);return o&&(l=l.map(r=>r+"-"+o),e&&(l=l.concat(l.map(Ct)))),l}function rt(t){return t.replace(/left|right|bottom|top/g,e=>Ho[e])}function er(t){return{top:0,right:0,bottom:0,left:0,...t}}function tr(t){return typeof t!="number"?er(t):{top:t,right:t,bottom:t,left:t}}function lt(t){const{x:e,y:n,width:a,height:o}=t;return{width:a,height:o,top:n,left:e,right:e+a,bottom:n+o,x:e,y:n}}function on(t,e,n){let{reference:a,floating:o}=t;const l=me(e),r=Fn(e),u=Bn(r),d=Ce(e),f=l==="y",c=a.x+a.width/2-o.width/2,i=a.y+a.height/2-o.height/2,p=a[u]/2-o[u]/2;let b;switch(d){case"top":b={x:c,y:a.y-o.height};break;case"bottom":b={x:c,y:a.y+a.height};break;case"right":b={x:a.x+a.width,y:i};break;case"left":b={x:a.x-o.width,y:i};break;default:b={x:a.x,y:a.y}}switch(ct(e)){case"start":b[r]-=p*(n&&f?-1:1);break;case"end":b[r]+=p*(n&&f?-1:1);break}return b}const nr=async(t,e,n)=>{const{placement:a="bottom",strategy:o="absolute",middleware:l=[],platform:r}=n,u=l.filter(Boolean),d=await(r.isRTL==null?void 0:r.isRTL(e));let f=await r.getElementRects({reference:t,floating:e,strategy:o}),{x:c,y:i}=on(f,a,d),p=a,b={},y=0;for(let A=0;A<u.length;A++){const{name:C,fn:k}=u[A],{x:S,y:E,data:I,reset:T}=await k({x:c,y:i,initialPlacement:a,placement:p,strategy:o,middlewareData:b,rects:f,platform:r,elements:{reference:t,floating:e}});c=S??c,i=E??i,b={...b,[C]:{...b[C],...I}},T&&y<=50&&(y++,typeof T=="object"&&(T.placement&&(p=T.placement),T.rects&&(f=T.rects===!0?await r.getElementRects({reference:t,floating:e,strategy:o}):T.rects),{x:c,y:i}=on(f,p,d)),A=-1)}return{x:c,y:i,placement:p,strategy:o,middlewareData:b}};async function Vn(t,e){var n;e===void 0&&(e={});const{x:a,y:o,platform:l,rects:r,elements:u,strategy:d}=t,{boundary:f="clippingAncestors",rootBoundary:c="viewport",elementContext:i="floating",altBoundary:p=!1,padding:b=0}=st(e,t),y=tr(b),C=u[p?i==="floating"?"reference":"floating":i],k=lt(await l.getClippingRect({element:(n=await(l.isElement==null?void 0:l.isElement(C)))==null||n?C:C.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(u.floating)),boundary:f,rootBoundary:c,strategy:d})),S=i==="floating"?{x:a,y:o,width:r.floating.width,height:r.floating.height}:r.reference,E=await(l.getOffsetParent==null?void 0:l.getOffsetParent(u.floating)),I=await(l.isElement==null?void 0:l.isElement(E))?await(l.getScale==null?void 0:l.getScale(E))||{x:1,y:1}:{x:1,y:1},T=lt(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:S,offsetParent:E,strategy:d}):S);return{top:(k.top-T.top+y.top)/I.y,bottom:(T.bottom-k.bottom+y.bottom)/I.y,left:(k.left-T.left+y.left)/I.x,right:(T.right-k.right+y.right)/I.x}}const ar=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,a;const{placement:o,middlewareData:l,rects:r,initialPlacement:u,platform:d,elements:f}=e,{mainAxis:c=!0,crossAxis:i=!0,fallbackPlacements:p,fallbackStrategy:b="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:A=!0,...C}=st(t,e);if((n=l.arrow)!=null&&n.alignmentOffset)return{};const k=Ce(o),S=me(u),E=Ce(u)===u,I=await(d.isRTL==null?void 0:d.isRTL(f.floating)),T=p||(E||!A?[rt(u)]:Go(u)),N=y!=="none";!p&&N&&T.push(...Qo(u,A,y,I));const D=[u,...T],g=await Vn(e,C),w=[];let P=((a=l.flip)==null?void 0:a.overflows)||[];if(c&&w.push(g[k]),i){const v=Yo(o,r,I);w.push(g[v[0]],g[v[1]])}if(P=[...P,{placement:o,overflows:w}],!w.every(v=>v<=0)){var $,h;const v=((($=l.flip)==null?void 0:$.index)||0)+1,x=D[v];if(x&&(!(i==="alignment"?S!==me(x):!1)||P.every(L=>L.overflows[0]>0&&me(L.placement)===S)))return{data:{index:v,overflows:P},reset:{placement:x}};let F=(h=P.filter(R=>R.overflows[0]<=0).sort((R,L)=>R.overflows[1]-L.overflows[1])[0])==null?void 0:h.placement;if(!F)switch(b){case"bestFit":{var s;const R=(s=P.filter(L=>{if(N){const B=me(L.placement);return B===S||B==="y"}return!0}).map(L=>[L.placement,L.overflows.filter(B=>B>0).reduce((B,M)=>B+M,0)]).sort((L,B)=>L[1]-B[1])[0])==null?void 0:s[0];R&&(F=R);break}case"initialPlacement":F=u;break}if(o!==F)return{reset:{placement:F}}}return{}}}},or=new Set(["left","top"]);async function rr(t,e){const{placement:n,platform:a,elements:o}=t,l=await(a.isRTL==null?void 0:a.isRTL(o.floating)),r=Ce(n),u=ct(n),d=me(n)==="y",f=or.has(r)?-1:1,c=l&&d?-1:1,i=st(e,t);let{mainAxis:p,crossAxis:b,alignmentAxis:y}=typeof i=="number"?{mainAxis:i,crossAxis:0,alignmentAxis:null}:{mainAxis:i.mainAxis||0,crossAxis:i.crossAxis||0,alignmentAxis:i.alignmentAxis};return u&&typeof y=="number"&&(b=u==="end"?y*-1:y),d?{x:b*c,y:p*f}:{x:p*f,y:b*c}}const lr=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,a;const{x:o,y:l,placement:r,middlewareData:u}=e,d=await rr(e,t);return r===((n=u.offset)==null?void 0:n.placement)&&(a=u.arrow)!=null&&a.alignmentOffset?{}:{x:o+d.x,y:l+d.y,data:{...d,placement:r}}}}},ir=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:a,placement:o}=e,{mainAxis:l=!0,crossAxis:r=!1,limiter:u={fn:C=>{let{x:k,y:S}=C;return{x:k,y:S}}},...d}=st(t,e),f={x:n,y:a},c=await Vn(e,d),i=me(Ce(o)),p=En(i);let b=f[p],y=f[i];if(l){const C=p==="y"?"top":"left",k=p==="y"?"bottom":"right",S=b+c[C],E=b-c[k];b=tn(S,b,E)}if(r){const C=i==="y"?"top":"left",k=i==="y"?"bottom":"right",S=y+c[C],E=y-c[k];y=tn(S,y,E)}const A=u.fn({...e,[p]:b,[i]:y});return{...A,data:{x:A.x-n,y:A.y-a,enabled:{[p]:l,[i]:r}}}}}};function ut(){return typeof window<"u"}function Ee(t){return Pt(t)?(t.nodeName||"").toLowerCase():"#document"}function J(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function ce(t){var e;return(e=(Pt(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Pt(t){return ut()?t instanceof Node||t instanceof J(t).Node:!1}function oe(t){return ut()?t instanceof Element||t instanceof J(t).Element:!1}function ie(t){return ut()?t instanceof HTMLElement||t instanceof J(t).HTMLElement:!1}function rn(t){return!ut()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof J(t).ShadowRoot}const sr=new Set(["inline","contents"]);function Ue(t){const{overflow:e,overflowX:n,overflowY:a,display:o}=re(t);return/auto|scroll|overlay|hidden|clip/.test(e+a+n)&&!sr.has(o)}const cr=new Set(["table","td","th"]);function ur(t){return cr.has(Ee(t))}const dr=[":popover-open",":modal"];function dt(t){return dr.some(e=>{try{return t.matches(e)}catch{return!1}})}const fr=["transform","translate","scale","rotate","perspective"],vr=["transform","translate","scale","rotate","perspective","filter"],pr=["paint","layout","strict","content"];function Rt(t){const e=Lt(),n=oe(t)?re(t):t;return fr.some(a=>n[a]?n[a]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||vr.some(a=>(n.willChange||"").includes(a))||pr.some(a=>(n.contain||"").includes(a))}function mr(t){let e=be(t);for(;ie(e)&&!Re(e);){if(Rt(e))return e;if(dt(e))return null;e=be(e)}return null}function Lt(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const br=new Set(["html","body","#document"]);function Re(t){return br.has(Ee(t))}function re(t){return J(t).getComputedStyle(t)}function ft(t){return oe(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function be(t){if(Ee(t)==="html")return t;const e=t.assignedSlot||t.parentNode||rn(t)&&t.host||ce(t);return rn(e)?e.host:e}function Nn(t){const e=be(t);return Re(e)?t.ownerDocument?t.ownerDocument.body:t.body:ie(e)&&Ue(e)?e:Nn(e)}function We(t,e,n){var a;e===void 0&&(e=[]),n===void 0&&(n=!0);const o=Nn(t),l=o===((a=t.ownerDocument)==null?void 0:a.body),r=J(o);if(l){const u=Tt(r);return e.concat(r,r.visualViewport||[],Ue(o)?o:[],u&&n?We(u):[])}return e.concat(o,We(o,[],n))}function Tt(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Dn(t){const e=re(t);let n=parseFloat(e.width)||0,a=parseFloat(e.height)||0;const o=ie(t),l=o?t.offsetWidth:n,r=o?t.offsetHeight:a,u=ot(n)!==l||ot(a)!==r;return u&&(n=l,a=r),{width:n,height:a,$:u}}function $t(t){return oe(t)?t:t.contextElement}function De(t){const e=$t(t);if(!ie(e))return le(1);const n=e.getBoundingClientRect(),{width:a,height:o,$:l}=Dn(e);let r=(l?ot(n.width):n.width)/a,u=(l?ot(n.height):n.height)/o;return(!r||!Number.isFinite(r))&&(r=1),(!u||!Number.isFinite(u))&&(u=1),{x:r,y:u}}const yr=le(0);function Pn(t){const e=J(t);return!Lt()||!e.visualViewport?yr:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function hr(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==J(t)?!1:e}function Te(t,e,n,a){e===void 0&&(e=!1),n===void 0&&(n=!1);const o=t.getBoundingClientRect(),l=$t(t);let r=le(1);e&&(a?oe(a)&&(r=De(a)):r=De(t));const u=hr(l,n,a)?Pn(l):le(0);let d=(o.left+u.x)/r.x,f=(o.top+u.y)/r.y,c=o.width/r.x,i=o.height/r.y;if(l){const p=J(l),b=a&&oe(a)?J(a):a;let y=p,A=Tt(y);for(;A&&a&&b!==y;){const C=De(A),k=A.getBoundingClientRect(),S=re(A),E=k.left+(A.clientLeft+parseFloat(S.paddingLeft))*C.x,I=k.top+(A.clientTop+parseFloat(S.paddingTop))*C.y;d*=C.x,f*=C.y,c*=C.x,i*=C.y,d+=E,f+=I,y=J(A),A=Tt(y)}}return lt({width:c,height:i,x:d,y:f})}function Ot(t,e){const n=ft(t).scrollLeft;return e?e.left+n:Te(ce(t)).left+n}function Rn(t,e,n){n===void 0&&(n=!1);const a=t.getBoundingClientRect(),o=a.left+e.scrollLeft-(n?0:Ot(t,a)),l=a.top+e.scrollTop;return{x:o,y:l}}function gr(t){let{elements:e,rect:n,offsetParent:a,strategy:o}=t;const l=o==="fixed",r=ce(a),u=e?dt(e.floating):!1;if(a===r||u&&l)return n;let d={scrollLeft:0,scrollTop:0},f=le(1);const c=le(0),i=ie(a);if((i||!i&&!l)&&((Ee(a)!=="body"||Ue(r))&&(d=ft(a)),ie(a))){const b=Te(a);f=De(a),c.x=b.x+a.clientLeft,c.y=b.y+a.clientTop}const p=r&&!i&&!l?Rn(r,d,!0):le(0);return{width:n.width*f.x,height:n.height*f.y,x:n.x*f.x-d.scrollLeft*f.x+c.x+p.x,y:n.y*f.y-d.scrollTop*f.y+c.y+p.y}}function wr(t){return Array.from(t.getClientRects())}function kr(t){const e=ce(t),n=ft(t),a=t.ownerDocument.body,o=xe(e.scrollWidth,e.clientWidth,a.scrollWidth,a.clientWidth),l=xe(e.scrollHeight,e.clientHeight,a.scrollHeight,a.clientHeight);let r=-n.scrollLeft+Ot(t);const u=-n.scrollTop;return re(a).direction==="rtl"&&(r+=xe(e.clientWidth,a.clientWidth)-o),{width:o,height:l,x:r,y:u}}function Sr(t,e){const n=J(t),a=ce(t),o=n.visualViewport;let l=a.clientWidth,r=a.clientHeight,u=0,d=0;if(o){l=o.width,r=o.height;const f=Lt();(!f||f&&e==="fixed")&&(u=o.offsetLeft,d=o.offsetTop)}return{width:l,height:r,x:u,y:d}}const xr=new Set(["absolute","fixed"]);function Ar(t,e){const n=Te(t,!0,e==="fixed"),a=n.top+t.clientTop,o=n.left+t.clientLeft,l=ie(t)?De(t):le(1),r=t.clientWidth*l.x,u=t.clientHeight*l.y,d=o*l.x,f=a*l.y;return{width:r,height:u,x:d,y:f}}function ln(t,e,n){let a;if(e==="viewport")a=Sr(t,n);else if(e==="document")a=kr(ce(t));else if(oe(e))a=Ar(e,n);else{const o=Pn(t);a={x:e.x-o.x,y:e.y-o.y,width:e.width,height:e.height}}return lt(a)}function Ln(t,e){const n=be(t);return n===e||!oe(n)||Re(n)?!1:re(n).position==="fixed"||Ln(n,e)}function Cr(t,e){const n=e.get(t);if(n)return n;let a=We(t,[],!1).filter(u=>oe(u)&&Ee(u)!=="body"),o=null;const l=re(t).position==="fixed";let r=l?be(t):t;for(;oe(r)&&!Re(r);){const u=re(r),d=Rt(r);!d&&u.position==="fixed"&&(o=null),(l?!d&&!o:!d&&u.position==="static"&&!!o&&xr.has(o.position)||Ue(r)&&!d&&Ln(t,r))?a=a.filter(c=>c!==r):o=u,r=be(r)}return e.set(t,a),a}function Tr(t){let{element:e,boundary:n,rootBoundary:a,strategy:o}=t;const r=[...n==="clippingAncestors"?dt(e)?[]:Cr(e,this._c):[].concat(n),a],u=r[0],d=r.reduce((f,c)=>{const i=ln(e,c,o);return f.top=xe(i.top,f.top),f.right=at(i.right,f.right),f.bottom=at(i.bottom,f.bottom),f.left=xe(i.left,f.left),f},ln(e,u,o));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function Er(t){const{width:e,height:n}=Dn(t);return{width:e,height:n}}function Br(t,e,n){const a=ie(e),o=ce(e),l=n==="fixed",r=Te(t,!0,l,e);let u={scrollLeft:0,scrollTop:0};const d=le(0);function f(){d.x=Ot(o)}if(a||!a&&!l)if((Ee(e)!=="body"||Ue(o))&&(u=ft(e)),a){const b=Te(e,!0,l,e);d.x=b.x+e.clientLeft,d.y=b.y+e.clientTop}else o&&f();l&&!a&&o&&f();const c=o&&!a&&!l?Rn(o,u):le(0),i=r.left+u.scrollLeft-d.x-c.x,p=r.top+u.scrollTop-d.y-c.y;return{x:i,y:p,width:r.width,height:r.height}}function gt(t){return re(t).position==="static"}function sn(t,e){if(!ie(t)||re(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return ce(t)===n&&(n=n.ownerDocument.body),n}function $n(t,e){const n=J(t);if(dt(t))return n;if(!ie(t)){let o=be(t);for(;o&&!Re(o);){if(oe(o)&&!gt(o))return o;o=be(o)}return n}let a=sn(t,e);for(;a&&ur(a)&&gt(a);)a=sn(a,e);return a&&Re(a)&&gt(a)&&!Rt(a)?n:a||mr(t)||n}const Fr=async function(t){const e=this.getOffsetParent||$n,n=this.getDimensions,a=await n(t.floating);return{reference:Br(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:a.width,height:a.height}}};function Vr(t){return re(t).direction==="rtl"}const Nr={convertOffsetParentRelativeRectToViewportRelativeRect:gr,getDocumentElement:ce,getClippingRect:Tr,getOffsetParent:$n,getElementRects:Fr,getClientRects:wr,getDimensions:Er,getScale:De,isElement:oe,isRTL:Vr};function On(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function Dr(t,e){let n=null,a;const o=ce(t);function l(){var u;clearTimeout(a),(u=n)==null||u.disconnect(),n=null}function r(u,d){u===void 0&&(u=!1),d===void 0&&(d=1),l();const f=t.getBoundingClientRect(),{left:c,top:i,width:p,height:b}=f;if(u||e(),!p||!b)return;const y=Xe(i),A=Xe(o.clientWidth-(c+p)),C=Xe(o.clientHeight-(i+b)),k=Xe(c),E={rootMargin:-y+"px "+-A+"px "+-C+"px "+-k+"px",threshold:xe(0,at(1,d))||1};let I=!0;function T(N){const D=N[0].intersectionRatio;if(D!==d){if(!I)return r();D?r(!1,D):a=setTimeout(()=>{r(!1,1e-7)},1e3)}D===1&&!On(f,t.getBoundingClientRect())&&r(),I=!1}try{n=new IntersectionObserver(T,{...E,root:o.ownerDocument})}catch{n=new IntersectionObserver(T,E)}n.observe(t)}return r(!0),l}function Pr(t,e,n,a){a===void 0&&(a={});const{ancestorScroll:o=!0,ancestorResize:l=!0,elementResize:r=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:d=!1}=a,f=$t(t),c=o||l?[...f?We(f):[],...We(e)]:[];c.forEach(k=>{o&&k.addEventListener("scroll",n,{passive:!0}),l&&k.addEventListener("resize",n)});const i=f&&u?Dr(f,n):null;let p=-1,b=null;r&&(b=new ResizeObserver(k=>{let[S]=k;S&&S.target===f&&b&&(b.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var E;(E=b)==null||E.observe(e)})),n()}),f&&!d&&b.observe(f),b.observe(e));let y,A=d?Te(t):null;d&&C();function C(){const k=Te(t);A&&!On(A,k)&&n(),A=k,y=requestAnimationFrame(C)}return n(),()=>{var k;c.forEach(S=>{o&&S.removeEventListener("scroll",n),l&&S.removeEventListener("resize",n)}),i==null||i(),(k=b)==null||k.disconnect(),b=null,d&&cancelAnimationFrame(y)}}const Rr=lr,Lr=ir,$r=ar,Or=(t,e,n)=>{const a=new Map,o={platform:Nr,...n},l={...o.platform,_c:a};return nr(t,e,{...o,platform:l})};function Ir(t){return t!=null&&typeof t=="object"&&"$el"in t}function cn(t){if(Ir(t)){const e=t.$el;return Pt(e)&&Ee(e)==="#comment"?null:e}return t}function _e(t){return typeof t=="function"?t():m(t)}function In(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function un(t,e){const n=In(t);return Math.round(e*n)/n}function _r(t,e,n){n===void 0&&(n={});const a=n.whileElementsMounted,o=V(()=>{var D;return(D=_e(n.open))!=null?D:!0}),l=V(()=>_e(n.middleware)),r=V(()=>{var D;return(D=_e(n.placement))!=null?D:"bottom"}),u=V(()=>{var D;return(D=_e(n.strategy))!=null?D:"absolute"}),d=V(()=>{var D;return(D=_e(n.transform))!=null?D:!0}),f=V(()=>cn(t.value)),c=V(()=>cn(e.value)),i=_(0),p=_(0),b=_(u.value),y=_(r.value),A=kt({}),C=_(!1),k=V(()=>{const D={position:b.value,left:"0",top:"0"};if(!c.value)return D;const g=un(c.value,i.value),w=un(c.value,p.value);return d.value?{...D,transform:"translate("+g+"px, "+w+"px)",...In(c.value)>=1.5&&{willChange:"transform"}}:{position:b.value,left:g+"px",top:w+"px"}});let S;function E(){if(f.value==null||c.value==null)return;const D=o.value;Or(f.value,c.value,{middleware:l.value,placement:r.value,strategy:u.value}).then(g=>{i.value=g.x,p.value=g.y,b.value=g.strategy,y.value=g.placement,A.value=g.middlewareData,C.value=D!==!1})}function I(){typeof S=="function"&&(S(),S=void 0)}function T(){if(I(),a===void 0){E();return}if(f.value!=null&&c.value!=null){S=a(f.value,c.value,E);return}}function N(){o.value||(C.value=!1)}return Y([l,r,u,o],E,{flush:"sync"}),Y([f,c],T,{flush:"sync"}),Y(o,N,{flush:"sync"}),ma()&&ba(I),{x:Be(i),y:Be(p),strategy:Be(b),placement:Be(y),middlewareData:Be(A),isPositioned:Be(C),floatingStyles:k,update:E}}const Mr=se({__name:"JTooltip",props:{offset:{default:4},tooltipClass:{},contentClass:{}},setup(t){const e=it(),{width:n}=hn(),a=_(null),o=_(null),l=_(!1),{floatingStyles:r,update:u}=_r(a,o,{middleware:[Rr(t.offset),$r(),Lr()],placement:"top"}),d=()=>{n.value>650||(l.value=!0)};return ya(()=>{l.value&&a.value&&o.value&&Pr(a.value,o.value,u),n.value<=650&&Aa(a,()=>{l.value=!1})}),(f,c)=>(O(),z(Vt,null,[Z("div",{ref_key:"reference",ref:a,class:H([f.$style.tooltip,f.tooltipClass]),onMouseenter:c[0]||(c[0]=i=>l.value=!0),onMouseleave:c[1]||(c[1]=i=>l.value=!1),onClick:d},[j(f.$slots,"default")],34),(O(),ne(ha,{to:"body"},[l.value?(O(),z("div",{key:0,ref_key:"floating",ref:o,class:H(["tooltip-content",f.contentClass]),style:He({...m(r),position:"absolute",transition:"opacity 0.2s ease",opacity:l.value?1:0,zIndex:9999})},[e!=null&&e.content?j(f.$slots,"content",{key:0}):q("",!0)],6)):q("",!0)]))],64))}}),jr="_tooltip_odx3x_2",zr={tooltip:jr},Wr={$style:zr},el=yn(Mr,[["__cssModules",Wr]]),tl=se({__name:"JSkeleton",props:{width:{default:"50"},height:{default:"20"},variant:{default:"default"},fullWidth:{type:Boolean}},setup(t){return(e,n)=>(O(),z("div",{class:H(["j-skeleton",[`j-skeleton--${e.variant}`,`j-skeleton--${e.fullWidth?"full-width":"default"}`]]),style:He({width:`${e.width}px`,"min-width":`${e.width}px`,height:`${e.variant!=="default"?e.width:e.height}px`})},null,6))}});export{Ur as _,Xr as a,Zt as b,Do as c,ht as d,Jr as e,Zr as f,mo as g,Cn as h,tl as i,Qr as j,el as k,Gr as l,qr as m,yo as s,Yr as t,Tn as u};
