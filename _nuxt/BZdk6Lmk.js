import{u as tt,i as z,a as le,g as Nt,b as Ot,w as zt,C as Ft,s as Wt,R as Yt,P as Ht,c as En,d as Vn,_ as Bn,e as Ut}from"./zpHdnZTQ.js";import{d as B,c as w,r as V,w as be,a as $,o as S,u as m,b as x,e as c,f as A,t as C,g as re,i as X,h as Y,n as ae,j as nt,k as Xt,l as P,_ as Ee,m as Nn,p as On,q as zn,s as qt,v as Jt,x as Zt,F as Z,y as xe,z as Fn,A as Wn,B as Yn}from"./CobzMJ77.js";import{u as J,t as F,b as W,s as N,_ as ot,a as st,c as Hn,d as Kt,e as Gt,f as Qt,g as en,h as Re,i as tn,j as Un,k as Xn,l as $e}from"./Bvh3q8QW.js";import{i as he,a as pe,C as Ie,E as de,t as Q,d as at,b as K,c as Ve,P as U,e as qn,u as Jn,f as fe,R as nn,g as Zn,h as Kn,D as Gn,A as Qn,v as Se,j as on,k as rt,Q as we,H as Te,T as bt,l as sn,m as eo,n as gt,o as He,p as _t,q as to,_ as it,r as lt,s as an,w as rn,x as ln,y as dn,z as un}from"./DvRNy0rX.js";import{l as no,a as oo}from"./oeKPimYq.js";import{_ as so,a as ao}from"./Cv2CDYPi.js";import{s as ro}from"./R_fNjJy0.js";const yt={modes:{point(t,e){return je(t,e,{intersect:!0})},nearest(t,e,n){return uo(t,e,n)},x(t,e,n){return je(t,e,{intersect:n.intersect,axis:"x"})},y(t,e,n){return je(t,e,{intersect:n.intersect,axis:"y"})}}};function dt(t,e,n){return(yt.modes[n.mode]||yt.modes.nearest)(t,e,n)}function io(t,e,n){return n!=="x"&&n!=="y"?t.inRange(e.x,e.y,"x",!0)||t.inRange(e.x,e.y,"y",!0):t.inRange(e.x,e.y,n,!0)}function lo(t,e,n){return n==="x"?{x:t.x,y:e.y}:n==="y"?{x:e.x,y:t.y}:e}function je(t,e,n){return t.filter(o=>n.intersect?o.inRange(e.x,e.y):io(o,e,n.axis))}function uo(t,e,n){let o=Number.POSITIVE_INFINITY;return je(t,e,n).reduce((s,r)=>{const a=r.getCenterPoint(),i=lo(e,a,n.axis),l=at(e,i);return l<o?(s=[r],o=l):l===o&&s.push(r),s},[]).sort((s,r)=>s._index-r._index).slice(0,1)}function ue(t,e,n){const o=Math.cos(n),s=Math.sin(n),r=e.x,a=e.y;return{x:r+o*(t.x-r)-s*(t.y-a),y:a+s*(t.x-r)+o*(t.y-a)}}const co=(t,e)=>e>t||t.length>e.length&&t.slice(0,e.length)===e,se=.001,Be=(t,e,n)=>Math.min(n,Math.max(e,t)),cn=(t,e)=>t.value>=t.start-e&&t.value<=t.end+e;function fo(t,e,n){for(const o of Object.keys(t))t[o]=Be(t[o],e,n);return t}function ho(t,e,n,o){return!t||!e||n<=0?!1:Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)<=Math.pow(n+o,2)}function fn(t,{x:e,y:n,x2:o,y2:s},r,{borderWidth:a,hitTolerance:i}){const l=(a+i)/2,d=t.x>=e-l-se&&t.x<=o+l+se,h=t.y>=n-l-se&&t.y<=s+l+se;return r==="x"?d:(r==="y"||d)&&h}function hn(t,{rect:e,center:n},o,{rotation:s,borderWidth:r,hitTolerance:a}){const i=ue(t,n,Q(-s));return fn(i,e,o,{borderWidth:r,hitTolerance:a})}function ce(t,e){const{centerX:n,centerY:o}=t.getProps(["centerX","centerY"],e);return{x:n,y:o}}function po(t,e,n,o=!0){const s=n.split(".");let r=0;for(const a of e.split(".")){const i=s[r++];if(parseInt(a,10)<parseInt(i,10))break;if(co(i,a)){if(o)throw new Error(`${t} v${n} is not supported. v${e} or newer is required.`);return!1}}return!0}const pn=t=>typeof t=="string"&&t.endsWith("%"),mn=t=>parseFloat(t)/100,bn=t=>Be(mn(t),0,1),ke=(t,e)=>({x:t,y:e,x2:t,y2:e,width:0,height:0}),mo={box:t=>ke(t.centerX,t.centerY),doughnutLabel:t=>ke(t.centerX,t.centerY),ellipse:t=>({centerX:t.centerX,centerY:t.centerX,radius:0,width:0,height:0}),label:t=>ke(t.centerX,t.centerY),line:t=>ke(t.x,t.y),point:t=>({centerX:t.centerX,centerY:t.centerY,radius:0,width:0,height:0}),polygon:t=>ke(t.centerX,t.centerY)};function ut(t,e){return e==="start"?0:e==="end"?t:pn(e)?bn(e)*t:t/2}function ne(t,e,n=!0){return typeof e=="number"?e:pn(e)?(n?bn(e):mn(e))*t:t}function bo(t,e){const{x:n,width:o}=t,s=e.textAlign;return s==="center"?n+o/2:s==="end"||s==="right"?n+o:n}function gn(t,e,{borderWidth:n,position:o,xAdjust:s,yAdjust:r},a){const i=he(a),l=e.width+(i?a.width:0)+n,d=e.height+(i?a.height:0)+n,h=ct(o),u=vt(t.x,l,s,h.x),f=vt(t.y,d,r,h.y);return{x:u,y:f,x2:u+l,y2:f+d,width:l,height:d,centerX:u+l/2,centerY:f+d/2}}function ct(t,e="center"){return he(t)?{x:Se(t.x,e),y:Se(t.y,e)}:(t=Se(t,e),{x:t,y:t})}const _n=(t,e)=>t&&t.autoFit&&e<1;function yn(t,e){const n=t.font,o=pe(n)?n:[n];return _n(t,e)?o.map(function(s){const r=He(s);return r.size=Math.floor(s.size*e),r.lineHeight=s.lineHeight,He(r)}):o.map(s=>He(s))}function vn(t){return t&&(K(t.xValue)||K(t.yValue))}function vt(t,e,n=0,o){return t-ut(e,o)+n}function ge(t,e,n){const o=n.init;if(o){if(o===!0)return kn(e,n)}else return;return go(t,e,n)}function wn(t,e,n){let o=!1;return e.forEach(s=>{fe(t[s])?(o=!0,n[s]=t[s]):K(n[s])&&delete n[s]}),o}function kn(t,e){const n=e.type||"line";return mo[n](t)}function go(t,e,n){const o=rt(n.init,[{chart:t,properties:e,options:n}]);if(o===!0)return kn(e,n);if(he(o))return o}const Ue=new Map,_o=t=>isNaN(t)||t<=0,yo=t=>t.reduce(function(e,n){return e+=n.string,e},"");function Ne(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object HTMLImageElement]"||e==="[object HTMLCanvasElement]"}}function Oe(t,{x:e,y:n},o){o&&(t.translate(e,n),t.rotate(Q(o)),t.translate(-e,-n))}function G(t,e){if(e&&e.borderWidth)return t.lineCap=e.borderCapStyle||"butt",t.setLineDash(e.borderDash),t.lineDashOffset=e.borderDashOffset,t.lineJoin=e.borderJoinStyle||"miter",t.lineWidth=e.borderWidth,t.strokeStyle=e.borderColor,!0}function _e(t,e){t.shadowColor=e.backgroundShadowColor,t.shadowBlur=e.shadowBlur,t.shadowOffsetX=e.shadowOffsetX,t.shadowOffsetY=e.shadowOffsetY}function ze(t,e){const n=e.content;if(Ne(n))return{width:ne(n.width,e.width),height:ne(n.height,e.height)};const o=yn(e),s=e.textStrokeWidth,r=pe(n)?n:[n],a=r.join()+yo(o)+s+(t._measureText?"-spriting":"");return Ue.has(a)||Ue.set(a,Co(t,r,o,s)),Ue.get(a)}function Cn(t,e,n){const{x:o,y:s,width:r,height:a}=e;t.save(),_e(t,n);const i=G(t,n);t.fillStyle=n.backgroundColor,t.beginPath(),Zn(t,{x:o,y:s,w:r,h:a,radius:fo(Kn(n.borderRadius),0,Math.min(r,a)/2)}),t.closePath(),t.fill(),i&&(t.shadowColor=n.borderShadowColor,t.stroke()),t.restore()}function Mn(t,e,n,o){const s=n.content;if(Ne(s)){t.save(),t.globalAlpha=xo(n.opacity,s.style.opacity),t.drawImage(s,e.x,e.y,e.width,e.height),t.restore();return}const r=pe(s)?s:[s],a=yn(n,o),i=n.color,l=pe(i)?i:[i],d=bo(e,n),h=e.y+n.textStrokeWidth/2;t.save(),t.textBaseline="middle",t.textAlign=n.textAlign,vo(t,n)&&Mo(t,{x:d,y:h},r,a),So(t,{x:d,y:h},r,{fonts:a,colors:l}),t.restore()}function vo(t,e){if(e.textStrokeWidth>0)return t.lineJoin="round",t.miterLimit=2,t.lineWidth=e.textStrokeWidth,t.strokeStyle=e.textStrokeColor,!0}function wo(t,e,n,o){const{radius:s,options:r}=e,a=r.pointStyle,i=r.rotation;let l=(i||0)*nn;if(Ne(a)){t.save(),t.translate(n,o),t.rotate(l),t.drawImage(a,-a.width/2,-a.height/2,a.width,a.height),t.restore();return}_o(s)||ko(t,{x:n,y:o,radius:s,rotation:i,style:a,rad:l})}function ko(t,{x:e,y:n,radius:o,rotation:s,style:r,rad:a}){let i,l,d,h;switch(t.beginPath(),r){default:t.arc(e,n,o,0,sn),t.closePath();break;case"triangle":t.moveTo(e+Math.sin(a)*o,n-Math.cos(a)*o),a+=bt,t.lineTo(e+Math.sin(a)*o,n-Math.cos(a)*o),a+=bt,t.lineTo(e+Math.sin(a)*o,n-Math.cos(a)*o),t.closePath();break;case"rectRounded":h=o*.516,d=o-h,i=Math.cos(a+we)*d,l=Math.sin(a+we)*d,t.arc(e-i,n-l,h,a-U,a-Te),t.arc(e+l,n-i,h,a-Te,a),t.arc(e+i,n+l,h,a,a+Te),t.arc(e-l,n+i,h,a+Te,a+U),t.closePath();break;case"rect":if(!s){d=Math.SQRT1_2*o,t.rect(e-d,n-d,2*d,2*d);break}a+=we;case"rectRot":i=Math.cos(a)*o,l=Math.sin(a)*o,t.moveTo(e-i,n-l),t.lineTo(e+l,n-i),t.lineTo(e+i,n+l),t.lineTo(e-l,n+i),t.closePath();break;case"crossRot":a+=we;case"cross":i=Math.cos(a)*o,l=Math.sin(a)*o,t.moveTo(e-i,n-l),t.lineTo(e+i,n+l),t.moveTo(e+l,n-i),t.lineTo(e-l,n+i);break;case"star":i=Math.cos(a)*o,l=Math.sin(a)*o,t.moveTo(e-i,n-l),t.lineTo(e+i,n+l),t.moveTo(e+l,n-i),t.lineTo(e-l,n+i),a+=we,i=Math.cos(a)*o,l=Math.sin(a)*o,t.moveTo(e-i,n-l),t.lineTo(e+i,n+l),t.moveTo(e+l,n-i),t.lineTo(e-l,n+i);break;case"line":i=Math.cos(a)*o,l=Math.sin(a)*o,t.moveTo(e-i,n-l),t.lineTo(e+i,n+l);break;case"dash":t.moveTo(e,n),t.lineTo(e+Math.cos(a)*o,n+Math.sin(a)*o);break}t.fill()}function Co(t,e,n,o){t.save();const s=e.length;let r=0,a=o;for(let i=0;i<s;i++){const l=n[Math.min(i,n.length-1)];t.font=l.string;const d=e[i];r=Math.max(r,t.measureText(d).width+o),a+=l.lineHeight}return t.restore(),{width:r,height:a}}function Mo(t,{x:e,y:n},o,s){t.beginPath();let r=0;o.forEach(function(a,i){const l=s[Math.min(i,s.length-1)],d=l.lineHeight;t.font=l.string,t.strokeText(a,e,n+d/2+r),r+=d}),t.stroke()}function So(t,{x:e,y:n},o,{fonts:s,colors:r}){let a=0;o.forEach(function(i,l){const d=r[Math.min(l,r.length-1)],h=s[Math.min(l,s.length-1)],u=h.lineHeight;t.beginPath(),t.font=h.string,t.fillStyle=d,t.fillText(i,e,n+u/2+a),a+=u,t.fill()})}function xo(t,e){const n=gt(t)?t:e;return gt(n)?Be(n,0,1):1}const Sn=["left","bottom","top","right"];function Do(t,e){const{pointX:n,pointY:o,options:s}=e,r=s.callout,a=r&&r.display&&Io(e,r);if(!a||Ro(e,r,a))return;if(t.save(),t.beginPath(),!G(t,r))return t.restore();const{separatorStart:l,separatorEnd:d}=Po(e,a),{sideStart:h,sideEnd:u}=$o(e,a,l);(r.margin>0||s.borderWidth===0)&&(t.moveTo(l.x,l.y),t.lineTo(d.x,d.y)),t.moveTo(h.x,h.y),t.lineTo(u.x,u.y);const f=ue({x:n,y:o},e.getCenterPoint(),Q(-e.rotation));t.lineTo(f.x,f.y),t.stroke(),t.restore()}function Po(t,e){const{x:n,y:o,x2:s,y2:r}=t,a=Ao(t,e);let i,l;return e==="left"||e==="right"?(i={x:n+a,y:o},l={x:i.x,y:r}):(i={x:n,y:o+a},l={x:s,y:i.y}),{separatorStart:i,separatorEnd:l}}function Ao(t,e){const{width:n,height:o,options:s}=t,r=s.callout.margin+s.borderWidth/2;return e==="right"?n+r:e==="bottom"?o+r:-r}function $o(t,e,n){const{y:o,width:s,height:r,options:a}=t,i=a.callout.start,l=To(e,a.callout);let d,h;return e==="left"||e==="right"?(d={x:n.x,y:o+ne(r,i)},h={x:d.x+l,y:d.y}):(d={x:n.x+ne(s,i),y:n.y},h={x:d.x,y:d.y+l}),{sideStart:d,sideEnd:h}}function To(t,e){const n=e.side;return t==="left"||t==="top"?-n:n}function Io(t,e){const n=e.position;return Sn.includes(n)?n:jo(t,e)}function jo(t,e){const{x:n,y:o,x2:s,y2:r,width:a,height:i,pointX:l,pointY:d,centerX:h,centerY:u,rotation:f}=t,p={x:h,y:u},b=e.start,_=ne(a,b),g=ne(i,b),v=[n,n+_,n+_,s],k=[o+g,r,o,r],M=[];for(let I=0;I<4;I++){const R=ue({x:v[I],y:k[I]},p,Q(f));M.push({position:Sn[I],distance:at(R,{x:l,y:d})})}return M.sort((I,R)=>I.distance-R.distance)[0].position}function Ro(t,e,n){const{pointX:o,pointY:s}=t,r=e.margin;let a=o,i=s;return n==="left"?a+=r:n==="right"?a-=r:n==="top"?i+=r:n==="bottom"&&(i-=r),t.inRange(a,i)}const wt={xScaleID:{min:"xMin",max:"xMax",start:"left",end:"right",startProp:"x",endProp:"x2"},yScaleID:{min:"yMin",max:"yMax",start:"bottom",end:"top",startProp:"y",endProp:"y2"}};function me(t,e,n){return e=typeof e=="number"?e:t.parse(e),on(e)?t.getPixelForValue(e):n}function ie(t,e,n){const o=e[n];if(o||n==="scaleID")return o;const s=n.charAt(0),r=Object.values(t).filter(a=>a.axis&&a.axis===s);return r.length?r[0].id:s}function xn(t,e){if(t){const n=t.options.reverse,o=me(t,e.min,n?e.end:e.start),s=me(t,e.max,n?e.start:e.end);return{start:o,end:s}}}function Dn(t,e){const{chartArea:n,scales:o}=t,s=o[ie(o,e,"xScaleID")],r=o[ie(o,e,"yScaleID")];let a=n.width/2,i=n.height/2;return s&&(a=me(s,e.xValue,s.left+s.width/2)),r&&(i=me(r,e.yValue,r.top+r.height/2)),{x:a,y:i}}function ft(t,e){const n=t.scales,o=n[ie(n,e,"xScaleID")],s=n[ie(n,e,"yScaleID")];if(!o&&!s)return{};let{left:r,right:a}=o||t.chartArea,{top:i,bottom:l}=s||t.chartArea;const d=kt(o,{min:e.xMin,max:e.xMax,start:r,end:a});r=d.start,a=d.end;const h=kt(s,{min:e.yMin,max:e.yMax,start:l,end:i});return i=h.start,l=h.end,{x:r,y:i,x2:a,y2:l,width:a-r,height:l-i,centerX:r+(a-r)/2,centerY:i+(l-i)/2}}function Pn(t,e){if(!vn(e)){const n=ft(t,e);let o=e.radius;(!o||isNaN(o))&&(o=Math.min(n.width,n.height)/2,e.radius=o);const s=o*2,r=n.centerX+e.xAdjust,a=n.centerY+e.yAdjust;return{x:r-o,y:a-o,x2:r+o,y2:a+o,centerX:r,centerY:a,width:s,height:s,radius:o}}return Eo(t,e)}function Lo(t,e){const{scales:n,chartArea:o}=t,s=n[e.scaleID],r={x:o.left,y:o.top,x2:o.right,y2:o.bottom};return s?Vo(s,r,e):Bo(n,r,e),r}function An(t,e){const n=ft(t,e);return n.initProperties=ge(t,n,e),n.elements=[{type:"label",optionScope:"label",properties:zo(t,n,e),initProperties:n.initProperties}],n}function Eo(t,e){const n=Dn(t,e),o=e.radius*2;return{x:n.x-e.radius+e.xAdjust,y:n.y-e.radius+e.yAdjust,x2:n.x+e.radius+e.xAdjust,y2:n.y+e.radius+e.yAdjust,centerX:n.x+e.xAdjust,centerY:n.y+e.yAdjust,radius:e.radius,width:o,height:o}}function kt(t,e){const n=xn(t,e)||e;return{start:Math.min(n.start,n.end),end:Math.max(n.start,n.end)}}function Vo(t,e,n){const o=me(t,n.value,NaN),s=me(t,n.endValue,o);t.isHorizontal()?(e.x=o,e.x2=s):(e.y=o,e.y2=s)}function Bo(t,e,n){for(const o of Object.keys(wt)){const s=t[ie(t,n,o)];if(s){const{min:r,max:a,start:i,end:l,startProp:d,endProp:h}=wt[o],u=xn(s,{min:n[r],max:n[a],start:s[i],end:s[l]});e[d]=u.start,e[h]=u.end}}}function No({properties:t,options:e},n,o,s){const{x:r,x2:a,width:i}=t;return $n({start:r,end:a,borderWidth:e.borderWidth},{position:o.x,padding:{start:s.left,end:s.right},adjust:e.label.xAdjust,size:n.width})}function Oo({properties:t,options:e},n,o,s){const{y:r,y2:a,height:i}=t;return $n({start:r,end:a,borderWidth:e.borderWidth},{position:o.y,padding:{start:s.top,end:s.bottom},adjust:e.label.yAdjust,size:n.height})}function $n(t,e){const{start:n,end:o,borderWidth:s}=t,{position:r,padding:{start:a,end:i},adjust:l}=e,d=o-s-n-a-i-e.size;return n+s/2+l+ut(d,r)}function zo(t,e,n){const o=n.label;o.backgroundColor="transparent",o.callout.display=!1;const s=ct(o.position),r=Ve(o.padding),a=ze(t.ctx,o),i=No({properties:e,options:n},a,s,r),l=Oo({properties:e,options:n},a,s,r),d=a.width+r.width,h=a.height+r.height;return{x:i,y:l,x2:i+d,y2:l+h,width:d,height:h,centerX:i+d/2,centerY:l+h/2,rotation:o.rotation}}const qe=["enter","leave"],ht=qe.concat("click");function Fo(t,e,n){e.listened=wn(n,ht,e.listeners),e.moveListened=!1,qe.forEach(o=>{fe(n[o])&&(e.moveListened=!0)}),(!e.listened||!e.moveListened)&&e.annotations.forEach(o=>{!e.listened&&fe(o.click)&&(e.listened=!0),e.moveListened||qe.forEach(s=>{fe(o[s])&&(e.listened=!0,e.moveListened=!0)})})}function Wo(t,e,n){if(t.listened)switch(e.type){case"mousemove":case"mouseout":return Yo(t,e,n);case"click":return Ho(t,e,n)}}function Yo(t,e,n){if(!t.moveListened)return;let o;e.type==="mousemove"?o=dt(t.visibleElements,e,n.interaction):o=[];const s=t.hovered;t.hovered=o;const r={state:t,event:e};let a=Ct(r,"leave",s,o);return Ct(r,"enter",o,s)||a}function Ct({state:t,event:e},n,o,s){let r;for(const a of o)s.indexOf(a)<0&&(r=Tn(a.options[n]||t.listeners[n],a,e)||r);return r}function Ho(t,e,n){const o=t.listeners,s=dt(t.visibleElements,e,n.interaction);let r;for(const a of s)r=Tn(a.options.click||o.click,a,e)||r;return r}function Tn(t,e,n){return rt(t,[e.$context,n])===!0}const Le=["afterDraw","beforeDraw"];function Uo(t,e,n){const o=e.visibleElements;e.hooked=wn(n,Le,e.hooks),e.hooked||o.forEach(s=>{e.hooked||Le.forEach(r=>{fe(s.options[r])&&(e.hooked=!0)})})}function Mt(t,e,n){if(t.hooked){const o=e.options[n]||t.hooks[n];return rt(o,[e.$context])}}function Xo(t,e,n){const o=Go(t.scales,e,n);let s=St(e,o,"min","suggestedMin");s=St(e,o,"max","suggestedMax")||s,s&&fe(e.handleTickRangeOptions)&&e.handleTickRangeOptions()}function qo(t,e){for(const n of t)Zo(n,e)}function St(t,e,n,o){if(on(e[n])&&!Jo(t.options,n,o)){const s=t[n]!==e[n];return t[n]=e[n],s}}function Jo(t,e,n){return K(t[e])||K(t[n])}function Zo(t,e){for(const n of["scaleID","xScaleID","yScaleID"]){const o=ie(e,t,n);o&&!e[o]&&Ko(t,n)&&console.warn(`No scale found with id '${o}' for annotation '${t.id}'`)}}function Ko(t,e){if(e==="scaleID")return!0;const n=e.charAt(0);for(const o of["Min","Max","Value"])if(K(t[n+o]))return!0;return!1}function Go(t,e,n){const o=e.axis,s=e.id,r=o+"ScaleID",a={min:Se(e.min,Number.NEGATIVE_INFINITY),max:Se(e.max,Number.POSITIVE_INFINITY)};for(const i of n)i.scaleID===s?xt(i,e,["value","endValue"],a):ie(t,i,r)===s&&xt(i,e,[o+"Min",o+"Max",o+"Value"],a);return a}function xt(t,e,n,o){for(const s of n){const r=t[s];if(K(r)){const a=e.parse(r);o.min=Math.min(o.min,a),o.max=Math.max(o.max,a)}}}class ye extends de{inRange(e,n,o,s){const{x:r,y:a}=ue({x:e,y:n},this.getCenterPoint(s),Q(-this.options.rotation));return fn({x:r,y:a},this.getProps(["x","y","x2","y2"],s),o,this.options)}getCenterPoint(e){return ce(this,e)}draw(e){e.save(),Oe(e,this.getCenterPoint(),this.options.rotation),Cn(e,this,this.options),e.restore()}get label(){return this.elements&&this.elements[0]}resolveElementProperties(e,n){return An(e,n)}}ye.id="boxAnnotation";ye.defaults={adjustScaleRange:!0,backgroundShadowColor:"transparent",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderRadius:0,borderShadowColor:"transparent",borderWidth:1,display:!0,init:void 0,hitTolerance:0,label:{backgroundColor:"transparent",borderWidth:0,callout:{display:!1},color:"black",content:null,display:!1,drawTime:void 0,font:{family:void 0,lineHeight:void 0,size:void 0,style:void 0,weight:"bold"},height:void 0,hitTolerance:void 0,opacity:void 0,padding:6,position:"center",rotation:void 0,textAlign:"start",textStrokeColor:void 0,textStrokeWidth:0,width:void 0,xAdjust:0,yAdjust:0,z:void 0},rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,xMax:void 0,xMin:void 0,xScaleID:void 0,yMax:void 0,yMin:void 0,yScaleID:void 0,z:0};ye.defaultRoutes={borderColor:"color",backgroundColor:"color"};ye.descriptors={label:{_fallback:!0}};class Fe extends de{inRange(e,n,o,s){return hn({x:e,y:n},{rect:this.getProps(["x","y","x2","y2"],s),center:this.getCenterPoint(s)},o,{rotation:this.rotation,borderWidth:0,hitTolerance:this.options.hitTolerance})}getCenterPoint(e){return ce(this,e)}draw(e){const n=this.options;!n.display||!n.content||(ss(e,this),e.save(),Oe(e,this.getCenterPoint(),this.rotation),Mn(e,this,n,this._fitRatio),e.restore())}resolveElementProperties(e,n){const o=Qo(e,n);if(!o)return{};const{controllerMeta:s,point:r,radius:a}=ts(e,n,o);let i=ze(e.ctx,n);const l=ns(i,a);_n(n,l)&&(i={width:i.width*l,height:i.height*l});const{position:d,xAdjust:h,yAdjust:u}=n,f=gn(r,i,{borderWidth:0,position:d,xAdjust:h,yAdjust:u});return{initProperties:ge(e,f,n),...f,...s,rotation:n.rotation,_fitRatio:l}}}Fe.id="doughnutLabelAnnotation";Fe.defaults={autoFit:!0,autoHide:!0,backgroundColor:"transparent",backgroundShadowColor:"transparent",borderColor:"transparent",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderShadowColor:"transparent",borderWidth:0,color:"black",content:null,display:!0,font:{family:void 0,lineHeight:void 0,size:void 0,style:void 0,weight:void 0},height:void 0,hitTolerance:0,init:void 0,opacity:void 0,position:"center",rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,spacing:1,textAlign:"center",textStrokeColor:void 0,textStrokeWidth:0,width:void 0,xAdjust:0,yAdjust:0};Fe.defaultRoutes={};function Qo(t,e){return t.getSortedVisibleDatasetMetas().reduce(function(n,o){const s=o.controller;return s instanceof Gn&&es(t,e,o.data)&&(!n||s.innerRadius<n.controller.innerRadius)&&s.options.circumference>=90?o:n},void 0)}function es(t,e,n){if(!e.autoHide)return!0;for(let o=0;o<n.length;o++)if(!n[o].hidden&&t.getDataVisibility(o))return!0}function ts({chartArea:t},e,n){const{left:o,top:s,right:r,bottom:a}=t,{innerRadius:i,offsetX:l,offsetY:d}=n.controller,h=(o+r)/2+l,u=(s+a)/2+d,f={left:Math.max(h-i,o),right:Math.min(h+i,r),top:Math.max(u-i,s),bottom:Math.min(u+i,a)},p={x:(f.left+f.right)/2,y:(f.top+f.bottom)/2},b=e.spacing+e.borderWidth/2,_=i-b,g=p.y>u,v=g?s+b:a-b,k=os(v,h,u,_);return{controllerMeta:{_centerX:h,_centerY:u,_radius:_,_counterclockwise:g,...k},point:p,radius:Math.min(i,Math.min(f.right-f.left,f.bottom-f.top)/2)}}function ns({width:t,height:e},n){const o=Math.sqrt(Math.pow(t,2)+Math.pow(e,2));return n*2/o}function os(t,e,n,o){const s=Math.pow(n-t,2),r=Math.pow(o,2),a=e*-2,i=Math.pow(e,2)+s-r,l=Math.pow(a,2)-4*i;if(l<=0)return{_startAngle:0,_endAngle:sn};const d=(-a-Math.sqrt(l))/2,h=(-a+Math.sqrt(l))/2;return{_startAngle:_t({x:e,y:n},{x:d,y:t}).angle,_endAngle:_t({x:e,y:n},{x:h,y:t}).angle}}function ss(t,e){const{_centerX:n,_centerY:o,_radius:s,_startAngle:r,_endAngle:a,_counterclockwise:i,options:l}=e;t.save();const d=G(t,l);t.fillStyle=l.backgroundColor,t.beginPath(),t.arc(n,o,s,r,a,i),t.closePath(),t.fill(),d&&t.stroke(),t.restore()}class De extends de{inRange(e,n,o,s){return hn({x:e,y:n},{rect:this.getProps(["x","y","x2","y2"],s),center:this.getCenterPoint(s)},o,{rotation:this.rotation,borderWidth:this.options.borderWidth,hitTolerance:this.options.hitTolerance})}getCenterPoint(e){return ce(this,e)}draw(e){const n=this.options,o=!K(this._visible)||this._visible;!n.display||!n.content||!o||(e.save(),Oe(e,this.getCenterPoint(),this.rotation),Do(e,this),Cn(e,this,n),Mn(e,as(this),n),e.restore())}resolveElementProperties(e,n){let o;if(vn(n))o=Dn(e,n);else{const{centerX:i,centerY:l}=ft(e,n);o={x:i,y:l}}const s=Ve(n.padding),r=ze(e.ctx,n),a=gn(o,r,n,s);return{initProperties:ge(e,a,n),pointX:o.x,pointY:o.y,...a,rotation:n.rotation}}}De.id="labelAnnotation";De.defaults={adjustScaleRange:!0,backgroundColor:"transparent",backgroundShadowColor:"transparent",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderRadius:0,borderShadowColor:"transparent",borderWidth:0,callout:{borderCapStyle:"butt",borderColor:void 0,borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:1,display:!1,margin:5,position:"auto",side:5,start:"50%"},color:"black",content:null,display:!0,font:{family:void 0,lineHeight:void 0,size:void 0,style:void 0,weight:void 0},height:void 0,hitTolerance:0,init:void 0,opacity:void 0,padding:6,position:"center",rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,textAlign:"center",textStrokeColor:void 0,textStrokeWidth:0,width:void 0,xAdjust:0,xMax:void 0,xMin:void 0,xScaleID:void 0,xValue:void 0,yAdjust:0,yMax:void 0,yMin:void 0,yScaleID:void 0,yValue:void 0,z:0};De.defaultRoutes={borderColor:"color"};function as({x:t,y:e,width:n,height:o,options:s}){const r=s.borderWidth/2,a=Ve(s.padding);return{x:t+a.left+r,y:e+a.top+r,width:n-a.left-a.right-s.borderWidth,height:o-a.top-a.bottom-s.borderWidth}}const pt=(t,e,n)=>({x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}),Je=(t,e,n)=>pt(e,n,Math.abs((t-e.y)/(n.y-e.y))).x,Dt=(t,e,n)=>pt(e,n,Math.abs((t-e.x)/(n.x-e.x))).y,Me=t=>t*t,rs=(t,e,{x:n,y:o,x2:s,y2:r},a)=>a==="y"?{start:Math.min(o,r),end:Math.max(o,r),value:e}:{start:Math.min(n,s),end:Math.max(n,s),value:t},Pt=(t,e,n,o)=>(1-o)*(1-o)*t+2*(1-o)*o*e+o*o*n,Ze=(t,e,n,o)=>({x:Pt(t.x,e.x,n.x,o),y:Pt(t.y,e.y,n.y,o)}),At=(t,e,n,o)=>2*(1-o)*(e-t)+2*o*(n-e),$t=(t,e,n,o)=>-Math.atan2(At(t.x,e.x,n.x,o),At(t.y,e.y,n.y,o))+.5*U;class Pe extends de{inRange(e,n,o,s){const r=(this.options.borderWidth+this.options.hitTolerance)/2;if(o!=="x"&&o!=="y"){const a={mouseX:e,mouseY:n},{path:i,ctx:l}=this;if(i){G(l,this.options),l.lineWidth+=this.options.hitTolerance;const{chart:h}=this.$context,u=e*h.currentDevicePixelRatio,f=n*h.currentDevicePixelRatio,p=l.isPointInStroke(i,u,f)||Ke(this,a,s);return l.restore(),p}const d=Me(r);return us(this,a,d,s)||Ke(this,a,s)}return is(this,{mouseX:e,mouseY:n},o,{hitSize:r,useFinalPosition:s})}getCenterPoint(e){return ce(this,e)}draw(e){const{x:n,y:o,x2:s,y2:r,cp:a,options:i}=this;if(e.save(),!G(e,i))return e.restore();_e(e,i);const l=Math.sqrt(Math.pow(s-n,2)+Math.pow(r-o,2));if(i.curve&&a)return _s(e,this,a,l),e.restore();const{startOpts:d,endOpts:h,startAdjust:u,endAdjust:f}=In(this),p=Math.atan2(r-o,s-n);e.translate(n,o),e.rotate(p),e.beginPath(),e.moveTo(0+u,0),e.lineTo(l-f,0),e.shadowColor=i.borderShadowColor,e.stroke(),Ge(e,0,u,d),Ge(e,l,-f,h),e.restore()}get label(){return this.elements&&this.elements[0]}resolveElementProperties(e,n){const o=Lo(e,n),{x:s,y:r,x2:a,y2:i}=o,l=ls(o,e.chartArea),d=l?ds({x:s,y:r},{x:a,y:i},e.chartArea):{x:s,y:r,x2:a,y2:i,width:Math.abs(a-s),height:Math.abs(i-r)};if(d.centerX=(a+s)/2,d.centerY=(i+r)/2,d.initProperties=ge(e,d,n),n.curve){const u={x:d.x,y:d.y},f={x:d.x2,y:d.y2};d.cp=gs(d,n,at(u,f))}const h=cs(e,d,n.label);return h._visible=l,d.elements=[{type:"label",optionScope:"label",properties:h,initProperties:d.initProperties}],d}}Pe.id="lineAnnotation";const Tt={backgroundColor:void 0,backgroundShadowColor:void 0,borderColor:void 0,borderDash:void 0,borderDashOffset:void 0,borderShadowColor:void 0,borderWidth:void 0,display:void 0,fill:void 0,length:void 0,shadowBlur:void 0,shadowOffsetX:void 0,shadowOffsetY:void 0,width:void 0};Pe.defaults={adjustScaleRange:!0,arrowHeads:{display:!1,end:Object.assign({},Tt),fill:!1,length:12,start:Object.assign({},Tt),width:6},borderDash:[],borderDashOffset:0,borderShadowColor:"transparent",borderWidth:2,curve:!1,controlPoint:{y:"-50%"},display:!0,endValue:void 0,init:void 0,hitTolerance:0,label:{backgroundColor:"rgba(0,0,0,0.8)",backgroundShadowColor:"transparent",borderCapStyle:"butt",borderColor:"black",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderRadius:6,borderShadowColor:"transparent",borderWidth:0,callout:Object.assign({},De.defaults.callout),color:"#fff",content:null,display:!1,drawTime:void 0,font:{family:void 0,lineHeight:void 0,size:void 0,style:void 0,weight:"bold"},height:void 0,hitTolerance:void 0,opacity:void 0,padding:6,position:"center",rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,textAlign:"center",textStrokeColor:void 0,textStrokeWidth:0,width:void 0,xAdjust:0,yAdjust:0,z:void 0},scaleID:void 0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,value:void 0,xMax:void 0,xMin:void 0,xScaleID:void 0,yMax:void 0,yMin:void 0,yScaleID:void 0,z:0};Pe.descriptors={arrowHeads:{start:{_fallback:!0},end:{_fallback:!0},_fallback:!0}};Pe.defaultRoutes={borderColor:"color"};function is(t,{mouseX:e,mouseY:n},o,{hitSize:s,useFinalPosition:r}){const a=rs(e,n,t.getProps(["x","y","x2","y2"],r),o);return cn(a,s)||Ke(t,{mouseX:e,mouseY:n},r,o)}function ls({x:t,y:e,x2:n,y2:o},{top:s,right:r,bottom:a,left:i}){return!(t<i&&n<i||t>r&&n>r||e<s&&o<s||e>a&&o>a)}function It({x:t,y:e},n,{top:o,right:s,bottom:r,left:a}){return t<a&&(e=Dt(a,{x:t,y:e},n),t=a),t>s&&(e=Dt(s,{x:t,y:e},n),t=s),e<o&&(t=Je(o,{x:t,y:e},n),e=o),e>r&&(t=Je(r,{x:t,y:e},n),e=r),{x:t,y:e}}function ds(t,e,n){const{x:o,y:s}=It(t,e,n),{x:r,y:a}=It(e,t,n);return{x:o,y:s,x2:r,y2:a,width:Math.abs(r-o),height:Math.abs(a-s)}}function us(t,{mouseX:e,mouseY:n},o=se,s){const{x:r,y:a,x2:i,y2:l}=t.getProps(["x","y","x2","y2"],s),d=i-r,h=l-a,u=Me(d)+Me(h),f=u===0?-1:((e-r)*d+(n-a)*h)/u;let p,b;return f<0?(p=r,b=a):f>1?(p=i,b=l):(p=r+f*d,b=a+f*h),Me(e-p)+Me(n-b)<=o}function Ke(t,{mouseX:e,mouseY:n},o,s){const r=t.label;return r.options.display&&r.inRange(e,n,s,o)}function cs(t,e,n){const o=n.borderWidth,s=Ve(n.padding),r=ze(t.ctx,n),a=r.width+s.width+o,i=r.height+s.height+o;return hs(e,n,{width:a,height:i,padding:s},t.chartArea)}function fs(t){const{x:e,y:n,x2:o,y2:s}=t,r=Math.atan2(s-n,o-e);return r>U/2?r-U:r<U/-2?r+U:r}function hs(t,e,n,o){const{width:s,height:r,padding:a}=n,{xAdjust:i,yAdjust:l}=e,d={x:t.x,y:t.y},h={x:t.x2,y:t.y2},u=e.rotation==="auto"?fs(t):Q(e.rotation),f=ps(s,r,u),p=ms(t,e,{labelSize:f,padding:a},o),b=t.cp?Ze(d,t.cp,h,p):pt(d,h,p),_={size:f.w,min:o.left,max:o.right,padding:a.left},g={size:f.h,min:o.top,max:o.bottom,padding:a.top},v=Rt(b.x,_)+i,k=Rt(b.y,g)+l;return{x:v-s/2,y:k-r/2,x2:v+s/2,y2:k+r/2,centerX:v,centerY:k,pointX:b.x,pointY:b.y,width:s,height:r,rotation:eo(u)}}function ps(t,e,n){const o=Math.cos(n),s=Math.sin(n);return{w:Math.abs(t*o)+Math.abs(e*s),h:Math.abs(t*s)+Math.abs(e*o)}}function ms(t,e,n,o){let s;const r=bs(t,o);return e.position==="start"?s=jt({w:t.x2-t.x,h:t.y2-t.y},n,e,r):e.position==="end"?s=1-jt({w:t.x-t.x2,h:t.y-t.y2},n,e,r):s=ut(1,e.position),s}function jt(t,e,n,o){const{labelSize:s,padding:r}=e,a=t.w*o.dx,i=t.h*o.dy,l=a>0&&(s.w/2+r.left-o.x)/a,d=i>0&&(s.h/2+r.top-o.y)/i;return Be(Math.max(l,d),0,.25)}function bs(t,e){const{x:n,x2:o,y:s,y2:r}=t,a=Math.min(s,r)-e.top,i=Math.min(n,o)-e.left,l=e.bottom-Math.max(s,r),d=e.right-Math.max(n,o);return{x:Math.min(i,d),y:Math.min(a,l),dx:i<=d?1:-1,dy:a<=l?1:-1}}function Rt(t,e){const{size:n,min:o,max:s,padding:r}=e,a=n/2;return n>s-o?(s+o)/2:(o>=t-r-a&&(t=o+r+a),s<=t+r+a&&(t=s-r-a),t)}function In(t){const e=t.options,n=e.arrowHeads&&e.arrowHeads.start,o=e.arrowHeads&&e.arrowHeads.end;return{startOpts:n,endOpts:o,startAdjust:Lt(t,n),endAdjust:Lt(t,o)}}function Lt(t,e){if(!e||!e.display)return 0;const{length:n,width:o}=e,s=t.options.borderWidth/2,r={x:n,y:o+s};return Math.abs(Je(0,r,{x:0,y:s}))}function Ge(t,e,n,o){if(!o||!o.display)return;const{length:s,width:r,fill:a,backgroundColor:i,borderColor:l}=o,d=Math.abs(e-s)+n;t.beginPath(),_e(t,o),G(t,o),t.moveTo(d,-r),t.lineTo(e+n,0),t.lineTo(d,r),a===!0?(t.fillStyle=i||l,t.closePath(),t.fill(),t.shadowColor="transparent"):t.shadowColor=o.borderShadowColor,t.stroke()}function gs(t,e,n){const{x:o,y:s,x2:r,y2:a,centerX:i,centerY:l}=t,d=Math.atan2(a-s,r-o),h=ct(e.controlPoint,0),u={x:i+ne(n,h.x,!1),y:l+ne(n,h.y,!1)};return ue(u,{x:i,y:l},d)}function Et(t,{x:e,y:n},{angle:o,adjust:s},r){!r||!r.display||(t.save(),t.translate(e,n),t.rotate(o),Ge(t,0,-s,r),t.restore())}function _s(t,e,n,o){const{x:s,y:r,x2:a,y2:i,options:l}=e,{startOpts:d,endOpts:h,startAdjust:u,endAdjust:f}=In(e),p={x:s,y:r},b={x:a,y:i},_=$t(p,n,b,0),g=$t(p,n,b,1)-U,v=Ze(p,n,b,u/o),k=Ze(p,n,b,1-f/o),M=new Path2D;t.beginPath(),M.moveTo(v.x,v.y),M.quadraticCurveTo(n.x,n.y,k.x,k.y),t.shadowColor=l.borderShadowColor,t.stroke(M),e.path=M,e.ctx=t,Et(t,v,{angle:_,adjust:u},d),Et(t,k,{angle:g,adjust:f},h)}class Ae extends de{inRange(e,n,o,s){const r=this.options.rotation,a=(this.options.borderWidth+this.options.hitTolerance)/2;if(o!=="x"&&o!=="y")return ys({x:e,y:n},this.getProps(["width","height","centerX","centerY"],s),r,a);const{x:i,y:l,x2:d,y2:h}=this.getProps(["x","y","x2","y2"],s),u=o==="y"?{start:l,end:h}:{start:i,end:d},f=ue({x:e,y:n},this.getCenterPoint(s),Q(-r));return f[o]>=u.start-a-se&&f[o]<=u.end+a+se}getCenterPoint(e){return ce(this,e)}draw(e){const{width:n,height:o,centerX:s,centerY:r,options:a}=this;e.save(),Oe(e,this.getCenterPoint(),a.rotation),_e(e,this.options),e.beginPath(),e.fillStyle=a.backgroundColor;const i=G(e,a);e.ellipse(s,r,o/2,n/2,U/2,0,2*U),e.fill(),i&&(e.shadowColor=a.borderShadowColor,e.stroke()),e.restore()}get label(){return this.elements&&this.elements[0]}resolveElementProperties(e,n){return An(e,n)}}Ae.id="ellipseAnnotation";Ae.defaults={adjustScaleRange:!0,backgroundShadowColor:"transparent",borderDash:[],borderDashOffset:0,borderShadowColor:"transparent",borderWidth:1,display:!0,hitTolerance:0,init:void 0,label:Object.assign({},ye.defaults.label),rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,xMax:void 0,xMin:void 0,xScaleID:void 0,yMax:void 0,yMin:void 0,yScaleID:void 0,z:0};Ae.defaultRoutes={borderColor:"color",backgroundColor:"color"};Ae.descriptors={label:{_fallback:!0}};function ys(t,e,n,o){const{width:s,height:r,centerX:a,centerY:i}=e,l=s/2,d=r/2;if(l<=0||d<=0)return!1;const h=Q(n||0),u=Math.cos(h),f=Math.sin(h),p=Math.pow(u*(t.x-a)+f*(t.y-i),2),b=Math.pow(f*(t.x-a)-u*(t.y-i),2);return p/Math.pow(l+o,2)+b/Math.pow(d+o,2)<=1.0001}class We extends de{inRange(e,n,o,s){const{x:r,y:a,x2:i,y2:l,width:d}=this.getProps(["x","y","x2","y2","width"],s),h=(this.options.borderWidth+this.options.hitTolerance)/2;return o!=="x"&&o!=="y"?ho({x:e,y:n},this.getCenterPoint(s),d/2,h):cn(o==="y"?{start:a,end:l,value:n}:{start:r,end:i,value:e},h)}getCenterPoint(e){return ce(this,e)}draw(e){const n=this.options,o=n.borderWidth;if(n.radius<.1)return;e.save(),e.fillStyle=n.backgroundColor,_e(e,n);const s=G(e,n);wo(e,this,this.centerX,this.centerY),s&&!Ne(n.pointStyle)&&(e.shadowColor=n.borderShadowColor,e.stroke()),e.restore(),n.borderWidth=o}resolveElementProperties(e,n){const o=Pn(e,n);return o.initProperties=ge(e,o,n),o}}We.id="pointAnnotation";We.defaults={adjustScaleRange:!0,backgroundShadowColor:"transparent",borderDash:[],borderDashOffset:0,borderShadowColor:"transparent",borderWidth:1,display:!0,hitTolerance:0,init:void 0,pointStyle:"circle",radius:10,rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,xAdjust:0,xMax:void 0,xMin:void 0,xScaleID:void 0,xValue:void 0,yAdjust:0,yMax:void 0,yMin:void 0,yScaleID:void 0,yValue:void 0,z:0};We.defaultRoutes={borderColor:"color",backgroundColor:"color"};class Ye extends de{inRange(e,n,o,s){if(o!=="x"&&o!=="y")return this.options.radius>=.1&&this.elements.length>1&&ws(this.elements,e,n,s);const r=ue({x:e,y:n},this.getCenterPoint(s),Q(-this.options.rotation)),a=this.elements.map(d=>o==="y"?d.bY:d.bX),i=Math.min(...a),l=Math.max(...a);return r[o]>=i&&r[o]<=l}getCenterPoint(e){return ce(this,e)}draw(e){const{elements:n,options:o}=this;e.save(),e.beginPath(),e.fillStyle=o.backgroundColor,_e(e,o);const s=G(e,o);let r=!0;for(const a of n)r?(e.moveTo(a.x,a.y),r=!1):e.lineTo(a.x,a.y);e.closePath(),e.fill(),s&&(e.shadowColor=o.borderShadowColor,e.stroke()),e.restore()}resolveElementProperties(e,n){const o=Pn(e,n),{sides:s,rotation:r}=n,a=[],i=2*U/s;let l=r*nn;for(let d=0;d<s;d++,l+=i){const h=vs(o,n,l);h.initProperties=ge(e,o,n),a.push(h)}return o.elements=a,o}}Ye.id="polygonAnnotation";Ye.defaults={adjustScaleRange:!0,backgroundShadowColor:"transparent",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderShadowColor:"transparent",borderWidth:1,display:!0,hitTolerance:0,init:void 0,point:{radius:0},radius:10,rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,sides:3,xAdjust:0,xMax:void 0,xMin:void 0,xScaleID:void 0,xValue:void 0,yAdjust:0,yMax:void 0,yMin:void 0,yScaleID:void 0,yValue:void 0,z:0};Ye.defaultRoutes={borderColor:"color",backgroundColor:"color"};function vs({centerX:t,centerY:e},{radius:n,borderWidth:o,hitTolerance:s},r){const a=(o+s)/2,i=Math.sin(r),l=Math.cos(r),d={x:t+i*n,y:e-l*n};return{type:"point",optionScope:"point",properties:{x:d.x,y:d.y,centerX:d.x,centerY:d.y,bX:t+i*(n+a),bY:e-l*(n+a)}}}function ws(t,e,n,o){let s=!1,r=t[t.length-1].getProps(["bX","bY"],o);for(const a of t){const i=a.getProps(["bX","bY"],o);i.bY>n!=r.bY>n&&e<(r.bX-i.bX)*(n-i.bY)/(r.bY-i.bY)+i.bX&&(s=!s),r=i}return s}const te={box:ye,doughnutLabel:Fe,ellipse:Ae,label:De,line:Pe,point:We,polygon:Ye};Object.keys(te).forEach(t=>{to.describe(`elements.${te[t].id}`,{_fallback:"plugins.annotation.common"})});const ks={update:Object.assign},Cs=ht.concat(Le),Vt=(t,e)=>he(e)?et(t,e):t,Qe=t=>t==="color"||t==="font";function mt(t="line"){return te[t]?t:(console.warn(`Unknown annotation type: '${t}', defaulting to 'line'`),"line")}function Ms(t,e,n,o){const s=xs(t,n.animations,o),r=e.annotations,a=As(e.elements,r);for(let i=0;i<r.length;i++){const l=r[i],d=jn(a,i,l.type),h=l.setContext(Ps(t,d,a,l)),u=d.resolveElementProperties(t,h);u.skip=Ss(u),"elements"in u&&(Ds(d,u.elements,h,s),delete u.elements),K(d.x)||Object.assign(d,u),Object.assign(d,u.initProperties),u.options=Rn(h),s.update(d,u)}}function Ss(t){return isNaN(t.x)||isNaN(t.y)}function xs(t,e,n){return n==="reset"||n==="none"||n==="resize"?ks:new Qn(t,e)}function Ds(t,e,n,o){const s=t.elements||(t.elements=[]);s.length=e.length;for(let r=0;r<e.length;r++){const a=e[r],i=a.properties,l=jn(s,r,a.type,a.initProperties),d=n[a.optionScope].override(a);i.options=Rn(d),o.update(l,i)}}function jn(t,e,n,o){const s=te[mt(n)];let r=t[e];return(!r||!(r instanceof s))&&(r=t[e]=new s,Object.assign(r,o)),r}function Rn(t){const e=te[mt(t.type)],n={};n.id=t.id,n.type=t.type,n.drawTime=t.drawTime,Object.assign(n,et(t,e.defaults),et(t,e.defaultRoutes));for(const o of Cs)n[o]=t[o];return n}function et(t,e){const n={};for(const o of Object.keys(e)){const s=e[o],r=t[o];Qe(o)&&pe(r)?n[o]=r.map(a=>Vt(a,s)):n[o]=Vt(r,s)}return n}function Ps(t,e,n,o){return e.$context||(e.$context=Object.assign(Object.create(t.getContext()),{element:e,get elements(){return n.filter(s=>s&&s.options)},id:o.id,type:"annotation"}))}function As(t,e){const n=e.length,o=t.length;if(o<n){const s=n-o;t.splice(o,0,...new Array(s))}else o>n&&t.splice(n,o-n);return t}var $s="3.1.0";const ee=new Map,Bt=t=>t.type!=="doughnutLabel",Ts=ht.concat(Le);var Is={id:"annotation",version:$s,beforeRegister(){po("chart.js","4.0",Ie.version)},afterRegister(){Ie.register(te)},afterUnregister(){Ie.unregister(te)},beforeInit(t){ee.set(t,{annotations:[],elements:[],visibleElements:[],listeners:{},listened:!1,moveListened:!1,hooks:{},hooked:!1,hovered:[]})},beforeUpdate(t,e,n){const o=ee.get(t),s=o.annotations=[];let r=n.annotations;he(r)?Object.keys(r).forEach(a=>{const i=r[a];he(i)&&(i.id=a,s.push(i))}):pe(r)&&s.push(...r),qo(s.filter(Bt),t.scales)},afterDataLimits(t,e){const n=ee.get(t);Xo(t,e.scale,n.annotations.filter(Bt).filter(o=>o.display&&o.adjustScaleRange))},afterUpdate(t,e,n){const o=ee.get(t);Fo(t,o,n),Ms(t,o,n,e.mode),o.visibleElements=o.elements.filter(s=>!s.skip&&s.options.display),Uo(t,o,n)},beforeDatasetsDraw(t,e,n){Ce(t,"beforeDatasetsDraw",n.clip)},afterDatasetsDraw(t,e,n){Ce(t,"afterDatasetsDraw",n.clip)},beforeDatasetDraw(t,e,n){Ce(t,e.index,n.clip)},beforeDraw(t,e,n){Ce(t,"beforeDraw",n.clip)},afterDraw(t,e,n){Ce(t,"afterDraw",n.clip)},beforeEvent(t,e,n){const o=ee.get(t);Wo(o,e.event,n)&&(e.changed=!0)},afterDestroy(t){ee.delete(t)},getAnnotations(t){const e=ee.get(t);return e?e.elements:[]},_getAnnotationElementsAtEventForMode(t,e,n){return dt(t,e,n)},defaults:{animations:{numbers:{properties:["x","y","x2","y2","width","height","centerX","centerY","pointX","pointY","radius"],type:"number"},colors:{properties:["backgroundColor","borderColor"],type:"color"}},clip:!0,interaction:{mode:void 0,axis:void 0,intersect:void 0},common:{drawTime:"afterDatasetsDraw",init:!1,label:{}}},descriptors:{_indexable:!1,_scriptable:t=>!Ts.includes(t)&&t!=="init",annotations:{_allKeys:!1,_fallback:(t,e)=>`elements.${te[mt(e.type)].id}`},interaction:{_fallback:!0},common:{label:{_indexable:Qe,_fallback:!0},_indexable:Qe}},additionalOptionScopes:[""]};function Ce(t,e,n){const{ctx:o,chartArea:s}=t,r=ee.get(t);n&&qn(o,s);const a=js(r.visibleElements,e).sort((i,l)=>i.element.options.z-l.element.options.z);for(const i of a)Rs(o,s,r,i);n&&Jn(o)}function js(t,e){const n=[];for(const o of t)if(o.options.drawTime===e&&n.push({element:o,main:!0}),o.elements&&o.elements.length)for(const s of o.elements)s.options.display&&s.options.drawTime===e&&n.push({element:s});return n}function Rs(t,e,n,o){const s=o.element;o.main?(Mt(n,s,"beforeDraw"),s.draw(t,e),Mt(n,s,"afterDraw")):s.draw(t,e)}const Xe=201,Ls=31536e3,Es=B({__name:"MarketInterestChart",setup(t){Ie.register(Is);const{width:e}=tt(),n=w(()=>e.value<=650),o=J(),s=w(()=>o.selectedMarketInfo),r=w(()=>{var _;return(_=s.value)==null?void 0:_.raw.config}),a={optimalUtil:.8,jumpUtil:.91,maxRate:.99};function i(_){const{optimalUtil:g,jumpUtil:v,maxRate:k}=a;if(_===0)return 0;if(_<=g)return _/g*.0413;if(_<=v){const I=.057999999999999996/(v-g);return .0413+(_-g)*I}const M=(k-.0993)/(1-v);return .0993+(_-v)*M}const l=w(()=>Array.from({length:Xe},(_,g)=>{const v=g*.005;return{utilization:v*100,borrowAPY:i(v)*100}})),d=w(()=>{if(!s.value)return 0;const _=Number(s.value.total_borrowed),g=Number(s.value.available),v=_+g;return v===0?0:_/v}),h=w(()=>{const _=r.value;return _?{baseRate:Number(_.base_rate_per_second),slope1:Number(_.slope1),slope2:Number(_.slope2),optimalUtil:Number(_.optimal_utilization_ratio_bps)/1e4}:null});function u(_){const g=h.value;if(!g)return 0;const{baseRate:v,slope1:k,slope2:M,optimalUtil:I}=g;return(_<I?v+k*_:v+k*I+(_-I)*M)/1e12*Ls/(31/100)*1e3}const f=w(()=>h.value?Array.from({length:Xe},(_,g)=>{const v=g/(Xe-1);return{utilization:+(v*100),borrowAPY:+u(v)}}):[]),p=V({labels:[],datasets:[]});be(f,_=>{_&&(p.value.labels=f.value.map(g=>`${g.utilization.toFixed(2)}%`),p.value.datasets=[{type:"line",borderColor:"#006CE4",pointBackgroundColor:"#006CE4",fill:!1,label:"Borrow APR",data:l.value.map(g=>g.borrowAPY),pointRadius:0}])},{immediate:!0});const b=w(()=>{var _,g;return{responsive:!0,maintainAspectRatio:!1,borderWidth:2,pointRadius:0,pointHoverRadius:2,interaction:{intersect:!1,mode:"index"},elements:{line:{tension:.4,cubicInterpolationMode:"monotone"}},scales:{x:{min:0,max:200,ticks:{autoSkip:!1,maxTicksLimit:10,callback:(v,k,M)=>{const I=[0,17,34,51,68,85,100],R=Number(v)/2;return I.includes(R)?`${R}%`:""},font:{size:n.value?8:12}}},y:{min:0,max:100,ticks:{autoSkip:!1,stepSize:50,color:z.value?"#5B5B5B":"#4E4E4E",callback:(v,k,M)=>`${v}%`,font:{size:n.value?8:12}},grid:{color:z.value?"#2F2F2F":"#DFE0E2",drawBorder:!1},border:{display:!1,dash:[2,2]}}},plugins:{tooltip:{boxPadding:4,usePointStyle:!0,bodySpacing:8,callbacks:{title(v){return`Utilization: ${v[0].label}`},label(v){var M;const k=f.value[v.dataIndex];return`${(M=v==null?void 0:v.dataset)==null?void 0:M.label}: ${F(Number(k==null?void 0:k.borrowAPY)||0)}%`}}},legend:{display:!1},annotation:{annotations:{current:{type:"line",scaleID:"x",value:(Number(d.value)||0)*100*2,borderColor:"#006CE4",borderDash:[2,2],label:{display:!0,content:`Current: ${(d.value*100).toFixed(2)}%`,enabled:!0,position:"center",backgroundColor:"#006CE4",color:"#fff",borderRadius:50,borderWidth:2,borderColor:"#006CE4",font:{size:10,weight:"bold"},yAdjust:-25}},optimal:{type:"line",scaleID:"x",value:(Number((_=h.value)==null?void 0:_.optimalUtil)||0)*100*2,borderColor:"#FFD101",borderWidth:2,borderDash:[2,2],label:{display:!0,content:`Optimal: ${(Number((g=h.value)==null?void 0:g.optimalUtil)||0)*100}%`,enabled:!0,position:"center",backgroundColor:"#FFD101",color:"#111",borderRadius:50,borderWidth:2,borderColor:"#FFD101",font:{size:10,weight:"bold"},yAdjust:-25}}}}}}});return(_,g)=>{const v=it;return S(),$("div",{key:m(f).length,class:"market-interest-chart"},[x(v,{"chart-data":m(p),"chart-options":m(b),"max-ticks-limit":6,"chart-height":"115px"},null,8,["chart-data","chart-options"])])}}}),Vs={class:"interest-wrapper"},Bs={class:"interest-wrapper__details"},Ns={class:"interest-rate"},Os={href:"#",target:"_blank",class:"interest-link"},zs=B({__name:"MarketInterest",setup(t){const e=J(),n=w(()=>{var a;return(a=e.selectedMarketInfo)==null?void 0:a.raw}),o=le(),s=w(()=>o.assetDecimals),r=w(()=>{if(!n.value)return"0%";const a=Number(W(n.value.total_borrowed,s.value)),i=Number(W(n.value.available,s.value)),l=a+i,d=a/l*100;return`${F(d||0,2)}%`});return(a,i)=>{const l=lt;return S(),$("div",Vs,[i[4]||(i[4]=c("div",{class:"interest-wrapper__title"}," Interest rate ",-1)),c("div",Bs,[c("div",Ns,[i[0]||(i[0]=A(" Utilization Rate ")),c("span",null,C(m(r)),1)]),i[2]||(i[2]=c("div",{class:"separator-vert"},null,-1)),c("a",Os,[i[1]||(i[1]=A(" Rate Strategy ")),x(l)]),i[3]||(i[3]=c("div",{class:"separator-vert"},null,-1))]),i[5]||(i[5]=c("div",{class:"separator"},null,-1)),i[6]||(i[6]=c("div",{class:"interest-legend"},[c("div",{class:"interest-legend__item",style:{"--legend-color":"#006CE4"}}," Borrow APR "),c("div",{class:"interest-legend__item",style:{"--legend-color":"#FFD101"}}," Utilization Rate ")],-1))])}}}),Fs={class:"market-info__bottom"},Ws={class:"logo-with-text"},Ys=["src"],Hs=B({__name:"MarketDetailsBottom",setup(t){const e=w(()=>z.value?no:oo);return(n,o)=>{const s=zs,r=Es;return S(),$("div",Fs,[x(s),x(r),o[1]||(o[1]=c("div",{class:"separator-vert"},null,-1)),c("div",Ws,[c("img",{src:m(e),alt:"app logo"},null,8,Ys),o[0]||(o[0]=c("span",null," Stellar Lending ",-1))])])}}}),Us={class:"market-history-chart"},Xs={class:"history-chart__header"},qs={class:"history-chart__chart"},Js=B({__name:"MarketHistoryChartBorrow",setup(t){function e(){const u=[],f=new Date,p=new Date;p.setMonth(f.getMonth()-6);const b=new Date(p);for(;b<=f;){const _=b.toISOString().split("T")[0],g=+(Math.random()*5+5).toFixed(1);u.push({date:String(_),value:g}),b.setDate(b.getDate()+1)}return u}const n=w(()=>e()),{width:o}=tt(),s=w(()=>o.value<=650),r=an(),a=re(r,"activeFilter"),i=w(()=>{const u=new Date;return[...n.value].sort((f,p)=>new Date(f.date).getTime()-new Date(p.date).getTime()).filter(f=>{const p=new Date(f.date);if(a.value.value===7){const b=new Date(u);return b.setDate(u.getDate()-7),p>=b&&p<=u}if(a.value.value===31){const b=new Date(u);return b.setMonth(u.getMonth()-1),p>=b&&p<=u}if(a.value.value===180){const b=new Date(u);return b.setMonth(u.getMonth()-6),p>=b&&p<=u}return!1})}),l=V(12),d=V({labels:[],datasets:[]});be([i,a],([u,f])=>{!u||!f||(d.value.labels=u.map(p=>rn(p.date,f.value===180)),d.value.datasets=[{type:"line",borderColor:"#FFD101",backgroundColor:"#FFD101",label:"Borrow APR",data:u.map(p=>(l.value=Math.max(l.value,p.value),p.value))}])},{immediate:!0});const h=w(()=>({responsive:!0,maintainAspectRatio:!1,fill:!1,borderWidth:2,pointRadius:0,pointHoverRadius:2,interaction:{intersect:!1,mode:"index"},elements:{line:{tension:.4,cubicInterpolationMode:"monotone"}},scales:{y:{max:Math.ceil(l.value),ticks:{color:z.value?"#5B5B5B":"#4E4E4E",callback:(u,f,p)=>`${u}%`,font:{size:s.value?8:12}},grid:{color:z.value?"#2F2F2F":"#DFE0E2",drawBorder:!1},border:{display:!1,dash:[2,2]}}},plugins:{tooltip:{boxPadding:4,usePointStyle:!0,bodySpacing:8,callbacks:{title(u){var b,_;const f=(b=u[0])==null?void 0:b.dataIndex,p=i.value[f];return p!=null&&p.date?ln(p.date):(_=u[0])==null?void 0:_.label},label(u){var f;return(f=u[0])==null?void 0:f.label}}},legend:{display:!1}}}));return(u,f)=>{const p=dn,b=it;return S(),$("div",Us,[c("div",Xs,[f[1]||(f[1]=c("div",{class:"history-chart__header__title"}," Borrow History APR ",-1)),f[2]||(f[2]=c("div",{class:"history-chart__header__badge"}," AVG: 0.14% ",-1)),x(p,{modelValue:m(a),"onUpdate:modelValue":f[0]||(f[0]=_=>X(a)?a.value=_:null),filters:m(r).filters},null,8,["modelValue","filters"])]),c("div",qs,[(S(),Y(b,{key:m(a).value,"chart-data":m(d),"chart-options":m(h),"max-ticks-limit":6,"chart-height":"196px"},null,8,["chart-data","chart-options"]))])])}}}),Zs=B({__name:"JCircularProgress",props:{strokeWidth:{default:20},strokeColor:{default:"#ffd600"},strokeBg:{default:"#ddd"},width:{default:70},background:{default:"#fff"},color:{default:"#111"},progress:{default:0}},setup(t){const e=V(0),n=V(!0);return be(()=>t.progress,()=>{if(!n.value){e.value=t.progress;return}t.progress&&n.value&&setTimeout(()=>{e.value=t.progress,n.value=!1},500)},{immediate:!0}),(o,s)=>(S(),$("div",{class:"j-circular-progress",style:ae({width:`${o.width}px`,height:`${o.width}px`})},[c("div",{class:"progress-data",style:ae({"--stroke-width":`${o.strokeWidth}px`,background:o.background,color:o.color})},C(o.progress)+"% ",5),(S(),$("svg",{width:"250",height:"250",viewBox:"0 0 250 250",class:"circular-progress",style:ae({"--current":m(e),"--stroke-width":`${o.strokeWidth}px`,"--stroke-color":o.strokeColor,"--stroke-background":o.strokeBg,width:`${o.width}px`,height:`${o.width}px`})},s[0]||(s[0]=[c("circle",{class:"bg"},null,-1),c("circle",{class:"fg"},null,-1)]),4))],4))}}),Ks={class:"market-progress__wrapper"},Gs={class:"market-progress"},Qs={class:"market-cap"},ea={class:"market-limit"},Ln=B({__name:"MarketProgress",props:{color:{default:"#006CE4"},cap:{},limit:{default:0},progress:{},isProgress:{type:Boolean,default:!1},detailsColor:{}},setup(t){const e=w(()=>t.limit>0?N(t.limit):"âˆž");return(n,o)=>{const s=Zs;return S(),$("div",Ks,[c("div",Gs,[n.isProgress?(S(),Y(s,{key:0,progress:Number(n.progress),width:60,"stroke-width":25,"stroke-bg":("isDark"in n?n.isDark:m(z))?"#262729":"#EAECF0","stroke-color":n.color,background:("isDark"in n?n.isDark:m(z))?"#111":"#fff",color:("isDark"in n?n.isDark:m(z))?"#fff":"#111"},null,8,["progress","stroke-bg","stroke-color","background","color"])):nt("",!0),Xt(n.$slots,"default")]),o[0]||(o[0]=c("div",{class:"separator"},null,-1)),c("div",{class:"market-progress__details",style:ae({"--color":n.detailsColor})},[c("div",Qs," Cap : "+C(m(N)(n.cap||0)),1),c("div",ea," Limit : "+C(m(e)),1)],4)])}}}),ta={class:"market-details"},na={class:"market-stats"},oa={class:"market-stats__apy"},sa={class:"stats-apy"},aa={class:"stats-params"},ra={class:"stats-params__item"},ia={class:"stats-params__item"},la={class:"market-progress__info"},da={class:"market-progress__info__data"},ua=["href"],ca=B({__name:"MarketDetailsBorrow",setup(t){const e=le(),n=J(),o=w(()=>n.selectedMarketInfo),s=w(()=>{var p;return(p=o.value)==null?void 0:p.raw}),r=w(()=>e.assetDecimals),a=w(()=>{var p;return Number(W((p=s.value)==null?void 0:p.total_borrowed,r.value))||0}),i=w(()=>{var _,g,v;const p=Number(W(((_=s.value)==null?void 0:_.total_borrowed)+((g=s.value)==null?void 0:g.available),r.value))||0,b=Number((v=s.value)==null?void 0:v.config.open_ltv_bps)/1e4;return p*b||0}),l=w(()=>{var p;return Number(a.value*((p=s.value)==null?void 0:p.pool_price)).toFixed(2)||0}),d=w(()=>{var p;return Number(i.value*((p=s.value)==null?void 0:p.pool_price)).toFixed(2)||0}),h=w(()=>{if(!s.value)return 0;const p=a.value/i.value*100;return Number(p||0)}),u=w(()=>{var b;if(!s.value)return 0;const p=Number((b=s.value)==null?void 0:b.config.reserve_ratio_bps)/100;return Number(p||0).toFixed(0)}),f=w(()=>h.value.toFixed(2));return(p,b)=>{var k,M;const _=Ln,g=lt,v=Js;return S(),$("div",ta,[b[7]||(b[7]=c("div",{class:"market-details__title"}," Borrow Info ",-1)),c("div",na,[c("div",oa,[c("div",sa,[b[0]||(b[0]=A(" Borrow APY ")),c("span",null,C(((k=m(o))==null?void 0:k.borrow_apy)||"-"),1)]),c("div",aa,[c("div",ra,[b[1]||(b[1]=A(" Borrow Cap: ")),c("span",null,C(m(F)(m(h),1))+"%",1)]),c("div",ia,[b[2]||(b[2]=A(" Reserve: ")),c("span",null,C(m(u))+"%",1)])])]),b[5]||(b[5]=c("div",{class:"separator-vert"},null,-1)),x(_,{"is-progress":"",progress:m(f),color:"#FFD101",cap:m(a),limit:m(i)},{default:P(()=>[c("div",la,[b[3]||(b[3]=c("div",{class:"market-progress__info__title"}," Total Borrowed ",-1)),c("div",da,[A(C(m(N)(m(a)))+" / "+C(m(N)(m(i)))+" ",1),c("span",null,"$"+C(m(N)(Number(m(l))))+" / $"+C(m(N)(Number(m(d)))),1)])])]),_:1},8,["progress","cap","limit"]),b[6]||(b[6]=c("div",{class:"separator-vert"},null,-1)),c("a",{href:m(Nt)((M=m(s))==null?void 0:M.pool_address,"contract"),target:"_blank",class:"market-penalty justify-content-center"},[b[4]||(b[4]=A(" View contract ")),x(g,{color:"#111"})],8,ua)]),b[8]||(b[8]=c("div",{class:"separator"},null,-1)),x(v)])}}}),fa=Ee(ca,[["__scopeId","data-v-cafff915"]]),ha={class:"market-history-chart"},pa={class:"history-chart__header"},ma={class:"history-chart__chart"},ba=B({__name:"MarketHistoryChartSupply",setup(t){function e(){const u=[],f=new Date,p=new Date;p.setMonth(f.getMonth()-6);const b=new Date(p);for(;b<=f;){const _=b.toISOString().split("T")[0],g=+(Math.random()*5+5).toFixed(1);u.push({date:String(_),value:g}),b.setDate(b.getDate()+1)}return u}const n=w(()=>e()),{width:o}=tt(),s=w(()=>o.value<=650),r=an(),a=re(r,"activeFilter"),i=w(()=>{const u=new Date;return[...n.value].sort((f,p)=>new Date(f.date).getTime()-new Date(p.date).getTime()).filter(f=>{const p=new Date(f.date);if(a.value.value===7){const b=new Date(u);return b.setDate(u.getDate()-7),p>=b&&p<=u}if(a.value.value===31){const b=new Date(u);return b.setMonth(u.getMonth()-1),p>=b&&p<=u}if(a.value.value===180){const b=new Date(u);return b.setMonth(u.getMonth()-6),p>=b&&p<=u}return!1})}),l=V(12),d=V({labels:[],datasets:[]});be([i,a],([u,f])=>{!u||!f||(d.value.labels=u.map(p=>rn(p.date,f.value===180)),d.value.datasets=[{type:"line",borderColor:z.value?"#006CE4":"#4dbef1",backgroundColor:z.value?"#006CE4":"#4dbef1",label:"Supply APR",data:u.map(p=>(l.value=Math.max(l.value,p.value),p.value))}])},{immediate:!0});const h=w(()=>({responsive:!0,maintainAspectRatio:!1,fill:!1,borderWidth:2,pointRadius:0,pointHoverRadius:2,interaction:{intersect:!1,mode:"index"},elements:{line:{tension:.4,cubicInterpolationMode:"monotone"}},scales:{y:{max:Math.ceil(l.value),ticks:{color:z.value?"#5B5B5B":"#4E4E4E",callback:(u,f,p)=>`${u}%`,font:{size:s.value?8:12}},grid:{color:z.value?"#2F2F2F":"#DFE0E2",drawBorder:!1},border:{display:!1,dash:[2,2]}}},plugins:{tooltip:{boxPadding:4,usePointStyle:!0,bodySpacing:8,callbacks:{title(u){var b,_;const f=(b=u[0])==null?void 0:b.dataIndex,p=i.value[f];return p!=null&&p.date?ln(p.date):(_=u[0])==null?void 0:_.label},label(u){var f;return(f=u[0])==null?void 0:f.label}}},legend:{display:!1}}}));return(u,f)=>{const p=dn,b=it;return S(),$("div",ha,[c("div",pa,[f[1]||(f[1]=c("div",{class:"history-chart__header__title"}," Supply History APR ",-1)),f[2]||(f[2]=c("div",{class:"history-chart__header__badge"}," AVG: 0.14% ",-1)),x(p,{modelValue:m(a),"onUpdate:modelValue":f[0]||(f[0]=_=>X(a)?a.value=_:null),filters:m(r).filters},null,8,["modelValue","filters"])]),c("div",ma,[(S(),Y(b,{key:m(a).value,"chart-data":m(d),"chart-options":m(h),"max-ticks-limit":6,"chart-height":"196px"},null,8,["chart-data","chart-options"]))])])}}}),ga={class:"market-details"},_a={class:"market-stats"},ya={class:"market-stats__apy"},va={class:"stats-apy"},wa={class:"stats-params"},ka={class:"stats-params__item"},Ca={class:"stats-params__item"},Ma={class:"market-progress__info"},Sa={class:"market-progress__info__data"},xa={class:"market-penalty"},Da=B({__name:"MarketDetailsSupply",setup(t){const e=le(),n=J(),o=w(()=>n.selectedMarketInfo),s=w(()=>{var _;return(_=o.value)==null?void 0:_.raw}),r=w(()=>e.assetDecimals),a=w(()=>{var _,g;return Number(W(((_=s.value)==null?void 0:_.total_borrowed)+((g=s.value)==null?void 0:g.available),r.value))||0}),i=w(()=>{var g;if(!s.value)return 0;const _=Number((g=s.value)==null?void 0:g.config.close_ltv_bps)/100;return F(_||0,2)}),l=w(()=>{var g;if(!s.value)return 0;const _=Number((g=s.value)==null?void 0:g.config.open_ltv_bps)/100;return F(_||0,2)}),d=w(()=>{var _;return(Number((_=s.value)==null?void 0:_.config.liquidation_close_factor_bps)/100).toFixed(0)}),h=w(()=>{var _;return Number((_=s.value)==null?void 0:_.config.supply_limit)>0}),u=w(()=>{var _;return h.value?Number(W((_=s.value)==null?void 0:_.config.supply_limit,r.value)):0}),f=w(()=>{var _;return a.value*((_=o.value)==null?void 0:_.price)||0}),p=w(()=>{var _;return u.value*((_=o.value)==null?void 0:_.price)||0}),b=w(()=>h.value?Number(a.value/u.value*100).toFixed(2):100);return(_,g)=>{var M;const v=Ln,k=ba;return S(),$("div",ga,[g[7]||(g[7]=c("div",{class:"market-details__title"}," Supply Info ",-1)),c("div",_a,[c("div",ya,[c("div",va,[g[0]||(g[0]=A(" Supply APY ")),c("span",null,C(((M=m(o))==null?void 0:M.deposit_apy)||"-"),1)]),c("div",wa,[c("div",ka,[g[1]||(g[1]=A(" Close LTV: ")),c("span",null,C(m(i))+"%",1)]),c("div",Ca,[g[2]||(g[2]=A(" Open LTV: ")),c("span",null,C(m(l))+"%",1)])])]),g[5]||(g[5]=c("div",{class:"separator-vert"},null,-1)),x(v,{"is-progress":"",progress:m(b),cap:m(a),limit:m(u),"details-color":"#006CE4"},{default:P(()=>[c("div",Ma,[g[3]||(g[3]=c("div",{class:"market-progress__info__title"}," Total Supplied ",-1)),c("div",Sa,[A(C(m(N)(m(a)))+" / "+C(m(h)?m(N)(m(u)):"âˆž")+" ",1),c("span",null,"$"+C(m(N)(m(f),2))+" / "+C(m(h)?`$${m(N)(m(p),2)}`:"âˆž"),1)])])]),_:1},8,["progress","cap","limit"]),g[6]||(g[6]=c("div",{class:"separator-vert"},null,-1)),c("div",xa,[g[4]||(g[4]=A(" Liquidation Penalty: ")),c("span",null,C(m(d))+"%",1)])]),g[8]||(g[8]=c("div",{class:"separator"},null,-1)),x(k)])}}}),Pa={class:"market-info"},Aa=["src","alt"],$a={class:"market-info__body"},Ta=B({__name:"MarketInfoDialog",props:{modelValue:{type:Boolean}},emits:["update:modelValue"],setup(t,{emit:e}){const n=e,o=J(),s=w(()=>o.selectedMarketInfo),r=w({get(){return t.modelValue},set(a){n("update:modelValue",a)}});return(a,i)=>{const l=Da,d=fa,h=Hs,u=ot;return S(),Y(u,{modelValue:m(r),"onUpdate:modelValue":i[0]||(i[0]=f=>X(r)?r.value=f:null),"class-name":"market-info-dialog"},{header:P(()=>{var f,p,b;return[c("div",Pa,[c("img",{src:(f=m(s))==null?void 0:f.asset.icon,alt:(p=m(s))==null?void 0:p.asset.symbol},null,8,Aa),A(" "+C((b=m(s))==null?void 0:b.asset.symbol)+" Info ",1)])]}),default:P(()=>[c("div",$a,[x(l),i[1]||(i[1]=c("div",{class:"separator-vert"},null,-1)),x(d)]),i[2]||(i[2]=c("div",{class:"separator"},null,-1)),x(h)]),_:1,__:[2]},8,["modelValue"])}}}),Ia=B({__name:"JCheckbox",props:{bold:{type:Boolean},size:{default:"lg"},modelValue:{}},emits:["update:modelValue"],setup(t,{emit:e}){const n=Nn(t,["bold","modelValue","size"]),o=e,s=w({get(){return t.modelValue},set(r){o("update:modelValue",r)}});return(r,a)=>{const i=so;return S(),Y(i,On({modelValue:m(s),"onUpdate:modelValue":a[0]||(a[0]=l=>X(s)?s.value=l:null),size:r.size,value:!0,"unchecked-value":!1,class:["j-checkbox",{bold:r.bold}],state:null},n),{default:P(()=>[Xt(r.$slots,"default")]),_:3},16,["modelValue","size","class"])}}}),ja={width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Ra=["clip-path"],La=["id"];function Ea(t,e){return S(),$("svg",ja,[c("g",{"clip-path":"url(#"+t.idMap.clip0_5426_1457+")"},e[0]||(e[0]=[c("path",{d:"M7.99917 2.40002C8.35417 2.40002 8.68168 2.58752 8.86168 2.89502L14.2617 12.095C14.4442 12.405 14.4442 12.7875 14.2667 13.0975C14.0892 13.4075 13.7567 13.6 13.3992 13.6H2.59917C2.24167 13.6 1.90917 13.4075 1.73167 13.0975C1.55417 12.7875 1.55667 12.4025 1.73667 12.095L7.13667 2.89502C7.31667 2.58752 7.64417 2.40002 7.99917 2.40002ZM7.99917 5.60002C7.66667 5.60002 7.39917 5.86752 7.39917 6.20002V9.00002C7.39917 9.33252 7.66667 9.60002 7.99917 9.60002C8.33167 9.60002 8.59918 9.33252 8.59918 9.00002V6.20002C8.59918 5.86752 8.33167 5.60002 7.99917 5.60002ZM8.79918 11.2C8.79918 10.9879 8.71489 10.7844 8.56486 10.6343C8.41483 10.4843 8.21135 10.4 7.99917 10.4C7.787 10.4 7.58352 10.4843 7.43349 10.6343C7.28346 10.7844 7.19917 10.9879 7.19917 11.2C7.19917 11.4122 7.28346 11.6157 7.43349 11.7657C7.58352 11.9157 7.787 12 7.99917 12C8.21135 12 8.41483 11.9157 8.56486 11.7657C8.71489 11.6157 8.79918 11.4122 8.79918 11.2Z",fill:"#FFB726"},null,-1)]),8,Ra),c("defs",null,[c("clipPath",{id:t.idMap.clip0_5426_1457},e[1]||(e[1]=[c("rect",{width:"16",height:"16",fill:"white"},null,-1)]),8,La)])])}const Va=zn({name:"app-warning-color",render:Ea,setup(){return{idMap:{clip0_5426_1457:"uicons-"+Math.random().toString(36).substr(2,10)}}}}),Ba={class:"supply-dialog__title"},Na=["src","alt"],Oa={class:"supply-dialog__body"},za={class:"dialog-info-table"},Fa={class:"supply-warning"},Wa={class:"supply-agree"},Ya={class:"supply-dialog-action"},Ha={class:"action-info"},Ua=B({__name:"BorrowDialog",props:qt({data:{},modelValue:{type:Boolean}},{modelValue:{default:!1},modelModifiers:{}}),emits:["update:modelValue"],setup(t){const e=le(),n=w(()=>e.jLendClient),o=w(()=>e.assetDecimals),s=J(),r=st(),a=Ot(),i=w(()=>a.publicKey),l=Hn(),d=re(r,"borrowAmount"),h=V(!1),u=V(!1),f=V(0);zt([()=>t.data,u,i],async([D,T])=>{var L;if(!D||!i.value)return;const E=await((L=n.value)==null?void 0:L.sdk.borrowTx(i.value,(D==null?void 0:D.raw.pool_address)||"",0));f.value=n.value.sdk.getTransactionFee(E)},{immediate:!0,debounce:300});const p=w(()=>{if(!t.data)return 0;if(t.data.raw.token_ticker==="XLM")return a.nativeBalance;const[,D]=Kt(t.data.raw.name);return a.getAssetBalance(String(D))}),b=w(()=>{var E;if(!t.data)return 0;const D=Number(((E=t.data)==null?void 0:E.raw.config.utilization_ratio_limit_bps)||0)/1e4;return Number(W(t.data.raw.available,o.value))*D}),_=w(()=>{var oe;if(!t.data)return 0;const D=l.userTotalDepositInUsd,T=Number(l.userTotalBorrowedInUsd)||0,E=Number(((oe=t.data)==null?void 0:oe.raw.config.open_ltv_bps)||0)/1e4,L=Number(b.value)*Number(t.data.price),O=Number(D*E)||0,H=Math.min(Math.max(O-T,0),L)/Number(t.data.price);return Math.max(H,0)}),g=w(()=>{var oe,q;const D=l.userTotalDepositInUsd,T=l.userTotalBorrowedInUsd,E=((oe=t.data)==null?void 0:oe.price)||0,L=Number(((q=t.data)==null?void 0:q.raw.config.close_ltv_bps)||0)/1e4,O=(d.value||0)*E,y=T+O;let H=D*L/y;return Number.isFinite(H)||(H=0),Math.min(H,10)}),v=w(()=>{if(!t.data)return[];const D=Number(t.data.raw.config.liquidation_close_factor_bps)/100,T=Number(t.data.raw.config.close_ltv_bps)/100;return[{name:"healthFactor",label:"Health Factor",value:F(g.value,2)},{label:"Pool available amount to borrow",value:N(b.value)},{label:"User available amount to borrow",value:N(_.value)},{label:"Max LTV",value:t.data.max_ltv},{label:"Liquidation LTV",value:`${F(T||0,2)}%`},{label:"Liq. Penalty",value:`${F(D||0,2)}%`},{label:"Transaction Fee",value:`${f.value} XLM`}]}),k=Jt(t,"modelValue"),M=w(()=>{var D;return s.poolDepositAddr===((D=t.data)==null?void 0:D.raw.pool_address)});async function I(){var D,T,E;if(!(!i.value||!((D=t.data)!=null&&D.raw.pool_address))){if(!d.value||d.value<=0){en(".borrow-dialog");return}await r.borrow((T=t.data)==null?void 0:T.raw.pool_address,d.value,(E=t.data)==null?void 0:E.raw.name,b.value)}}let R;return be(()=>t.modelValue,async D=>{if(clearInterval(R),!D){setTimeout(()=>{d.value=0},Ft),h.value=!1;return}R=Wt(()=>{u.value=!0,Zt(()=>{u.value=!1})},Yt)}),(D,T)=>{const E=Gt,L=Qt,O=Va,y=Ia,H=un,oe=ot;return S(),Y(oe,{modelValue:k.value,"onUpdate:modelValue":T[2]||(T[2]=q=>k.value=q),"class-name":"supply-dialog borrow-dialog"},{header:P(()=>{var q,ve,j;return[c("div",Ba,[c("img",{src:(q=D.data)==null?void 0:q.asset.icon,alt:`${(ve=D.data)==null?void 0:ve.asset.symbol} icon`},null,8,Na),c("span",null,"Borrow "+C((j=D.data)==null?void 0:j.asset.symbol),1)])]}),default:P(()=>{var q,ve;return[c("div",Oa,[x(E,{modelValue:m(d),"onUpdate:modelValue":T[0]||(T[0]=j=>X(d)?d.value=j:null),balance:m(_),fee:m(Ht),rules:[j=>j&&Number(j)<m(_)||"Borrow limit exceeded"]},{"label-right":P(()=>{var j;return[A(" Wallet: "+C(m(p))+" "+C((j=D.data)==null?void 0:j.asset.symbol),1)]}),_:1},8,["modelValue","balance","fee","rules"]),c("div",za,[(S(!0),$(Z,null,xe(m(v),j=>(S(),$("div",{key:j.label,class:"dialog-info-table__item"},[c("span",null,C(j==null?void 0:j.label),1),c("span",null,[(j==null?void 0:j.name)==="healthFactor"&&m(M)?(S(),Y(L,{key:0,width:"14px",style:{padding:"0",width:"14px","margin-left":"auto"}})):(S(),$(Z,{key:1},[A(C(j==null?void 0:j.value),1)],64))])]))),128))]),c("div",Fa,[x(O,{class:"warning-icon"}),T[3]||(T[3]=c("div",null,[c("span",null,"Attention"),A(": Parameter changes via governance can alter your account health factor and risk of liquidation. ")],-1))]),c("div",Wa,[x(y,{modelValue:m(h),"onUpdate:modelValue":T[1]||(T[1]=j=>X(h)?h.value=j:null)},{default:P(()=>T[4]||(T[4]=[A(" I acknowledge the risks involved. ")])),_:1,__:[4]},8,["modelValue"])]),c("div",Ya,[c("div",Ha,[T[5]||(T[5]=c("span",null,"Borrow APY",-1)),c("span",null,C((q=D.data)==null?void 0:q.borrow_apy),1)]),x(H,{variant:"accent",loading:m(M),pool:(ve=D.data)==null?void 0:ve.raw,disabled:!m(h),onClickHandler:I},{default:P(()=>{var j;return[A(" Borrow "+C((j=D.data)==null?void 0:j.asset.symbol),1)]}),_:1},8,["loading","pool","disabled"])])])]}),_:1},8,["modelValue"])}}}),Xa={class:"supply-dialog__title"},qa=["src","alt"],Ja={class:"supply-dialog__body"},Za={key:0,class:"dialog-info-table"},Ka=["href"],Ga={key:1},Qa={class:"supply-dialog-action"},er={class:"action-info"},tr=B({__name:"SupplyDialog",props:qt({data:{},modelValue:{type:Boolean}},{modelValue:{default:!1},modelModifiers:{}}),emits:["update:modelValue"],setup(t){const e=J(),n=st(),o=re(n,"depositAmount"),s=re(n,"collateralOnly"),r=le(),a=w(()=>r.jLendClient),i=Ot(),l=w(()=>i.publicKey),d=w(()=>{var M;if(!t.data)return 0;if(t.data.raw.token_ticker==="XLM")return i.nativeBalance;const[,k]=Kt((M=t.data)==null?void 0:M.raw.name);return i.getAssetBalance(String(k))}),h=w(()=>{var k;return e.poolDepositAddr===((k=t.data)==null?void 0:k.raw.pool_address)}),u=V(!1),f=V(0);zt([()=>t.data,u,l],async([k,M])=>{var R;if(!k||!l.value)return;const I=await((R=a.value)==null?void 0:R.sdk.depositTx(l.value,(k==null?void 0:k.raw.pool_address)||"",0));f.value=a.value.sdk.getTransactionFee(I)},{immediate:!0,debounce:300});const p=V(0),b=w(()=>{if(!t.data)return[];const k=t.data.supply_limit&&t.data.supply_limit>0;return p.value=k?Math.max(Number(t.data.supply_limit)||0-Number(t.data.total_supply),0):0,[{name:"limit",label:"Supply Limit",value:k?Re(p.value||0,2,2):"-"},{name:"market",label:"Market",value:"Main"},{name:"contract",label:"Contract",value:t.data.raw.pool_address||""},{name:"fee",label:"Transaction Fee",value:`${f.value} XLM`}]}),_=Jt(t,"modelValue");async function g(){var k,M,I,R,D;if(!(!l.value||!((k=t.data)!=null&&k.raw.pool_address))){if(!o.value||o.value<=0){en(".supply-dialog__input");return}s.value?await n.addCollateral((M=t.data)==null?void 0:M.raw.pool_address,o.value,(I=t.data)==null?void 0:I.raw.name):await n.deposit((R=t.data)==null?void 0:R.raw.pool_address,o.value,(D=t.data)==null?void 0:D.raw.name)}}let v;return be(()=>t.modelValue,async k=>{if(clearInterval(v),!k){setTimeout(()=>{o.value=0},Ft),s.value=!1;return}v=Wt(()=>{u.value=!0,Zt(()=>{u.value=!1})},Yt)}),(k,M)=>{const I=Gt,R=lt,D=ao,T=un,E=ot;return S(),Y(E,{modelValue:_.value,"onUpdate:modelValue":M[2]||(M[2]=L=>_.value=L),"class-name":"supply-dialog"},{header:P(()=>{var L,O,y;return[c("div",Xa,[c("img",{src:(L=k.data)==null?void 0:L.asset.icon,alt:`${(O=k.data)==null?void 0:O.asset.symbol} icon`},null,8,qa),c("span",null,"Supply "+C((y=k.data)==null?void 0:y.asset.symbol),1)])]}),default:P(()=>{var L,O;return[c("div",Ja,[x(I,{modelValue:m(o),"onUpdate:modelValue":M[0]||(M[0]=y=>X(o)?o.value=y:null),balance:m(d),limit:m(p),fee:m(Ht)+m(f),class:"supply-dialog__input",rules:[y=>y&&Number(y)<m(d)||"Insufficient balance",y=>m(p)<=0||Number(y)<=m(p)||"Pool supply limit"]},{"label-right":P(()=>{var y;return[A(" Wallet: "+C(m(d))+" "+C((y=k.data)==null?void 0:y.asset.symbol),1)]}),_:1},8,["modelValue","balance","limit","fee","rules"]),m(b).length>0?(S(),$("div",Za,[(S(!0),$(Z,null,xe(m(b),y=>(S(),$("div",{key:y==null?void 0:y.label,class:"dialog-info-table__item"},[c("span",null,C(y==null?void 0:y.label),1),(y==null?void 0:y.name)==="contract"?(S(),$("a",{key:0,href:m(Nt)(String(y==null?void 0:y.value),"contract"),target:"_blank"},[A(C(m(ro)(y==null?void 0:y.value,5))+" ",1),x(R)],8,Ka)):(S(),$("span",Ga,C(y==null?void 0:y.value),1))]))),128))])):nt("",!0),x(D,{modelValue:m(s),"onUpdate:modelValue":M[1]||(M[1]=y=>X(s)?s.value=y:null),size:"small"},{append:P(()=>M[3]||(M[3]=[A(" Collateral Only ")])),_:1},8,["modelValue"]),c("div",Qa,[c("div",er,[M[4]||(M[4]=c("span",null,"Supply APY",-1)),c("span",null,C((L=k.data)==null?void 0:L.deposit_apy),1)]),x(T,{variant:"primary",loading:m(h),pool:(O=k.data)==null?void 0:O.raw,onClickHandler:g},{default:P(()=>{var y;return[A(" Supply "+C((y=k.data)==null?void 0:y.asset.symbol),1)]}),_:1},8,["loading","pool"])])])]}),_:1},8,["modelValue"])}}}),nr={key:1,class:"table-wrapper"},or={class:"market-table__asset"},sr=["src"],ar={class:"market-table__asset__info"},rr={class:"market-table__asset__info__name"},ir={class:"market-table__asset__info__symbol"},lr={class:"table-cell justify-content-end"},dr={class:"table-cell justify-content-end"},ur={class:"table-cell justify-content-center"},cr={class:"table-cell justify-content-center"},fr={class:"table-cell justify-content-end"},hr={class:"table-cell justify-content-end"},pr={class:"table-cell justify-content-end market-table__action"},mr={class:"no-data"},br=B({__name:"MarketTable",setup(t){const e=V(!1),n=le(),o=J(),s=st(),r=w(()=>n.assetDecimals),a=w(()=>o.selectedMarketPools),i=w(()=>o.state.loading),l=[{key:"asset",label:"Asset",align:"left"},{key:"total_supply",label:"Total Supply",align:"right"},{key:"total_borrowed",label:"Total Borrowed",align:"right"},{key:"deposit_apy",label:"Deposit APY",align:"center"},{key:"borrow_apy",label:"Borrow APY",align:"center"},{key:"utilization_rate",label:"Utilization Rate",align:"right"},{key:"max_ltv",label:"Max LTV",align:"center"},{key:"action",label:""}],d=w(()=>a.value.map(g=>{const v=g.token_ticker,k=Vn(v),M=En(v),I=Number(W(g.available+g.total_borrowed+g.total_collateral,r.value))||0,R=Number(W(g.total_borrowed,r.value))||0,D=g.pool_apy.supply_bps/100,T=g.pool_apy.borrow_bps/100,E=Number(g.total_borrowed)/Number(g.available+g.total_borrowed)*100,L=Number(g.config.open_ltv_bps)/100,O=Number(W(g.config.supply_limit,r.value))||0;return{raw:g,asset:{name:k,symbol:v,icon:M},total_supply:I,total_borrowed:R,deposit_apy:`${F(D||0,2)}%`,borrow_apy:`${F(T||0,2)}%`,utilization_rate:`${F(E||0,2)}%`,max_ltv:`${F(L||0,2)}%`,action:"Supply",price:Number(g.pool_price),supply_limit:O,available:Number(g.available)/10**r.value,pool_address:g.pool_address}})),h=V(!1),u=V(!1),f=V(),p=w(()=>d.value.find(g=>g.pool_address===f.value));async function b(g,v){var k;f.value=(k=g.item)==null?void 0:k.pool_address,v==="supply"?h.value=!0:u.value=!0}function _(g,v,k){o.selectedMarketInfo=g,e.value=!0}return(g,v)=>{const k=tn,M=Xn,I=Un,R=Ut,D=Bn,T=Qt,E=tr,L=Ua,O=Ta;return S(),$(Z,null,[m(a).length===0&&m(i)?(S(),$(Z,{key:0},[x(k,{height:"36","full-width":"",style:{"border-radius":"8px"}}),x(k,{height:"80","full-width":"",style:{"margin-top":"-8px","border-radius":"8px"}})],64)):(S(),$("div",nr,[x(D,{"show-empty":"",borderless:"",fields:l,items:m(d),responsive:"",class:"market-table",onRowClicked:_},Fn({"cell(asset)":P(y=>[c("div",or,[c("img",{src:y.item.asset.icon,alt:""},null,8,sr),c("div",ar,[c("div",rr,C(y.item.asset.symbol),1),c("div",ir,C(y.item.asset.name),1)])])]),"cell(total_supply)":P(y=>[c("div",lr,[x(M,{"tooltip-class":"with-price"},{content:P(()=>[A(C(m(Re)(y.item.total_supply))+" "+C(y.item.asset.symbol)+" ",1),v[3]||(v[3]=c("br",null,null,-1)),c("span",null,"$"+C(m($e)(y.item.total_supply,y.item.price,!1)),1)]),default:P(()=>[c("strong",null,C(y.item.total_supply>1e3?m(N)(y.item.total_supply):y.item.total_supply),1),c("span",null,"$"+C(m($e)(y.item.total_supply,y.item.price)),1)]),_:2},1024)])]),"cell(total_borrowed)":P(y=>[c("div",dr,[x(M,{"tooltip-class":"with-price"},{content:P(()=>[A(C(m(Re)(y.item.total_borrowed))+" "+C(y.item.asset.symbol)+" ",1),v[4]||(v[4]=c("br",null,null,-1)),c("span",null,"$"+C(m($e)(y.item.total_borrowed,y.item.price,!1)),1)]),default:P(()=>[c("strong",null,C(m(N)(y.item.total_borrowed)),1),c("span",null,"$"+C(m($e)(y.item.total_borrowed,y.item.price)),1)]),_:2},1024)])]),"cell(deposit_apy)":P(y=>[c("div",ur,[x(I,{color:"#111",variant:"success",size:"md"},{default:P(()=>[A(C(y.item.deposit_apy),1)]),_:2},1024)])]),"cell(borrow_apy)":P(y=>[c("div",cr,[x(I,{color:"#111",variant:"warning",size:"md"},{default:P(()=>[A(C(y.item.borrow_apy),1)]),_:2},1024)])]),"cell(utilization_rate)":P(y=>[c("div",fr,C(y.item.utilization_rate),1)]),"cell(max_ltv)":P(y=>[c("div",hr,C(y.item.max_ltv),1)]),"cell(action)":P(y=>[c("div",pr,[x(R,{size:"lg",pill:"","icon-right":"",disabled:m(s).isDisabled(y.item.pool_address,"deposit"),loading:m(s).isLoading(y.item.pool_address,"deposit"),onClick:H=>b(y,"supply")},{default:P(()=>v[5]||(v[5]=[A(" Supply ")])),_:2,__:[5]},1032,["disabled","loading","onClick"]),x(R,{size:"lg",pill:"","icon-right":"",variant:"accent",disabled:m(s).isDisabled(y.item.pool_address,"borrow"),loading:m(s).isLoading(y.item.pool_address,"borrow"),onClick:H=>b(y,"borrow")},{default:P(()=>v[6]||(v[6]=[A(" Borrow ")])),_:2,__:[6]},1032,["disabled","loading","onClick"])])]),empty:P(()=>[Wn(c("div",mr," No Markets ",512),[[Yn,!m(i)]])]),_:2},[xe(l,y=>({name:`head(${y.key})`,fn:P(H=>[c("span",{style:ae({"--align":y.align})},C(H.label),5)])}))]),1032,["items"]),m(i)?(S(),Y(T,{key:0},{default:P(()=>v[7]||(v[7]=[A(" Loading... ")])),_:1,__:[7]})):nt("",!0)])),x(E,{modelValue:m(h),"onUpdate:modelValue":v[0]||(v[0]=y=>X(h)?h.value=y:null),data:m(p)},null,8,["modelValue","data"]),x(L,{modelValue:m(u),"onUpdate:modelValue":v[1]||(v[1]=y=>X(u)?u.value=y:null),data:m(p)},null,8,["modelValue","data"]),x(O,{modelValue:m(e),"onUpdate:modelValue":v[2]||(v[2]=y=>X(e)?e.value=y:null)},null,8,["modelValue"])],64)}}}),gr={class:"market-filters"},_r=B({__name:"MarketFilters",setup(t){const e=J(),n=re(e,"selectedMarket");return(o,s)=>{const r=Ut;return S(),$("div",gr,[(S(!0),$(Z,null,xe(m(e).state.markets,a=>(S(),Y(r,{key:a,pill:"",variant:a.toLowerCase()===m(n).toLowerCase()?"primary":"secondary",size:"sm",onClick:i=>n.value=a},{default:P(()=>[A(C(a),1)]),_:2},1032,["variant","onClick"]))),128))])}}}),yr={},vr={class:"markets card"};function wr(t,e){const n=_r,o=br;return S(),$("div",vr,[x(n),x(o)])}const kr=Ee(yr,[["render",wr]]),Cr=`<svg width="30" height="30" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M11.2499 27.5H18.7499C24.9999 27.5 27.4999 25 27.4999 18.75V11.25C27.4999 5 24.9999 2.5 18.7499 2.5H11.2499C4.99988 2.5 2.49988 5 2.49988 11.25V18.75C2.49988 25 4.99988 27.5 11.2499 27.5Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M9.99988 23.75H19.9999C22.4999 23.75 23.7499 22.5 23.7499 20V10C23.7499 7.5 22.4999 6.25 19.9999 6.25H9.99988C7.49988 6.25 6.24988 7.5 6.24988 10V20C6.24988 22.5 7.49988 23.75 9.99988 23.75Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M6.24988 11.875H9.34987C11.0749 11.875 12.4749 13.275 12.4749 15C12.4749 16.725 11.0749 18.125 9.34987 18.125H6.24988" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M23.7499 12.4875H19.9999" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M23.7499 17.5H19.9999" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M9.00012 15H9.12512" stroke="currentColor" stroke-width="1.5" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
`,Mr={class:"total-card__info"},Sr={class:"total-card__title"},xr={class:"total-card__body"},Dr=["innerHTML"],Pr=B({__name:"TotalCard",props:{title:{},body:{},icon:{default:()=>Cr},color:{default:"#fff"},bgColor:{default:"#006CE4"},loading:{type:Boolean}},setup(t){return(e,n)=>(S(),$("div",{class:"total-card",style:ae({color:e.color,backgroundColor:e.bgColor})},[c("div",Mr,[c("div",Sr,C(e.title),1),c("div",xr,C(e.body),1)]),c("div",{class:"total-card__icon",style:ae({color:e.bgColor}),innerHTML:e.icon},null,12,Dr)],4))}}),Ar=`<svg width="30" height="30" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M11.2231 2.5H18.7231C24.9731 2.5 27.4731 5 27.4731 11.25V18.75C27.4731 25 24.9731 27.5 18.7231 27.5H11.2231C4.97314 27.5 2.47314 25 2.47314 18.75V11.25C2.47314 5 4.97314 2.5 11.2231 2.5Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M10.7126 19.0875L18.8876 10.9125" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M11.225 12.9625C12.0742 12.9625 12.7625 12.2742 12.7625 11.425C12.7625 10.5759 12.0742 9.8875 11.225 9.8875C10.3759 9.8875 9.6875 10.5759 9.6875 11.425C9.6875 12.2742 10.3759 12.9625 11.225 12.9625Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M19.4 20.1125C20.2492 20.1125 20.9375 19.4241 20.9375 18.575C20.9375 17.7258 20.2492 17.0375 19.4 17.0375C18.5509 17.0375 17.8625 17.7258 17.8625 18.575C17.8625 19.4241 18.5509 20.1125 19.4 20.1125Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
`,$r={class:"market-info"},Tr={class:"total-card market-size"},Ir={class:"total-card__info"},jr={class:"total-card__body"},Rr=B({__name:"MarketInfo",setup(t){const e=J(),n=le(),o=re(n,"assetDecimals"),s=w(()=>e.state.loading),r=w(()=>e.state.pools),a=w(()=>{var d;return(d=r.value)==null?void 0:d.reduce((h,u)=>{const f=Number(W(u.total_borrowed,o.value)),p=u.available+u.total_borrowed+u.total_collateral,b=Number(W(p,o.value))*Number(u.pool_price);return h.total_borrowed+=f*Number(u.pool_price),h.total_collateral+=b,h},{total_collateral:0,total_borrowed:0})}),i=w(()=>N(a.value.total_collateral+a.value.total_borrowed));function l(d){return d<1e6?Re(d,2,2):N(d)}return(d,h)=>{const u=tn,f=Pr;return S(),$("div",$r,[m(s)?(S(),$(Z,{key:0},xe(2,p=>x(u,{key:p,width:"337",height:"168",style:{"border-radius":"16px"}})),64)):(S(),$(Z,{key:1},[x(f,{title:"Total Collateral",body:`$${l(m(a).total_collateral)}`},null,8,["body"]),x(f,{title:"Total Borrowing",body:`$${l(m(a).total_borrowed)}`,color:"#111","bg-color":"#FFD101",icon:m(Ar)},null,8,["body","icon"])],64)),c("div",Tr,[c("div",Ir,[h[0]||(h[0]=c("div",{class:"total-card__title"}," Total market size ",-1)),c("div",jr,[m(s)?(S(),Y(u,{key:0,height:"28","full-width":""})):(S(),$(Z,{key:1},[A(" $"+C(m(i)),1)],64))])])])])}}}),Lr={},Er={class:"markets-page container"};function Vr(t,e){const n=Rr,o=kr;return S(),$("main",Er,[e[0]||(e[0]=c("h2",{class:"markets-page__title"}," Stellar Lending ",-1)),x(n),x(o)])}const Br=Ee(Lr,[["render",Vr]]),Nr={};function Or(t,e){const n=Br;return S(),Y(n)}const qr=Ee(Nr,[["render",Or]]);export{qr as default};
